webpackJsonp([12,33,74],{1:function(e,t,n){(function(t){e.exports=t["_"]=n(87)}).call(t,n(7))},10:function(e,t,n){"use strict";t["c"]=d;t["b"]=v;t["a"]=g;var r=n(1395);var i=n.n(r);var a=n(1);var o=n.n(a);var s=n(7410);var u=n.n(s);function l(e){if(u.a.paths.indexOf(e)>=0)return true;if(Object(a["some"])(u.a.prefixes,function(t){return 0===e.indexOf(t)}))return true;return false}var c={};function f(e){c[e]||(c[e]=0);c[e]+=1}window.showFallbackCalls=function e(){return Object(a["sortBy"])(Object(a["map"])(c,function(e,t){t,e}),"value")};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a["noop"];if(l(e))throw new Error("Unable to adapt "+e+": this is a blacklisted function and should not be used from modern code. See #dhtml-modern for help.");return function(){if(!Object(a["hasIn"])(window,e)){f(e);return t.apply(void 0,arguments)}var n=Object(a["get"])(window,e);return Object(a["isFunction"])(n)?n.apply(void 0,arguments):n}}var _=function e(t,n,r){var a=i()(r,1),o=a[0];return t(o)};function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_;var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Promise.resolve;if(l(e))throw new Error("Unable to adapt "+e+": this is a blacklisted function and should not be used from modern code. See #dhtml-modern for help.");return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];if(!Object(a["hasIn"])(window,e)){f(e);return n()}var s=Object(a["get"])(window,e);if(!Object(a["isFunction"])(s))throw new Error(e+" is not a function");return new Promise(function(e,n){s.apply(void 0,i.concat([function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];t(e,n,i)}]))})}}function g(e,t){var n=d(e,t);return function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(!Object(a["isObject"])(t))throw new Error("adaptFunctionWithFallbackAndStateGuard: "+e+" must be given a state object");return n.apply(void 0,i)}}},104:function(e,t,n){"use strict";n.d(t,"a",function(){return i});n.d(t,"d",function(){return a});n.d(t,"e",function(){return o});n.d(t,"h",function(){return u});n.d(t,"g",function(){return l});n.d(t,"f",function(){return c});n.d(t,"c",function(){return f});n.d(t,"b",function(){return d});var r=n(10);var i=Object(r["c"])("TS.format.cleanMsg",function(e){return e});var a=Object(r["c"])("TS.format.extractIds",function(){return{c_ids:[],m_ids:[]}});var o=Object(r["c"])("TS.format.formatWithOptions",function(e){return e});var s=Object(r["c"])("TS.format.formatCurrentStatus",function(){return""});var u=Object(r["c"])("TS.format.unFormatMsg",function(e){return e});var l=Object(r["c"])("TS.format.shouldAllowIntraWordFormatting",function(){return false});var c=Object(r["c"])("TS.format.replaceHighlightMarkers",function(e){return e});var f=Object(r["c"])("TS.format.doEmoticonConversion",function(e){return e});var d=Object(r["c"])("TS.format.texty.convertContentsStringToDisplayString",function(){return false})},115:function(e,t,n){"use strict";var r=n(282);n.d(t,"a",function(){return r["a"]});n.d(t,"b",function(){return r["b"]});n.d(t,"c",function(){return r["c"]});n.d(t,"d",function(){return r["d"]});n.d(t,"e",function(){return r["e"]});n.d(t,"f",function(){return r["f"]});n.d(t,"g",function(){return r["g"]});n.d(t,"h",function(){return r["h"]})},1333:function(e,t,n){e.exports={default:n(7357),__esModule:true}},1336:function(e,t,n){e.exports={default:n(7359),__esModule:true}},134:function(e,t,n){"use strict";t["a"]=u;var r=n(1395);var i=n.n(r);var a=n(1);var o=n.n(a);var s=/\/services\/(B[0-9a-z]{1,14})$/i;function u(e){if(!Object(a["isString"])(e))return null;var t=e.match(s)||[null,null],n=i()(t,2),r=n[1];return r}},1348:function(e,t,n){e.exports={default:n(7370),__esModule:true}},1370:function(e,t,n){e.exports={default:n(7384),__esModule:true}},1395:function(e,t,n){"use strict";t.__esModule=true;var r=n(1396);var i=s(r);var a=n(1399);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){var n=[];var r=true;var i=false;var a=void 0;try{for(var s=(0,o.default)(e),u;!(r=(u=s.next()).done);r=true){n.push(u.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,i.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},1396:function(e,t,n){e.exports={default:n(7391),__esModule:true}},1399:function(e,t,n){e.exports={default:n(7393),__esModule:true}},168:function(e,t,n){"use strict";var r=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return!!/(Slack)/g.test(t)};t["a"]=r},189:function(e,t,n){"use strict";t.__esModule=true;var r=n(1370);var i=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},194:function(e,t,n){(function(t){e.exports=t["bowser"]=n(337)}).call(t,n(7))},21710:function(e,t,n){"use strict";t["b"]=i;t["c"]=a;t["e"]=o;t["d"]=s;t["a"]=u;function r(e){return"string"===typeof e||e instanceof String}function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"";if(0===Object.keys(e).length)return"";var n=Object.keys(e).map(function(n){if(t){var i=e[n];if(r(i)){var a=i.split("+");if(a.length>1){var o=a.map(function(e){return encodeURIComponent(e)});return encodeURIComponent(n)+"="+o.join("+")}}}return encodeURIComponent(n)+"="+encodeURIComponent(e[n])});return"?"+n.join("&")}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&";if("string"!==typeof e)return{};if("?"===e[0])return a(e.slice(1),t);var n={};var r=e.split(t);for(var i=0;i<r.length;i+=1){var o=r[i].indexOf("=");if(-1!==o){var s=r[i].substring(0,o);var u=r[i].substring(o+1);n[s]=unescape(u)}else r[i].length&&(n[r[i]]="")}return n}function o(e,t,n,r){var o=a(e);o[t]=n;return i(o,r)}function s(e,t){var n=a(e);if(!Object.prototype.hasOwnProperty.call(n,t))return e;delete n[t];return i(n)}function u(e){var t=a(e);var n=Object.keys(t).filter(function(e){return 0===e.indexOf("feature_")}).reduce(function(e,n){var r=e;r[n]=parseInt(t[n],10);return r},{});return n}},21718:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["compareVersions"]=r;function r(e,t){e.major||(e.major=0);e.minor||(e.minor=0);e.patch||(e.patch=0);t.major||(t.major=0);t.minor||(t.minor=0);t.patch||(t.patch=0);if(e.major===t.major){if(e.minor==t.minor){if(e.patch==t.patch)return 0;return e.patch>t.patch?1:-1}return e.minor>t.minor?1:-1}return e.major>t.major?1:-1}},21926:function(e,t,n){"use strict";var r=n(388);n.d(t,"a",function(){return r["c"]});n.d(t,"b",function(){return r["i"]})},22903:function(e,t,n){"use strict";t.__esModule=true;var r=n(22905);var i=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},22905:function(e,t,n){e.exports={default:n(22906),__esModule:true}},22906:function(e,t,n){n(7330);n(22907);e.exports=n(7302).Array.from},22907:function(e,t,n){"use strict";var r=n(7344);var i=n(7308);var a=n(7321);var o=n(22908);var s=n(22909);var u=n(7364);var l=n(22910);var c=n(7395);i(i.S+i.F*!n(22911)(function(e){Array.from(e)}),"Array",{from:function e(t){var n=a(t);var i="function"==typeof this?this:Array;var f=arguments.length;var d=f>1?arguments[1]:void 0;var _=void 0!==d;var v=0;var g=c(n);var m,p,h,S;_&&(d=r(d,f>2?arguments[2]:void 0,2));if(void 0==g||i==Array&&s(g)){m=u(n.length);for(p=new i(m);m>v;v++)l(p,v,_?d(n[v],v):n[v])}else for(S=g.call(n),p=new i;!(h=S.next()).done;v++)l(p,v,_?o(S,d,[h.value,v],true):h.value);p.length=v;return p}})},22908:function(e,t,n){var r=n(7315);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e["return"];void 0!==a&&r(a.call(e));throw t}}},22909:function(e,t,n){var r=n(7318);var i=n(7304)("iterator");var a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}},22910:function(e,t,n){"use strict";var r=n(7309);var i=n(7323);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},22911:function(e,t,n){var r=n(7304)("iterator");var i=false;try{var a=[7][r]();a["return"]=function(){i=true};Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return false;var n=false;try{var a=[7];var o=a[r]();o.next=function(){return{done:n=true}};a[r]=function(){return o};e(a)}catch(e){}return n}},2574:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(2575);var i=n.n(r);var a=n(2576);var o=n.n(a);var s=n(2577);var u=n.n(s);var l=n(2578);var c=n.n(l);var f=n(2579);var d=n.n(f);var _=n(2580);var v=n.n(_);var g=n(2581);var m=n.n(g);var p=n(2582);var h=n.n(p);var S=n(334);var y=n(663);var T=n.n(y);var b=n(2583);var w=n.n(b);var k=n(2584);var x=n.n(k);var E=n(2585);var O=n.n(E);var C=n(2586);var A=n.n(C);var I=n(2587);var M=n.n(I);var R=n(2588);var F=n.n(R);var j=n(2589);var L=n.n(j);var P=n(2590);var D=n.n(P);var N=n(2591);var $=n.n(N);var U=n(2592);var B=n.n(U);var W=n(2593);var z=n.n(W);var q=n(721);var H=n.n(q);var G=n(2594);var V=n.n(G);var K=n(2595);var Y=n.n(K);var Q=n(2596);var J=n.n(Q);var X=n(2597);var Z=n.n(X);var ee=n(2598);var te=n.n(ee);var ne=n(2599);var re=n.n(ne);var ie=n(2600);var ae=n.n(ie);var oe=n(2601);var se=n.n(oe);var ue=n(2602);var le=n.n(ue);var ce=n(2603);var fe=n.n(ce);var de=n(2604);var _e=n.n(de);var ve=n(2605);var ge=n.n(ve);var me=n(722);var pe=n(2606);var he=n.n(pe);var Se=n(2607);var ye=n.n(Se);var Te=n(2608);var be=n.n(Te);var we=n(2609);var ke=n.n(we);var xe=n(2611);var Ee=n(2612);var Oe=n.n(Ee);var Ce=n(2613);var Ae=n.n(Ce);var Ie=n(2614);var Me=n.n(Ie);var Re=n(2615);var Fe=n.n(Re);var je=n(2616);var Le=n.n(je);var Pe=n(2618);var De=n.n(Pe);var Ne=n(2619);var $e=n.n(Ne);var Ue=n(2620);var Be=n.n(Ue);var We=n(2621);var ze=n.n(We);var qe=n(2622);var He=n.n(qe);var Ge=n(2623);var Ve=n.n(Ge);var Ke=n(2624);var Ye=n.n(Ke);var Qe=n(2625);var Je=n.n(Qe);var Xe=n(2626);var Ze=n.n(Xe);var et=n(2627);var tt=n.n(et);var nt=n(2628);var rt=n.n(nt);var it=n(2629);var at=n.n(it);var ot=n(2630);var st=n.n(ot);var ut=n(2631);var lt=n.n(ut)},2575:function(e,t){(function(){TS.registerModule("generic_dialog",{div:null,is_showing:false,current_setting:null,body_template_html:{},Q:[],ladda_go:null,alert:function e(t,n,r){return new Promise(function(e){TS.generic_dialog.start({role:"alertdialog",title:n||"",body:t,show_cancel_button:false,esc_for_ok:true,fullscreen:false,go_button_text:r,onEnd:e})})},graphics:{error:"oops"},dark:function e(n,r,i){return new Promise(function(e){TS.generic_dialog.start({type:"dark",graphic:i||false,title:r||"",body:n,show_close_button:false,show_cancel_button:true,cancel_button_text:t,fullscreen:false,show_go_button:false,onCancel:e})})},start:function e(t){if(t.fullscreen){TS.ui.fs_modal.start(t);return}if(TS.generic_dialog.is_showing){t.unique&&TS.generic_dialog.current_setting.unique==t.unique?TS.info("redundant generic dialog not Qed: "+t.unique):TS.generic_dialog.Q.push(t);return}TS.generic_dialog.current_setting=_.defaults({},t,r);var n=TS.generic_dialog.current_setting;"undefined"===typeof t.show_close_button&&(n.show_close_button=n.show_cancel_button);TS.generic_dialog.div||TS.generic_dialog.build();var i=TS.generic_dialog.div;var a=n.body;if(n.body_template)if(TS.generic_dialog.body_template_html[n.body_template]){a=TS.generic_dialog.body_template_html[n.body_template];n.body&&TS.warn("both body and body_template were passed on settings, using body_template");n.$body&&TS.warn("both $body and body_template were passed on settings, using body_template")}else TS.error(n.body_template+" not found in TS.generic_dialog.body_template_html");n.dialog_class&&i.addClass(n.dialog_class);var o=TS.templates.generic_dialog({title:new Handlebars.SafeString(n.title),body:new Handlebars.SafeString(a),footer_content:n.footer_content?new Handlebars.SafeString(n.footer_content):"",ladda:n.ladda,type:n.type,img:n.graphic});i.empty();i.html(o);n.$body&&i.find(".modal-body").empty().append(n.$body);n.body_cls&&i.find(".modal-body").addClass(n.body_cls);i.find(".close").bind("click",function(){n.show_cancel_button?TS.generic_dialog.cancel():n.esc_for_ok&&TS.generic_dialog.go()});i.find(".dialog_go").click(TS.generic_dialog.go);n.ladda?i.find(".dialog_go .ladda-label").html(n.go_button_text):i.find(".dialog_go").html(n.go_button_text);if(n.show_go_button){i.find(".dialog_go").removeClass("hidden").addClass(n.go_button_class);n.go_button_disabled&&i.find(".dialog_go").prop("disabled",true)}else i.find(".dialog_go").addClass("hidden");i.find(".dialog_secondary_go").click(TS.generic_dialog.secondaryGo);i.find(".dialog_secondary_go").html(n.secondary_go_button_text);n.show_secondary_go_button?i.find(".dialog_secondary_go").removeClass("hidden").addClass(n.secondary_go_button_class):i.find(".dialog_secondary_go").addClass("hidden");i.find(".dialog_cancel").click(TS.generic_dialog.cancel);i.find(".dialog_cancel").html(n.cancel_button_text);i.find(".dialog_cancel").toggleClass("hidden",!n.show_cancel_button);i.find(".close").toggleClass("hidden",!n.show_close_button);n.show_throbber?i.find(".throbber").removeClass("hidden"):i.find(".throbber").addClass("hidden");n.title?i.find(".modal-header").removeClass("hidden"):i.find(".modal-header").addClass("hidden");var s=n.show_go_button||n.show_secondary_go_button||n.show_cancel_button;var u=!s||n.hide_footer;i.find(".modal-footer").toggleClass("hidden",!!u);i.modal("show");n.backdrop_click_to_dismiss&&$(".modal-backdrop").click(function(){TS.generic_dialog.cancel()});"dark"===n.type&&$(".modal-backdrop").addClass("c-modal_backdrop--dark");n.title||n.force_small?i.removeClass("small"):i.addClass("small");!TS.boot_data.feature_accessible_dialogs&&document.activeElement&&document.activeElement!=document.body&&document.activeElement.blur();n.onShow&&n.onShow()},go:function e(){if(!TS.generic_dialog.is_showing){TS.error("not showing?");return}var t=TS.generic_dialog.current_setting;var n=TS.generic_dialog.div;t.onGo?false!==t.onGo()&&n.modal("hide"):n.modal("hide")},secondaryGo:function e(t){if(!TS.generic_dialog.is_showing){TS.error("not showing?");return}var n=TS.generic_dialog.current_setting;var r=TS.generic_dialog.div;n.onSecondaryGo?false!==n.onSecondaryGo(t)&&r.modal("hide"):r.modal("hide")},cancel:function e(){var t=TS.generic_dialog.current_setting;TS.generic_dialog.div.modal("hide");t.onCancel&&t.onCancel()},end:function e(){var t=TS.generic_dialog.current_setting;TS.model.dialog_is_showing=false;TS.generic_dialog.is_showing=false;TS.boot_data.feature_accessible_dialogs||$(document).off("keydown",o);t.$body&&t.$body.detach();TS.generic_dialog.div.empty();t.dialog_class&&TS.generic_dialog.div.removeClass(t.dialog_class);TS.boot_data.feature_accessible_dialogs&&$("#client-ui").attr("aria-hidden",false);t.onEnd&&t.onEnd();TS.generic_dialog.ladda_go=null;if(!TS.generic_dialog.is_showing&&TS.generic_dialog.Q.length){var n=TS.generic_dialog.Q.shift();TS.generic_dialog.start(n)}var r=TS.boot_data.feature_accessible_dialogs&&!TS.generic_dialog.is_showing&&!TS.generic_dialog.Q.length&&TS.generic_dialog.previously_focused;if(r){if(TS.interop.utility.isContentEditableElement(r)){TS.utility.contenteditable.focus(r);return}try{r.focus()}catch(e){}}TS.generic_dialog.previously_focused=null},build:function e(){var t=TS.generic_dialog.current_setting&&TS.generic_dialog.current_setting.type||"default";var n="onboarding_dialog"===TS.generic_dialog.current_setting.type?"":" fade";$("body").append('<div id="generic_dialog" class="modal c-modal--'+t+n+' hide" data-keyboard="false" data-backdrop="static"></div>');TS.generic_dialog.div=$("#generic_dialog");var r=TS.generic_dialog.div;r.on("hidden",function(e){if(e.target!=this)return;setTimeout(function(){TS.generic_dialog.end();r.removeAttr("data-qa")},200)});r.on("show",function(e){if(e.target!=this)return;TS.model.dialog_is_showing=true;TS.generic_dialog.is_showing=true});r.on("shown",function(e){if(e.target!=this)return;setTimeout(function(){if(!TS.generic_dialog.is_showing)return;var e=TS.generic_dialog.current_setting;TS.boot_data.feature_accessible_dialogs&&$("#client-ui").attr("aria-hidden",true);var t=e.role;var n=u[t]?t:"dialog";r.attr({"data-qa":"generic_dialog_ready"}).find(".title_input").select();TS.boot_data.feature_accessible_dialogs||$(document).on("keydown",o);TS.boot_data.feature_accessible_dialogs&&r.attr("role",n).prepend(l).append(c);var i=TS.boot_data.feature_accessible_dialogs&&e.title&&_.uniqueId("modal-header-");if(i){r.find(".modal-header h3").attr("id",i);r.attr("aria-labelledby",i)}TS.boot_data.feature_accessible_dialogs&&"dialog"==n&&r.find(".modal-body").attr("role","document");var a=TS.boot_data.feature_accessible_dialogs&&"alertdialog"==n&&_.uniqueId("modal-body-");if(a){r.find(".modal-body").attr("id",a);r.attr("aria-describedby",a)}e.ladda&&(TS.generic_dialog.ladda_go=Ladda.create(r.find(".dialog_go")[0]));TS.generic_dialog.focus()},100)});if(TS.boot_data.feature_accessible_dialogs){$(document).on("focusin",s);r.on("keydown",o);r.on("keyup",i)}},focus:function e(){if(!TS.boot_data.feature_accessible_dialogs)return;var t=TS.generic_dialog.div;var n=document.activeElement;var r=TS.generic_dialog.current_setting;if(t[0].contains(n))return;var i=n&&$(n).hasClass("focus-ring");i&&(TS.generic_dialog.previously_focused=n);var a=r.show_go_button&&t.find(".dialog_go")[0];if(a){a.focus();return}$(TS.interop.utility.firstFocusableChild(t[0])).focus()},startLadda:function e(){TS.generic_dialog.ladda_go&&TS.generic_dialog.ladda_go.start();TS.generic_dialog.div.find(".dialog_go").addClass("disabled")},stopLadda:function e(){TS.generic_dialog.div.find(".dialog_go").removeClass("disabled");TS.generic_dialog.ladda_go&&TS.generic_dialog.ladda_go.stop()},showError:function e(t){var n=TS.generic_dialog.div.find(".modal-footer .generic_dialog_error");if(!n.length){n=$('<div class="generic_dialog_error yolk_orange top_margin">');TS.generic_dialog.div.find(".modal-footer").append(n)}n.text(t)},hideError:function e(){TS.generic_dialog.div.find(".modal-footer .generic_dialog_error").remove()}});var e=TS.interop.i18n.t("Cancel","generic_dialog")();var t=TS.interop.i18n.t("Close","generic_dialog")();var n=TS.interop.i18n.t("OK","generic_dialog")();var r={type:"default",graphic:false,title:"",body:"BODY",body_template:null,body_cls:null,$body:null,show_go_button:true,show_secondary_go_button:false,show_cancel_button:true,go_button_text:n,go_button_class:"",secondary_go_button_text:n,secondary_go_button_class:"",cancel_button_text:e,onGo:null,onSecondaryGo:null,onCancel:null,onEnd:null,show_throbber:false,esc_for_ok:false,onShow:null,force_small:false,enter_always_gos:TS.boot_data.feature_accessible_dialogs,fullscreen:false,dialog_class:null,hide_footer:false,backdrop_click_to_dismiss:false};var i=function e(t){if(!TS.boot_data.feature_accessible_dialogs)return;if(!TS.generic_dialog.is_showing)return;if(t.keyCode!==TS.utility.keymap.tab)return;var n=t.shiftKey;var r=$(t.target);var i=TS.generic_dialog.div;var a=i[0];var o=i.find(".close");var s=!i.find(".modal-header").hasClass("hidden");!n&&r.is(".last_tab_stop")&&(s&&!o.hasClass("hidden")?o.addClass("focus-ring").focus():$(TS.interop.utility.firstFocusableChild(a)).addClass("focus-ring").focus());n&&r.is(".first_tab_stop")&&$(TS.interop.utility.lastFocusableChild(a)).addClass("focus-ring").focus()};var a=function e(t,n){var r=!TS.boot_data.feature_accessible_dialogs&&"BODY"===TS.utility.getActiveElementProp("NODENAME")||n.enter_always_gos;if(!r)return false;if(!n.show_go_button)return false;var i=$(t.target);var a=TS.interop.utility.isContentEditableElement(i);var o=i.is("a,button,input[type=button],input[type=submit],input[type=reset],textarea");if(TS.boot_data.feature_accessible_dialogs&&(a||o))return false;return true};var o=function e(t){if(!TS.generic_dialog.is_showing)return;var n=t.keyCode;var r=t.shiftKey;var i=TS.generic_dialog.current_setting;var o=n==TS.utility.keymap.enter&&a(t,i);if(o){TS.boot_data.feature_accessible_dialogs&&t.stopPropagation();TS.generic_dialog.go();t.preventDefault();return}n!=TS.utility.keymap.esc||r||(i.show_cancel_button?TS.generic_dialog.cancel():i.esc_for_ok&&TS.generic_dialog.go())};var s=function e(t){if(!TS.boot_data.feature_accessible_dialogs)return;if("clipboardTextarea"===document.activeElement.id)return;var n=$(f).filter(function(){return"none"!==$(this).css("display")}).toArray();var r=_.sortBy(n,function(e){return parseInt($(e).css("z-index"),10)}).pop();if(!TS.generic_dialog.div||!TS.generic_dialog.div.is(r))return;var i=t.target;TS.generic_dialog.div.is(i)||TS.generic_dialog.div.has(i).length||TS.generic_dialog.focus()};var u={dialog:true,alertdialog:true};var l='<div class="first_tab_stop" tabindex="0" style="position:absolute;"></div>';var c='<div class="last_tab_stop" tabindex="0" style="position:absolute;"></div>';var f=".modal,[role=dialog]:not(.modal),[role=alertdialog]:not(.modal)"})()},2576:function(e,t){(function(){TS.registerModule("sidebar_themes",{default_themes:{default_theme:{column_bg:"#4D394B",menu_bg:"#3E313C",active_item:"#4C9689",active_item_text:"#FFFFFF",hover_item:"#3E313C",text_color:"#FFFFFF",active_presence:"#38978D",badge:"#EB4D5C"},hoth_theme:{column_bg:"#F8F8FA",menu_bg:"#F8F8FA",active_item:"#2D9EE0",active_item_text:"#FFFFFF",hover_item:"#FFFFFF",text_color:"#383F45",active_presence:"#60D156",badge:"#DC5960"},monument_theme:{column_bg:"#0D7E83",menu_bg:"#076570",active_item:"#F79F66",active_item_text:"#FFFFFF",hover_item:"#D37C71",text_color:"#FFFFFF",active_presence:"#F79F66",badge:"#F15340"},chocolate_theme:{column_bg:"#544538",menu_bg:"#42362B",active_item:"#5DB09D",active_item_text:"#FFFFFF",hover_item:"#4A3C30",text_color:"#FFFFFF",active_presence:"#FFFFFF",badge:"#5DB09D"},ocean_theme:{column_bg:"#303E4D",menu_bg:"#2C3849",active_item:"#6698C8",active_item_text:"#FFFFFF",hover_item:"#4A5664",text_color:"#FFFFFF",active_presence:"#94E864",badge:"#78AF8F"},workhard_theme:{column_bg:"#4D5250",menu_bg:"#444A47",active_item:"#D39B46",active_item_text:"#FFFFFF",hover_item:"#434745",text_color:"#FFFFFF",active_presence:"#99D04A",badge:"#DB6668"},solanum_theme:{column_bg:"#4F2F4C",menu_bg:"#452842",active_item:"#8C5888",active_item_text:"#FFFFFF",hover_item:"#1C0B1A",text_color:"#FFFFFF",active_presence:"#D0FF00",badge:"#889100"},brinjal_theme:{column_bg:"#4F2F4C",menu_bg:"#452842",active_item:"#8C5888",active_item_text:"#FFFFFF",hover_item:"#1C0B1A",text_color:"#FFFFFF",active_presence:"#00FFB7",badge:"#DE4C0D"},cotton_theme:{column_bg:"#BB6A76",menu_bg:"#AD5B67",active_item:"#62B791",active_item_text:"#FFFFFF",hover_item:"#A5516A",text_color:"#FFFFFF",active_presence:"#68F798",badge:"#694464"},eco_theme:{column_bg:"#86A34E",menu_bg:"#94AF63",active_item:"#FFFFFF",active_item_text:"#6D8B42",hover_item:"#94AF63",text_color:"#FFFFFF",active_presence:"#FFB10A",badge:"#DFA044"}},onStart:function e(){TS.client&&TS.client.login_sig.add(TS.sidebar_themes.onLogin,TS.sidebar_themes)},onLogin:function e(){TS.prefs.getPref("sidebar_theme")&&TS.prefs.sidebar_theme_changed_sig.dispatch()},setLastThemeSelectedInUI:function e(t){TS.prefs.last_theme_selected_in_UI=t}})})()},2577:function(e,t){(function(){TS.registerModule("ui.tabs",{instances:[],onStart:$.noop,create:function t(n,r){if(!n||n&&0===n.length)return;return new e(n,r)}});function e(e,i){this.$element=e;var a=e.hasClass("c-tabs__tab_menu");var o=a?"js-tab":"tab";var s=a?"c-tabs__tab--active":"active";var u=a?"c-tabs__tab_panel--active":"active";var l={tab_class:o,tab_active_class:s,panel_active_class:u};var c=e.find("."+l.tab_class);c.attr("role","tab").closest("li").attr("role","presentation");c.closest("ul").attr("role","tablist");var f=c.map(function(e,t){var n=$(t).attr("href").replace(/^#/,"");return document.getElementById(n)});f.attr("role","tabpanel");this.$element.on("click",function(e){var t=n(e,l.tab_class);if(!t.length)return;e.preventDefault();return r(t,c,f,l)});this.unbind=function(){this.$element.off();this.$element=null};this.$element.one("remove",this.unbind);var d=t(c,i);r(d,c,f,l);return this}function t(e,t){if(t&&t.default_tab){var n=e.toArray().reduce(function(e,n){if(e&&e.length)return e;var r="#"+t.default_tab;if($(n).attr("href")==r)return $(n);return null},null);if(n&&n.length)return n}TS.warn("Default tab was not found, falling back to first tab.");return e.eq(0)}e.prototype.destroy=function(){this.$element.off();this.$element.remove()};function n(e,t){var n=$(e.target);return n.closest("."+t)}function r(e,t,n,r){n.removeClass(r.panel_active_class).removeAttr("aria-label");if(t.closest("li").length){t.attr("aria-selected",false).closest("li").removeClass(r.tab_active_class);e.attr("aria-selected",true).closest("li").addClass(r.tab_active_class)}else{t.attr("aria-selected",false).removeClass(r.tab_active_class);e.attr("aria-selected",true).addClass(r.tab_active_class)}var i=e.attr("href");$(i).addClass(r.panel_active_class).attr("aria-label",e.text())}})()},2578:function(e,t){(function(){TS.registerModule("help_modal",{onStart:function e(){TS.help.issues_sorted_sig.add(S)},start:function e(){v()}});var e=false;var t=false;var n;var r;var i;var a;var o;var s;var u;var l;var c;var f=null;var d=null;var _=null;var v=function e(){var t={body_template_html:TS.templates.help_modal(),modal_class:"help_modal fs_modal_footer fs_modal_header",show_cancel_button:false,go_button_text:TS.interop.i18n.t("Contact Us","help")(),onShow:T,onGo:k,onEnd:b,clog_name:"HELP_MODAL"};TS.client&&TS.ui.a11y.saveCurrentFocus();TS.ui.fs_modal.start(t)};var g=function e(){a=$(TS.templates.help_modal_header()).appendTo(r)};var m=function e(){a&&a.remove();a=null};var p=function e(){o=$(TS.templates.help_modal_footer()).appendTo(i);s=i.find(".help_modal_status")};var h=function e(){o&&o.remove();o=null;s=null};var S=function t(){if(!e)return;y()};var y=function e(){var t={unread_count:0,open_count:0,all_count:TS.help.issues.length,is_unread:false,is_unread_many:false,is_open:false,is_open_many:false,is_old_tickets:false};for(var n=0;n<TS.help.issues.length;n+=1){var r=TS.help.issues[n];"unread"===r.state?t.unread_count+=1:"open"===r.state&&(t.open_count+=1)}t.is_unread=0!=t.unread_count;t.is_unread_many=t.unread_count>1;t.is_open=0!=t.open_count&&0==t.unread_count;t.is_open_many=t.open_count>1;t.is_old_tickets=t.all_count&&0==t.is_unread&&0==t.is_open;s.html(TS.templates.help_modal_footer_status({settings:t}))};var T=function t(){e=true;r=$("#fs_modal");i=$("#fs_modal_footer");n=$("#help_modal_container");c=n.find("#browse_all");l=n.find("#help_modal_filter");u=n.find("#help_modal_list_container");g();p();y();w();TS.interop.api.call("helpdesk.get",{locale:TS.interop.i18n.locale.toLowerCase()}).then(function(e){var t=e.data,n=e.args,r=e.request_id;var i=true;O&&O(i,t,n,r);return{data:t,args:n,request_id:r}}).catch(function(e){var t=e.data,n=e.args,r=e.request_id;var i=false;O&&O(i,t,n,r);return{data:t,args:n,request_id:r}})};var b=function f(){e=false;t=false;n=null;r=null;i=null;a=null;o=null;s=null;u=null;l=null;c=null;d=null;_=null;TS.kb_nav.end();m();h();TS.client&&TS.ui.a11y.restorePreviousFocus()};var w=function i(){r.find(".keyboard_shortcuts").on("click",function(e){e.preventDefault();TS.ui.fs_modal.close(true);TS.boot_data.feature_shortcuts_flexpane?TS.ui.react_keyboard_shortcuts.showShortcutsFlexpane():TS.ui.shortcuts_dialog.start()});l.on("textchange",function(){if(!e||!t)return;x()}).on("keydown",function(e){e.which===TS.utility.keymap.esc&&TS.ui.fs_modal.close()});n.on("click",".clear_filter_icon",function(){l.val("").trigger("textchange").focus()});u.on("click",".help_modal_article_row",function(e){F($(this),e)});c.on("click",function(e){e.preventDefault();var t=E();if(t){window.open(j(t));TS.interop.clog.track("HELP_MODAL_SEARCH",{search_terms:t})}else window.open($(this).attr("href"))})};var k=function t(){if(!e){TS.error("not showing?");return}TS.utility.openAuthenticatedInBrowser("/help/requests/new");TS.ui.fs_modal.close(true);TS.interop.clog.track("HELP_MODAL_ACTION",{action:"submit_new_request",trigger:"click_submit_new_request"})};var x=function e(){var t=E();if(t){l.parent().addClass("active");d=I(f,t)}else{l.parent().removeClass("active");d=C(_)}t&&d.length<7&&(d=A(d,t));u.longListView("setItems",d);u.scrollTop(0);TS.utility.rAF(function(){TS.ui.utility.updateClosestMonkeyScroller(u)});t?TS.kb_nav.highlightFirstItem():TS.kb_nav.clearHighlightedItem()};var E=function e(){return $.trim(l.val())};var O=function e(t,n){if(!t){TS.error("failed to fetch help articles");return}f=JSON.parse(n.articles).articles;d=f;_=R(f);u.empty();M();x();l.focus()};var C=function e(t){var n=[];if(t.length>0){n.push({is_divider:true,title:TS.interop.i18n.t("Popular help topics","help")()});n=n.concat(t)}return n};var A=function e(t,n){t.push({is_divider:false,title:TS.interop.i18n.t('Search for "{query}" on the Help Center',"help")({query:n}),url:j(n)});return t};var I=function e(t,n){n=TS.utility.regexpEscape(n);var r=new RegExp(n,"i");var i=-1;var a=t.filter(function(e,t){if(e.title.toLowerCase()===n.toLowerCase()){i=t;return false}return e.title.match(r)});-1!==i&&a.unshift(t[i]);return a};var M=function e(){u.longListView({items:d,approx_item_height:40,approx_divider_height:35,preserve_dom_order:true,makeElement:function e(t){var n=$(TS.templates.help_modal_article_row());t.$title=n.find(".article_title");return n},makeDivider:function e(){return $("<div>").addClass("help_modal_divider")},renderItem:function e(t,n,r){r.$title.text(n.title);t.data("url",n.url)},renderDivider:function e(t,n){t.text(n.title)},calcItemHeight:function e(t){return t.outerHeight()}});u.monkeyScroll();t=true;TS.kb_nav.start(u.find(".list_items"),".help_modal_article_row",u,{use_data_ordering:true,px_offset:0,scrollToStartImmediately:function e(){u.longListView("scrollToTop",true)},scrollToEndImmediately:function e(){u.longListView("scrollToEnd",true)}});TS.kb_nav.setAllowHighlightWithoutBlurringInput(true);TS.kb_nav.setSubmitItemHandler(function(e){F($(this),e)})};var R=function e(t){var n=[];for(var r=0;r<t.length;r+=1)t[r].popular&&n.push(t[r]);n.sort(function(e,t){if(void 0==e.order)return 1;if(void 0==t.order)return-1;return e.order-t.order});return n};var F=function e(t){var n=t.data("url");var r=E();if(n){window.open(L(n));-1==n.indexOf("hc/search?")&&TS.interop.clog.track("HELP_MODAL_ZD_HIT",{zd_article_url:n});r&&TS.interop.clog.track("HELP_MODAL_SEARCH",{search_terms:r,locale:TS.interop.i18n.locale})}};var j=function e(t){var n="https://get.slack.help/hc/"+TS.interop.i18n.zdLocale()+"/search?utf8=\u2713&commit=Search&query="+t;return L(n)};var L=function e(t){if(-1!=t.indexOf("sid"))return t;if(-1!=t.indexOf("?"))return t+"&"+TS.utility.getHCAttributionQS();return t+"?"+TS.utility.getHCAttributionQS()}})()},2579:function(e,t){(function(){TS.registerModule("ui.comments",{editing_file:null,editing_comment:null,editing:false,$edit_form:null,bound:false,onStart:function e(){TS.ui.comments.$edit_form=$("#file_edit_comment_form");TS.ui.comments.bindInput($("#file_comment"));TS.ui.comments.bindButton($(".file_comment_submit_btn"))},bindButton:function e(t){t.bind("keydown.cmd_submit",function(e){e.which===TS.utility.keymap.enter&&t.is(":focus")&&t.closest("form").submit()})},bindInput:function e(t,n){TS.utility.contenteditable.create(t,{ariaLabel:TS.interop.i18n.t("Comment","comments")(),modules:{tabcomplete:{completers:["channels","emoji","members"],positionMenu:function e(n){TS.web&&TS.web.space?n.style.width=Math.min(t.outerWidth(),474)+"px":n.style.width=Math.min(t.outerWidth(),360)+"px";TS.tabcomplete.positionUIRelativeToInput(n,t)},no_model_ob:!TS.client}},enableBroadcastKeywords:false,onEnter:function e(){n?n():t.closest("form").submit();return false},onTextChange:function e(){if(!TS.client)return;if(TS.ui.fs_modal_file_viewer.is_showing&&$("#file_comment").closest("#fs_modal").length)TS.ui.fs_modal_file_viewer.storeLastCommentInput();else{TS.client.ui.files.storeLastCommentInputForPreviewedFile(TS.utility.contenteditable.value(t));TS.ui.utility.updateClosestMonkeyScroller($("#file_preview_scroller"))}},onEscape:function e(){TS.client&&TS.ui.fs_modal_file_viewer.is_showing&&TS.ui.fs_modal_file_viewer.canClose()&&TS.ui.fs_modal.close()}});t.attr("disabled")?TS.utility.contenteditable.disable(t):TS.utility.contenteditable.enable(t);t.on("keyup",function(){var e=TS.utility.contenteditable.cursorPosition(t);if(!e.length){var n=t.closest("form");var r=TS.client&&TS.client.ui.getCachedDimensionsRect("cached_msgs_scroller_rect",TS.client.ui.$msgs_scroller_div);(!TS.client||n.outerHeight()<r.height)&&n.find("button[type=submit]").scrollintoview({px_offset:-50,complete:function e(){TS.tabcomplete.positionUIRelativeToInput($(".tab_complete_ui")[0],t)}})}})},bindEditForm:function e(){TS.ui.comments.bound=true;var t=TS.ui.comments.$edit_form;$("#file_edit_comment").css("overflow","hidden").autogrow();TS.ui.comments.bindInput($("#file_edit_comment"));t.unbind("submit").bind("submit",TS.ui.comments.submitEditForm);t.find(".save").unbind("click").bind("click",function(){TS.ui.comments.submitEditForm();return false});t.find(".cancel").unbind("click").bind("click",function(){TS.ui.comments.onEndEdit();return false});t.unbind("destroyed").bind("destroyed",function(){$("#file_comment_form").after($(this)[0].outerHTML);TS.ui.comments.$edit_form=$("#file_edit_comment_form");TS.ui.comments.bound=false;if(!TS.ui.comments.editing)return;TS.ui.comments.onEndEdit()})},submitEditForm:function e(){if(TS.utility.contenteditable.isEmpty($("#file_edit_comment"),true)){TS.client&&TS.sounds.play("beep");return false}TS.ui.comments.saveEdit();return false},startEdit:function e(t,n,r){TS.ui.comments.editing&&TS.ui.comments.onEndEdit();var i=TS.files.getFileById(t);if(!i){TS.error("no file?");return null}var a=TS.files.getFileCommentById(i,n);if(!a){TS.error("no comment?");return null}var o=TS.ui.comments.$edit_form;var s;s=r?r.closest(".comment"):$("#"+a.id);if(!s.length){TS.error("no #"+a.id+"?");return}s.addClass("comment_editing").append(o);TS.utility.contenteditable.clear($("#file_edit_comment"));$("#file_edit_comment").css("height","");TS.ui.comments.bound||TS.ui.comments.bindEditForm();o.removeClass("hidden");TS.utility.contenteditable.clearHistory($("#file_edit_comment"));TS.utility.contenteditable.value($("#file_edit_comment"),TS.format.unFormatMsg(a.comment));TS.utility.contenteditable.focus($("#file_edit_comment"));TS.utility.contenteditable.setCursorAtEnd($("#file_edit_comment"));$("#file_comment_form").css("visibility","hidden");TS.ui.comments.editing=true;TS.ui.comments.editing_file=i;TS.ui.comments.editing_comment=a},saveEdit:function e(){var t=TS.ui.comments.editing_file;var n=TS.ui.comments.editing_comment;var r=$('.comment[data-comment-id="'+n.id+'"] .comment_body');var i=TS.utility.contenteditable.value($("#file_edit_comment"));i=TS.utility.contenteditable.legacySynchronouslyReplacePotentialMentions(i,{enableBroadcastKeywords:false});i=TS.format.cleanMsg(i);if(i!=n.comment){var a=n.comment;n.comment=i;r.length&&r.html(TS.format.formatJustText(n.comment));var o=function e(t){if(!t){n.comment=a;r.length&&r.html(TS.format.formatJustText(n.comment));TS.generic_dialog.alert(TS.interop.i18n.t("Something\u2019s gone wrong, and your change didn\u2019t save. If you see this message more than once, you may want to try restarting Slack.","comments")(),TS.interop.i18n.t("Oh, crumbs!","comments")(),TS.interop.i18n.t("Got it","comments")())}};TS.interop.api.call("files.comments.edit",{file:t.id,id:n.id,comment:i}).then(function(e){var t=e.data,n=e.args,r=e.request_id;var i=true;o(i,t,n,r);return{data:t,args:n,request_id:r}}).catch(function(e){var t=e.data,n=e.args,r=e.request_id;var i=false;o(i,t,n,r);return{data:t,args:n,request_id:r}})}TS.ui.comments.onEndEdit()},onEndEdit:function e(){var t=TS.ui.comments.editing_comment;if(!t)return;TS.ui.comments.$edit_form.addClass("hidden");$('[data-comment-id="'+t.id+'"].comment_editing').removeClass("comment_editing");$("#file_comment_form").css("visibility","");TS.ui.comments.editing=false;TS.ui.comments.editing_file=null;TS.ui.comments.editing_comment=null},startDelete:function e(t,n){var r=TS.files.getFileById(t);if(!r){TS.error("no file?");return null}var i=TS.files.getFileCommentById(r,n);if(!i){TS.error("no comment?");return null}TS.generic_dialog.start({title:TS.interop.i18n.t("Delete a file comment","comments")(),body:TS.interop.i18n.t("<p>Are you sure you want to delete this comment? This cannot be undone.</p>","comments")()+TS.templates.builders.buildCommentHTML({comment:i,file:r,show_comment_actions:false,hide_star:true}),go_button_text:TS.interop.i18n.t("Yes, delete the comment","comments")(),go_button_class:"btn_danger",onGo:function e(){TS.ui.comments.commitDelete(t,n)}})},commitDelete:function e(t,n){var r=TS.files.getFileById(t);if(!r){TS.error("no file?");return null}var i=TS.files.getFileCommentById(r,n);if(!i){TS.error("no comment?");return null}var a=function e(t,n){t?TS.client||TS.files.deleteCommentOnFile(i.id,r):"comment_not_found"===n.error&&TS.files.deleteCommentOnFile(i.id,r)};TS.interop.api.call("files.comments.delete",{file:t,id:n}).then(function(e){var t=e.data,n=e.args,r=e.request_id;var i=true;a(i,t,n,r);return{data:t,args:n,request_id:r}}).catch(function(e){var t=e.data,n=e.args,r=e.request_id;var i=false;a(i,t,n,r);return{data:t,args:n,request_id:r}})},removeFileComment:function e(t,n,r){$('.comment[data-comment-id="'+n+'"]').slideUp(200,function(){var e=this.parentNode;$(this).remove();e.innerHTML.match(/^[\s\r\n]*$/)&&$(e).empty();"function"===typeof r&&r.apply(this,arguments)})}})})()},2580:function(e,t){(function(){TS.registerModule("ds.msg_handlers",{onStart:function t(){TS.ds.on_msg_sig.add(e)},hello:function e(t){TS.model.members.forEach(function(e){e.ds_active=false});if(!t.active||!t.active.length)return;var n;for(var r=0;r<t.active.length;r+=1){n=TS.interop.members.getMemberById(t.active[r]);if(!n){TS.error('unknown member: "'+t.active[r]+'"');return}n.ds_active=true}},presence_change:function e(t){var n=TS.interop.members.getMemberById(t.user);if(!n){TS.error('unknown member: "'+t.user+'"');return}if("away"!==t.presence&&"active"!==t.presence){TS.error('unknown presence: "'+t.presence+'"');return}if(n.ds_active&&"active"===t.presence)return;if(!n.ds_active&&"away"===t.presence)return;n.ds_active="active"===t.presence;TS.members.ds_presence_changed_sig.dispatch(n)}});var e=function e(t){if(t.reply_to)return;if("rocket"===t.event)return;if(!TS.ds.msg_handlers[t.type]){TS.error("non handled non rocket event received\n"+JSON.stringify(t,null,"  "));return}TS.ds.msg_handlers[t.type](t)}})()},2581:function(e,t){(function(){TS.registerModule("inline_audios",{no_scrolling:false,expand_sig:new signals.Signal,collapse_sig:new signals.Signal,onStart:function e(){},shouldExpand:function e(t,n){if(TS.model.expandable_state["aud_"+t+_.escape(n.src)])return true;if(false===TS.model.expandable_state["aud_"+t+_.escape(n.src)])return false;if(n.internal_file_id)return TS.prefs.getPref("expand_internal_inline_imgs");return TS.prefs.getPref("expand_inline_imgs")},expandAllInCurrent:function e(){var t=$(".msg_inline_media_toggler[data-media-type=audio]:not(.expanded)");if(!t.length)return;TS.inline_audios.no_scrolling=true;t.trigger("click");TS.inline_audios.no_scrolling=false},collapseAllInCurrent:function e(){$(".msg_inline_media_toggler[data-media-type=audio].expanded").trigger("click")},expand:function e(t,n){TS.model.expandable_state["aud_"+t+_.escape(n)]=true;TS.storage.storeExpandableState(TS.model.expandable_state);var r="#"+TS.utility.makeSafeForDomId(t);var i=$(r);if(!i.length)return;var a=TS.client&&TS.client.ui.areMsgsScrolledToBottom();var o=function e(){return $(this).data("real-src")==n};var s=TS.boot_data.feature_attachments_inline?i.find(".inline_attachment").filter(o):null;s&&s.length||(s=i.find(".msg_inline_audio_holder").filter(o));s.removeClass("hidden");i.find(".msg_inline_media_toggler[data-media-type=audio]:not(.expanded)").filter(o).addClass("expanded");TS.client&&TS.client.ui.checkInlineImgsAndIframesEverywhere();s.css("opacity",0).stop().animate({opacity:1},300);TS.inline_audios.no_scrolling||(TS.client&&a?i.children().first().scrollintoview({duration:0,offset:"top",px_offset:10,direction:"y"}):i.find(".msg_inline_audio").last().scrollintoview({duration:200,offset:"bottom",px_offset:-10,direction:"y"}));TS.inline_audios.expand_sig.dispatch(t);TS.client&&TS.client.ui.checkInlineImgsAndIframesEverywhere()},collapse:function e(t,n){TS.model.expandable_state["aud_"+t+_.escape(n)]=false;TS.storage.storeExpandableState(TS.model.expandable_state);var r="#"+TS.utility.makeSafeForDomId(t);var i=$(r);if(!i.length)return;var a=function e(){return $(this).data("real-src")==n};var o=TS.boot_data.feature_attachments_inline?i.find(".inline_attachment").filter(a):null;o&&o.length||(o=i.find(".msg_inline_audio_holder").filter(a));o.css("visibility","hidden");i.find(".msg_inline_media_toggler[data-media-type=audio].expanded").filter(a).removeClass("expanded");o.find(".msg_inline_audio_iframe_div").html("");TS.inline_audios.collapse_sig.dispatch(t);setTimeout(function(){o.addClass("hidden");o.css("visibility","visible")},200)},checkForInlineAudioClick:function e(t){if(!t.target)return;var n=$(t.target);var r;var i=n.closest(".message");r=i.attr("id");if(!r)return;var a=n.closest(".msg_inline_media_toggler[data-media-type=audio]");if(a.length){t.preventDefault();var o=a.data("real-src");a.hasClass("expanded")?TS.inline_audios.collapse(r,o):TS.inline_audios.expand(r,o);return}var s=n.closest(".inline_audio_play_link");s.length&&t.preventDefault()},makeInternalInlineAudio:function e(t,n){if(!n.audio_html)return;n.safe_audio_html=TS.utility.setCssFromHeightAndWidthAttrs(n.audio_html);TS.model.inline_audios[t]={src:_.escape(n.audio_url||n.audio_html),attachment:n}}})})()},2582:function(e,t){(function(){TS.registerModule("privacy_policy_dialog",{div:null,is_showing:false,default_setting:{title:"",body:"BODY",body_template:null,onGo:null,onCancel:null,onEnd:null,esc_for_ok:false,onShow:null,force_small:false,enter_always_gos:false},current_setting:null,body_template_html:{},Q:[],start:function e(t){if(TS.privacy_policy_dialog.is_showing){t.unique&&TS.privacy_policy_dialog.current_setting.unique==t.unique?TS.info("redundant generic dialog not Qed: "+t.unique):TS.privacy_policy_dialog.Q.push(t);return}TS.privacy_policy_dialog.current_setting=_.defaults({},t,TS.privacy_policy_dialog.default_setting);var n=TS.privacy_policy_dialog.current_setting;TS.privacy_policy_dialog.div||TS.privacy_policy_dialog.build();var r=TS.privacy_policy_dialog.div;var i=TS.templates.privacy_policy_dialog({title:n.title,body:n.body,footer:n.footer});r.empty();r.html(i);r.find(".close").bind("click",function(){n.show_cancel_button?TS.privacy_policy_dialog.cancel():n.esc_for_ok&&TS.privacy_policy_dialog.go()});r.find(".dialog_go").click(TS.privacy_policy_dialog.go);n.go_button_text&&r.find(".dialog_go").html(n.go_button_text);n.show_go_button&&r.find(".dialog_go").removeClass("hidden").addClass(n.go_button_class);r.css("opacity",0);r.css("display","block");window.setTimeout(function(){r.css("marginLeft","0px");r.slideDown(function(){r.animate({opacity:1},{duration:500,complete:function e(){r.addClass("fading-in");r.modal({backdrop:false}).show();document.activeElement&&document.activeElement!=document.body&&document.activeElement.blur();n.onShow&&n.onShow()}})})},1)},go:function e(t){if(!TS.privacy_policy_dialog.is_showing){TS.error("not showing?");return}var n=TS.privacy_policy_dialog.current_setting;var r=TS.privacy_policy_dialog.div;function i(){r.removeClass("fading-in");r.fadeOut(750,function(){r.modal("hide")})}n.onGo?false!==n.onGo(t)&&i():i()},cancel:function e(){var t=TS.privacy_policy_dialog.current_setting;var n=TS.privacy_policy_dialog.div;n.removeClass("fading-in");n.fadeOut(750,function(){n.modal("hide")});t.onCancel&&t.onCancel()},end:function e(){var t=TS.privacy_policy_dialog.current_setting;TS.model.dialog_is_showing=false;TS.privacy_policy_dialog.is_showing=false;TS.privacy_policy_dialog.div.empty();t.onEnd&&t.onEnd();if(!TS.privacy_policy_dialog.is_showing&&TS.privacy_policy_dialog.Q.length){var n=TS.privacy_policy_dialog.Q.shift();TS.privacy_policy_dialog.start(n)}},build:function e(){$("body").append('<div id="privacy_policy_dialog" class="modal" data-keyboard="false"></div>');TS.privacy_policy_dialog.div=$("#privacy_policy_dialog");var t=TS.privacy_policy_dialog.div;t.on("hidden",function(e){if(e.target!=this)return;setTimeout(function(){TS.privacy_policy_dialog.end()},200)});t.on("show",function(e){if(e.target!=this)return;TS.model.dialog_is_showing=true;TS.privacy_policy_dialog.is_showing=true})}})})()},2583:function(e,t){(function(){TS.registerModule("inline_imgs",{no_scrolling:false,expand_sig:new signals.Signal,collapse_sig:new signals.Signal,onStart:function e(){},shouldExpand:function e(t,n,r){if(!n||!n.src)return false;if(TS.model.expandable_state["img_"+t+n.src])return true;if(false===TS.model.expandable_state["img_"+t+n.src])return false;if(true===n.should_expand)return true;if(!n.internal_file_id){if(TS.prefs.getPref("obey_inline_img_limit")&&n.bytes>TS.model.inline_img_byte_limit)return false;if(n.width&&n.height&&n.width*n.height>TS.model.inline_img_pixel_limit)return false}if(n.internal_file_id){var i=TS.inline_file_previews.expandableState(t,n.internal_file_id);if("boolean"===typeof i)return i;return TS.prefs.getPref("expand_internal_inline_imgs")}if(r&&r.is_giphy_shuffle&&!TS.prefs.getPref("expand_inline_imgs")){var a=_.pickBy(TS.model.expandable_state,function(e,n){return _.startsWith(n,"img_"+t)});if(a)return _.values(a)[0]}return TS.prefs.getPref("expand_inline_imgs")},expandAllInCurrent:function e(){TS.inline_imgs.no_scrolling=true;$(".msg_inline_img_expander").trigger("click");$(".msg_inline_img_toggler.collapsed").trigger("click");TS.inline_imgs.no_scrolling=false},collapseAllInCurrent:function e(){$(".msg_inline_img_collapser").trigger("click");$(".msg_inline_img_toggler.expanded").trigger("click")},expand:function e(t,n){TS.model.expandable_state["img_"+t+n]=true;TS.storage.storeExpandableState(TS.model.expandable_state);var r="#"+TS.utility.makeSafeForDomId(t);var i=$(r);if(!i.length)return;var a=TS.client&&TS.client.ui.areMsgsScrolledToBottom();var o=function e(){return $(this).data("real-src")==n};var s=TS.boot_data.feature_attachments_inline?i.find(".inline_attachment").filter(o):null;s&&s.length||(s=i.find(".msg_inline_img_holder").filter(o));s.removeClass("hidden");i.find(".msg_inline_img_expander").filter(o).addClass("hidden");i.find(".msg_inline_img_collapser").filter(o).removeClass("hidden");i.find(".msg_inline_img_toggler").removeClass("collapsed").addClass("expanded");i.find(".too_large_for_auto_expand").addClass("hidden");i.find(".inline_img_bytes").removeClass("hidden");TS.client&&TS.client.ui.checkInlineImgsAndIframesEverywhere();s.css("opacity",0).stop().animate({opacity:1},300);TS.inline_imgs.no_scrolling||(TS.client&&a?s.scrollintoview({duration:0,offset:"top",px_offset:10,direction:"y"}):s.scrollintoview({duration:200,offset:"bottom",px_offset:-10,direction:"y"}));TS.inline_imgs.expand_sig.dispatch(t);TS.client&&TS.client.ui.checkInlineImgsAndIframesEverywhere()},collapse:function e(t,n){TS.model.expandable_state["img_"+t+n]=false;TS.storage.storeExpandableState(TS.model.expandable_state);var r="#"+TS.utility.makeSafeForDomId(t);var i=$(r);if(!i.length)return;var a=function e(){return $(this).data("real-src")==n};var o=TS.boot_data.feature_attachments_inline?i.find(".inline_attachment").filter(a):null;o&&o.length||(o=i.find(".msg_inline_img_holder").filter(a));i.find(".msg_inline_img_expander").filter(a).removeClass("hidden");i.find(".msg_inline_img_collapser").filter(a).addClass("hidden");i.find(".msg_inline_img_toggler").removeClass("expanded").addClass("collapsed");TS.inline_imgs.collapse_sig.dispatch(t);o.addClass("hidden")},checkForInlineImgClick:function e(t,n){if(!t.target)return;var r=$(t.target);var i=r.closest(".message");var a=i.attr("id");n&&(a=TS.templates.makeMSRDomId(n));if(!a)return;var o=r.closest(".too_large_but_expand_anyway");if(o.length){t.preventDefault();TS.inline_imgs.expand(a,o.data("real-src"))}var s=r.closest(".msg_inline_img_toggler");if(s.length){t.preventDefault();var u=s.next("*[data-real-src]").data("real-src");TS.inline_imgs.shouldExpand(a,TS.model.inline_imgs[u])?TS.inline_imgs.collapse(a,u):TS.inline_imgs.expand(a,u);return}var l=r.closest(".msg_inline_img_expander");if(l.length){t.preventDefault();TS.inline_imgs.expand(a,l.data("real-src"))}var c=r.closest(".msg_inline_img_collapser");if(c.length){t.preventDefault();TS.inline_imgs.collapse(a,c.data("real-src"))}},makeInternalInlineImg:function e(t,n){var r=400;var i=500;if(TS.model.inline_imgs[t]){n.internal_file_id=TS.model.inline_imgs[t].internal_file_id||n.internal_file_id;n.link_url=TS.model.inline_imgs[t].link_url||n.link_url;n.src=TS.model.inline_imgs[t].src||n.src}TS.model.inline_imgs[t]=n;n.src=n.src||t;n.bytes=parseInt(n.bytes,10);var a={};if(n.rotation){a.rotate=true;if(90==Math.abs(parseInt(n.rotation,10))){var o=n.height;n.height=n.width;n.width=o}}n.display_w=parseInt(n.width,10);n.width=n.display_w;n.display_h=parseInt(n.height,10);n.height=n.display_h;if(n.display_w>r){n.display_w=r;n.display_h=parseInt(n.height*(n.display_w/n.width),10);a.resize=true}if(n.display_h>i){n.display_h=i;n.display_w=parseInt(n.width*(n.display_h/n.height),10);a.resize=true}a.width=n.display_w;a.height=n.display_h;"image/svg+xml"===n.content_type&&(a.render_svg=true);var s=TS.utility.getImgProxyURLWithOptions(n.src,a);s!=n.src?n.proxied_src=s:delete n.proxied_src}})})()},2584:function(e,t){(function(){TS.registerModule("kb_nav",{onStart:function e(){},is_paused:false,start:function e(r,a,o,s){n=r;i=a;d.lastX=null;d.lastY=null;o||(o="#menu");t=$(o);u=s&&!!s.use_data_ordering;l={allowTabHighlightWhenEmptyInput:true,bindTo:document,allowDisabledAndHiddenItems:true,allowScrolling:true};c=_.assign(l,s);$(document).on("mousemove.keyboard_navigation",v);$(c.bindTo).on("keydown",TS.kb_nav.onKeyDown);n.on("mouseenter.keyboard_navigation",i,y)},pause:function e(t){TS.kb_nav.is_paused=t},end:function e(){S();g();n&&n.off(".keyboard_navigation");$(document).off("mousemove.keyboard_navigation",v);$(c.bindTo).off("keydown",TS.kb_nav.onKeyDown);n=null;i=null;a=null;o=false;s=null;u=false;c=l},getHighlightedItem:function e(){return a},getItemByItemId:function e(t){var r=n.children(i).filter(":not(.disabled):visible");var a=$.makeArray(r);for(var o=0,s;o<a.length;o+=1){s=$(a[o]);if(t===s.data("item-id"))return s}},clearHighlightedItem:function e(){S()},highlightFirstItem:function e(){var t=w();if(t&&t.length>0){f();h(t)}else S()},highlightItemWithKey:function e(t,n){h(t,n)},setAllowHighlightWithoutBlurringInput:function e(t){o=t},setSubmitItemHandler:function e(t){s=t},onKeyDown:function e(t){if(TS.kb_nav.is_paused)return;if(TS.ui.react_emoji_menu.is_showing)return;var n=TS.utility.keymap;var r=t.which;var i=t.metaKey||t.ctrlKey||t.shiftKey||t.altKey;if(r==n.up&&(o&&!i||!b(t.target))){t.stopPropagation();t.preventDefault();f();m(t);return}if(r==n.down&&(o&&!i||!b(t.target))){t.stopPropagation();t.preventDefault();f();p(t);return}if(r==n.left&&!b(t.target)){t.stopPropagation();t.preventDefault();f();if(c&&c.onLeftKeyDownIfSubmenuExists&&c.onLeftKeyDownIfSubmenuExists(t))return;m(t);return}if(r==n.right&&!b(t.target)){t.stopPropagation();t.preventDefault();f();if(c&&c.onRightKeyDownIfSubmenuExists&&c.onRightKeyDownIfSubmenuExists(t))return;p(t);return}if(r==n.tab){if(!c.allowTabHighlightWhenEmptyInput&&b(t.target)&&0===$(t.target).val().length)return;t.stopPropagation();t.preventDefault();f();!o&&b(t.target)&&$(t.target).blur();t.shiftKey?m(t):p(t);return}if(r==n.enter&&a){if(s){var u=a.get(0);u?s.call(u,t):s(t);return}t.stopPropagation();t.preventDefault();T()}}});var e={keyboard_active:"keyboard_active",no_pointer_events:"no_pointer_events"};var t=null;var n=null;var r=false;var i=null;var a=null;var o=false;var s=null;var u=false;var l={};var c=l;var f=function n(){if(r)return;t.addClass(e.keyboard_active);t.addClass(e.no_pointer_events);r=true};var d={lastX:null,lastY:null};var v=function e(t){if(!r){d.lastX=t.clientX;d.lastY=t.clientY;return}if(null===d.lastX){d.lastX=t.clientX;d.lastY=t.clientY}else{t.clientX===d.lastX&&t.clientY===d.lastY||g();d.lastX=t.clientX;d.lastY=t.clientY}};var g=function n(){if(!r)return;S();t.removeClass(e.keyboard_active);t.removeClass(e.no_pointer_events);r=false};var m=function e(t){var r;var o=i;r=a?E(a):k();if(r&&r.length>0){h(r);c&&c.onMoveHighlight&&c.onMoveHighlight()}else if(0!==n.children(o).filter(":not(.disabled):visible").length){S();e(t)}};var p=function e(t){var r;var o=i;r=a?x(a):w();if(r&&r.length>0){h(r);c&&c.onMoveHighlight&&c.onMoveHighlight()}else if(0!==n.children(o).filter(":not(.disabled):visible").length){S();e(t)}};var h=function e(t,n){S();a=t;var r=0;c&&c.px_offset&&(r=c.px_offset);t.addClass("highlighted");!n&&c.allowScrolling&&t.scrollintoview({offset:"top",px_offset:r,duration:0});c&&c.no_blur||t.find("a:first").focus();a.trigger("highlighted")};var S=function e(){if(a){a.trigger("unhighlighted");a.removeClass("highlighted");a=null}};var y=function e(t){S();a=$(t.target).closest(i);a.trigger("highlighted")};var T=function e(){a&&a.find("a:first").click()};var b=function e(t){return $(t).is("input, textarea")||TS.interop.utility.isContentEditableElement(t)};var w=function e(){if(u){c.scrollToStartImmediately&&c.scrollToStartImmediately();var t=O();if(0===t.length)return null;return $(t[0])}if(c.allowDisabledAndHiddenItems)return n.children(i).filter(":not(.disabled):visible:first");return n.children(i).eq(0)};var k=function e(){if(u){c.scrollToEndImmediately&&c.scrollToEndImmediately();var t=O();if(0===t.length)return null;return $(t[t.length-1])}return n.children(i).filter(":not(.disabled):visible:last")};var x=function e(t){if(u){var r=O();var a=t.data("order-index");for(var o=0;o<r.length;o+=1)if($(r[o]).data("order-index")==a){if(o+1<r.length)return $(r[o+1]);break}return null}var s=n.children(i).filter(":not(.disabled):visible");var l=s.index(t);return s.eq(l+1)};var E=function e(t){if(u){var r=O();var a=t.data("order-index");for(var o=0;o<r.length;o+=1)if($(r[o]).data("order-index")==a){if(o-1>=0)return $(r[o-1]);break}return null}var s=n.children(i).filter(":not(.disabled):visible");var l=s.index(t);return s.eq(l-1)};var O=function e(){var t=n.children(i).filter(":not(.disabled):visible");var r=$.makeArray(t);r.sort(function(e,t){var n=$(e).data("order-index");var r=$(t).data("order-index");return n-r});return r}})()},2585:function(e,t){(function(){TS.registerModule("sounds",{onStart:function t(){var r=TS.boot_data.abs_root_url;var i=[].concat(TS.boot_data.notification_sounds||[]).concat(TS.boot_data.alert_sounds||[]).concat(TS.boot_data.call_sounds||[]).concat(TS.boot_data.a11y_sounds||[]);var a=[];TS.has_pri[n]&&TS.log(n,"adding all_sounds: "+i.length);i.forEach(function(t){if(!t.url)return;0!==t.url.indexOf("http")&&(t.url=r+t.url.replace("/",""));t.url_ogg&&0!==t.url_ogg.indexOf("http")&&(t.url_ogg=r+t.url_ogg.replace("/",""));TS.has_pri[n]&&TS.log(n,"adding sound: "+t.value);e[t.value]={url:t.url,url_ogg:t.url_ogg};TS.has_pri[n]&&TS.log(n,"_sounds["+t.value+"] = "+e[t.value]);a.push(t.url)});window.Audio&&soundManager.onready(function(){$.each(e,function(t,n){n.url_ogg&&(n.url=[n.url,n.url_ogg]);e[t]=soundManager.createSound(n)})})},shouldMuteSounds:function e(t){t=t||{};t.ignore_mute=t.ignore_mute||false;var n=TS.model&&TS.prefs.prefs_loaded&&TS.prefs.getPref("mute_sounds");n=n||TS.interop.desktop.shouldMuteAudio();n=n&&!t.ignore_mute;return n},filenameForSoundName:function t(r,i){if("new_message"===r){r=TS.prefs.getPref("new_msg_snd");TS.has_pri[n]&&TS.log(n,"filenameForSoundName('"+arguments[0]+"'): using prefs.new_msg_sound of \""+r+'"')}if("none"===r){TS.has_pri[n]&&TS.log(n,'filenameForSoundName: "which" === "none". Returning undefined.');return}if("beep"===r){TS.has_pri[n]&&TS.log(n,'filenameForSoundName: "beep" -> "frog.mp3"');r="frog.mp3"}if(!(r in e)){TS.warn("filenameForSoundName('"+arguments[0]+"'): unknown sound: "+r);return}if(TS.sounds.shouldMuteSounds(i)){TS.has_pri[n]&&TS.log(n,"filenameForSoundName: sounds are muted. Returning undefined.");return}return r},soundForName:function t(r,i){r=TS.sounds.filenameForSoundName(r,i);if(!r){TS.has_pri[n]&&TS.log(n,"soundForName: TS.sounds.filenameForSoundName('"+arguments[0]+"') returned undefined.");return}if(TS.sounds.shouldMuteSounds(i)){TS.has_pri[n]&&TS.log(n,"soundForName: ignoring "+r+" because it is muted in prefs.");return}e[r]||TS.warn(n,'soundForName: could not find sound for "'+r+'".');return e[r]},play:function t(r,i){i=i||{};i.should_loop=i.should_loop||false;i.ignore_mute=i.ignore_mute||false;var a=TS.sounds.soundForName(r,i);if(a)if(_.isFunction(a.play)){TS.has_pri[n]&&TS.log(n,"calling sound.play()");a.play({loops:i.should_loop?999999:0})}else TS.has_pri[n]&&TS.log(n,"wanted to call sound.play() but it is not a function");else if(soundManager){TS.warn("sound is null: "+r+" window.Audio: "+window.Audio+" window.desktop: "+window.desktop+" soundManager.ok(): "+soundManager.ok()+" 'audio/mp3' support: "+soundManager.canPlayMIME("audio/mp3"));var o=_.keys(e);o&&o.length?TS.warn("Known sound objects by name: "+o.join(", ")):TS.warn("TS.sounds.play('"+r+"'): No _sounds defined??")}},playLocalSound:function e(t,r){r=r||{};r.ignore_mute=r.ignore_mute||false;r.play_twice=r.play_twice||false;var i=TS.sounds.soundForName(t,r);if(i&&_.isFunction(i.play)){var a={};r.play_twice&&(a.onfinish=function(){i.play()});i.play(a)}else TS.log(n,'wanted to play local sound "'+t+'" but sound was not found or sound.play() is not a function')},playScreenReaderAlert:function e(n){n&&(t=true);r()},stop:function e(t,r){r=r||{};r.ignore_mute=r.ignore_mute||false;var i=TS.sounds.soundForName(t,r);if(i){TS.has_pri[n]&&TS.log(n,"calling sound.stop()");i.stop()}else soundManager&&TS.warn("sound is null: "+t+" window.Audio: "+window.Audio+" window.desktop: "+window.desktop+" soundManager.ok(): "+soundManager.ok()+" soundManager.html5Only: "+soundManager.html5Only+" soundManager.canPlayMIME('audio/mp3'): "+soundManager.canPlayMIME("audio/mp3"))},getNotificationSoundNameFromFilename:function e(t){var n=_.find(TS.boot_data.notification_sounds,{value:t});if(!n){TS.error("No notification sound found matching "+t);return}return n.label}});var e={};var t=false;var n=37;var r=_.throttle(function(){TS.sounds.playLocalSound("a11y/channel_message.mp3",{ignore_mute:true,play_twice:t});t=false},5e3,{trailing:true,leading:false})})()},2586:function(e,t){(function(){TS.registerComponent("PresenceList",{_constructor:function e(t){this._list=[];this.added_sig=new signals.Signal;this.removed_sig=new signals.Signal;TS.presence_manager.addPresenceList(this);t&&this.add(t)},add:function e(t){_.isArray(t)||(t=[t]);TS.boot_data.feature_sonic_presence_manager&&t.forEach(function(e){TS.redux.dispatch(TS.interop.presenceManager.addMemberToPresenceSubscription({memberId:e}))});var n=_.difference(t,this._list);if(n.length){this._list=this._list.concat(n);this.added_sig.dispatch(n)}},remove:function e(t){_.isArray(t)||(t=[t]);var n=_.intersection(t,this._list);if(n.length){this._list=_.difference(this._list,n);this.removed_sig.dispatch(n)}},clear:function e(){TS.boot_data.feature_sonic_presence_manager&&this._list.forEach(function(e){TS.redux.dispatch(TS.interop.presenceManager.removeMemberFromPresenceSubscription({memberId:e}))});this.removed_sig.dispatch(this._list);this._list=[]},destroy:function e(){this.removed_sig.dispatch(this._list);this._list=null}})})()},2587:function(e,t){(function(){TS.registerComponent("PromiseQueue",{_constructor:function e(){this.queue=[];this.current_job=null},destroy:function e(){this.clear()},clear:function e(){this.queue=[];this.current_job&&this.current_job.isPending()&&this.current_job.cancel();this.current_job=null},addToQ:function e(t){return new Promise(function(e,n){this.queue.push(function(){var r=t();r&&r.then||(r=Promise.resolve());r.then(e,n);return r});if(1===this.queue.length&&!this.current_job)return this._nextFromQ()}.bind(this))},_nextFromQ:function e(){if(this.current_job)return;if(!this.queue.length)return;var t=this.queue.shift();var n=t();this.current_job=n;n.finally(function(){this.current_job=null;this._nextFromQ();return null}.bind(this));return null}})})()},2588:function(e,t){(function(){TS.registerModule("permissions",{})})()},2589:function(e,t){(function(){TS.registerModule("permissions.channels",{canMemberJoinChannel:function e(t,n){if(!t||!n)return false;if(t.is_im||t.is_mpim)return true;if(n._is_local)return true;var r=TS.interop.rules.channels.isOrgShared(t);var i=TS.interop.rules.channels.isExternallySharedChannel(t);if(r||i){var a=t.shared_team_ids;if(r){if(TS.interop.members.isExternal(n))return false;if(t.is_global_shared)return true;var o=_.get(n,"enterprise_user.teams")||[];var s=_.intersection(o,a);if(s.length)return true}if(i){if(n._is_from_org)return false;var u=n.team_id;if(a.indexOf(u)>-1)return true}}return false},canMemberBeInvitedToChannel:function e(t,n){if(TS.interop.members.isExternal(n)&&!t.is_im&&!t.is_mpim)return false;return TS.permissions.channels.canMemberJoinChannel(t,n)},canMemberLeaveChannel:function e(t,n){if(!t||!n)return false;if(TS.interop.rules.channels.isRequired(t)||n.is_restricted)return false;return true},canMemberBeRemovedFromChannel:function e(t,n){n=_.isString(n)?TS.interop.members.getMemberById(n):n;if(!t||!n)return false;if(TS.interop.rules.channels.isRequired(t)&&!n.is_restricted)return false;if(t.is_mpim||t.is_im)return false;if(TS.interop.members.isExternal(n))return false;if(n.id===TS.model.user.id)return false;if((t.is_group||t.is_private)&&!TS.permissions.members.canKickFromGroups())return false;if(t.is_channel&&!TS.permissions.members.canKickFromChannels())return false;return true},canSeeShareChannelOption:function e(t){var n=TS.interop.rules.channels.isPendingExternallySharedChannel(t);return(!TS.interop.rules.channels.isExternallySharedChannel(t)||n)&&!t.is_general&&TS.permissions.members.canRequestSharedChannel()},canSeeDisconnectChannelOption:function e(t){var n=TS.interop.rules.channels.isExternallySharedChannel(t);var r=TS.interop.rules.channels.isPendingExternallySharedChannel(t);return n&&!r&&!t.is_general},canSeeConvertToPrivateOption:function e(t){return!t.is_private&&!t.is_group&&!t.is_general&&!t.is_im&&!t.is_org_default&&TS.model.user.is_admin&&TS.permissions.members.canCreateGroups()},canSeeArchiveChannelOption:function e(t){if(TS.interop.rules.channels.isRequired(t))return false;if(TS.interop.rules.channels.isExternallySharedChannel(t)||TS.interop.rules.channels.isPendingExternallySharedChannel(t))return false;if(TS.boot_data.page_needs_enterprise&&t.is_org_shared){if(!TS.permissions.members.canManageOrgSharedChannels())return false;if(TS.interop.rules.channels.isOrgDefaultChannel(t)){if(TS.model.user.enterprise_user.is_admin)return true;return false}}return TS.permissions.members.canArchiveChannels()&&(t.is_channel||t.is_group&&!TS.model.user.is_restricted)},canSeeDeleteChannelOption:function e(t){if(TS.interop.rules.channels.isExternallySharedChannel(t)||TS.interop.rules.channels.isPendingExternallySharedChannel(t))return false;return!TS.interop.rules.channels.isRequired(t)&&!t.is_org_default&&!!(TS.interop.rules.channels.isPublicChannel(t)||TS.interop.rules.channels.isPrivateChannel(t))&&TS.model.user.is_admin},canSeeRenameChannelOption:function e(t){if(t.is_im)return false;if(TS.boot_data.page_needs_enterprise&&t.is_org_shared&&TS.permissions.members.canManageOrgSharedChannels())return true;return TS.model.user.is_admin||t.creator===TS.model.user.id},canSeePurposeChannelOption:function e(t){return!TS.model.user.is_ultra_restricted&&!t.is_im&&(!t.is_general||TS.permissions.members.canPostInGeneral())&&TS.permissions.members.canPostInModelOb(t)},canSeeDataRetentionChannelOption:function e(t){return""!==TS.model.team.plan&&(TS.model.user.is_owner||!TS.interop.rules.channels.isPublicChannel(t))&&!TS.model.user.is_restricted&&!TS.model.user.is_ultra_restricted&&TS.prefs.getTeamPref("allow_retention_override")&&!TS.interop.rules.channels.isExternallySharedChannel(t)&&!TS.interop.rules.channels.isPendingExternallySharedChannel(t)},canSeeManagePostingPermissionsChannelOption:function e(t){return TS.boot_data.page_needs_enterprise&&t.is_org_shared&&!t.is_im&&TS.permissions.members.canManageOrgSharedChannels()&&!TS.interop.rules.channels.isExternallySharedChannel(t)&&!TS.interop.rules.channels.isPendingExternallySharedChannel(t)},canSeeManageTeamAccessToChannelOption:function e(t){return TS.boot_data.page_needs_enterprise&&!TS.interop.rules.channels.isRequired(t)&&!TS.interop.rules.channels.isOrgDefaultChannel(t)&&!TS.interop.rules.channels.isExternallySharedChannel(t)&&!TS.interop.rules.channels.isPendingExternallySharedChannel(t)&&TS.permissions.members.canCreateConvertOrgSharedChannels()&&(!TS.boot_data.feature_default_shared_channels||!t.is_org_default)}})})()},2590:function(e,t){(function(){TS.registerModule("permissions.enterprise",{canUserLeaveTeam:function e(t,n){if(!TS.boot_data.page_needs_enterprise)return false;if(t.is_restricted)return false;var r=_.get(t,"enterprise_user.teams",[]);if(!_.includes(r,_.get(n,"id")))return false;if(1===r.length)return false;return!!n.can_leave}})})()},2591:function(e,t){(function(){TS.registerModule("ui.unsaved_form_warning",{onStart:function e(){$("form[data-unsaved-form-warning]").each(function(e,t){var n=$(t).serializeArray();var r=false;t.hasAttribute("data-validation-form")?TS.ui.validation.completed_sig.add(function(e,n){n.passed&&e[0]===t&&(r=true)}):$(t).on("submit",function(){r=true});$(window).on("beforeunload",function(){if(!r&&!_.isEqual(n,$(t).serializeArray()))return TS.interop.i18n.t("Changes you made may not be saved.","unsaved_warning")()})})}})})()},2592:function(e,t){(function(){TS.registerModule("utility.welcome_post",{WELCOME_POST_NAME:"Getting_started_with_Slack__team_creator_welcome_post_identifier",clogWelcomePostExpand:function e(t){t&&t.name===TS.utility.welcome_post.WELCOME_POST_NAME&&(TS.model.user.is_primary_owner?TS.interop.clog.track("WEBSITE_CLICK",{click_target:"expand_post_button",trigger:"welcome_post_team_creator",action:"open_post"}):TS.interop.clog.track("WEBSITE_CLICK",{click_target:"expand_post_button",trigger:"welcome_post_team_joiner",action:"open_post"}))},clogWelcomePostOpen:function e(t){var n=t.data("file-id");var r=TS.files.getFileById(n);r&&r.name===TS.utility.welcome_post.WELCOME_POST_NAME&&(TS.model.user.is_primary_owner?t.hasClass("welcome_post_slackbot_message")?TS.interop.clog.track("WEBSITE_CLICK",{click_target:"edit_post_link",trigger:"welcome_post_team_creator",action:"open_post"}):TS.interop.clog.track("WEBSITE_CLICK",{click_target:"edit_in_new_window_button",trigger:"welcome_post_team_creator",action:"open_post"}):TS.interop.clog.track("WEBSITE_CLICK",{click_target:"open_in_new_window_button",trigger:"welcome_post_team_joiner",action:"open_post"}))},clogWelcomePostSetting:function e(t){t?TS.interop.clog.track("WEBSITE_CLICK",{click_target:"save_welcome_post_setting",trigger:"button_click",action:"enable"}):TS.interop.clog.track("WEBSITE_CLICK",{click_target:"save_welcome_post_setting",trigger:"button_click",action:"disable"})}})})()},2593:function(e,t){(function(){TS.registerModule("utility.slackbot",{getWithFeels:function n(r){var i=e();if(!i||!i.profile)return;t(i,r);return i}});function e(){return _.cloneDeep(TS.interop.members.getMemberById("USLACKBOT"))}function t(e,t){switch(t){case"sad_surprise":e.profile.image_20=cdn_url+"/c6db/img/slackbot/slackbot_sad_surprise_20.png";e.profile.image_24=cdn_url+"/c6db/img/slackbot/slackbot_sad_surprise_24.png";e.profile.image_32=cdn_url+"/c6db/img/slackbot/slackbot_sad_surprise_32.png";e.profile.image_36=cdn_url+"/c6db/img/slackbot/slackbot_sad_surprise_36.png";e.profile.image_48=cdn_url+"/c6db/img/slackbot/slackbot_sad_surprise_48.png";e.profile.image_72=cdn_url+"/c6db/img/slackbot/slackbot_sad_surprise_72.png";e.profile.image_192=cdn_url+"/c6db/img/slackbot/slackbot_sad_surprise_192.png";e.profile.image_512=cdn_url+"/c6db/img/slackbot/slackbot_sad_surprise_512.png";break;case"fancy":e.profile.image_20=cdn_url+"/c6db/img/slackbot/slackbot_fancy_20.png";e.profile.image_24=cdn_url+"/c6db/img/slackbot/slackbot_fancy_24.png";e.profile.image_32=cdn_url+"/c6db/img/slackbot/slackbot_fancy_32.png";e.profile.image_36=cdn_url+"/c6db/img/slackbot/slackbot_fancy_36.png";e.profile.image_48=cdn_url+"/c6db/img/slackbot/slackbot_fancy_48.png";e.profile.image_72=cdn_url+"/c6db/img/slackbot/slackbot_fancy_72.png";e.profile.image_192=cdn_url+"/c6db/img/slackbot/slackbot_fancy_192.png";e.profile.image_512=cdn_url+"/c6db/img/slackbot/slackbot_fancy_512.png";break;default:TS.warn("Slackbot doesn't have an avatar for that feeling.");break}}})()},2594:function(e,t){(function(){TS.registerModule("fuzzy",{onStart:function e(){},score:function e(t,n,r){if(TS.boot_data.feature_modern_fuzzy_matcher)return TS.interop.FuzzyMatcher.scoreOnce(t,n,r);r||(r={});var i=TS.fuzzy.makeFuzzyMatcher(n,r);return i.score(t)},makeFuzzyMatcher:function e(r,a){if(TS.boot_data.feature_modern_fuzzy_matcher)return new TS.interop.FuzzyMatcher(r,a);var o=s(r);null==a.fuzzy_limit&&(a.fuzzy_limit=Infinity);return{score:function e(r){var s=l(r,o);if(!s)return Infinity;if(!o)return Infinity;var u=i(r);if(!u)return Infinity;var c=n(u,o,a);if(!c)return Infinity;var f=t(c);if(f>a.fuzzy_limit)return Infinity;return f}}},test:function e(){return{lettersToGraph:i,queryToLinkedList:s}}});var e=" -_'.\u2019\u200b()";var t=function e(t){if(!t)return 0;return t.count+e(t.next)};var n=function e(t,n,i){var a=r(t,n,0,i);a||(a=_.reduce(t.jumps,function(e,a){if(e||a===t)return e;return r(a,n,1,i)},null));return a};var r=function e(t,n,r,i){if(!t)return null;var a;!t.visited&&(t.letter===n.letter||t.ignored&&n.is_separator)&&(a={node:t,count:r});if(!a)return null;if(!n.next)return a;t.visited=true;var o=e(t.next,n.next,0,i);var s=n.next;s.is_space&&s.next&&(s=s.next);o||(o=_.reduce(t.jumps,function(n,r){if(n)return n;if(r.visited||r===t)return n;if((i.search_forward_only||i.substrings_only)&&r.index<t.index)return n;if(i.substrings_only&&r.index>t.index+2)return n;return e(r,s,1,i)},null));t.visited=false;if(o){a.next=o;return a}return null};var i=function e(t){var n=t.split("");var r=n.shift();return a(r,null,n,[],0)};var a=function e(t,n,r,i,a){if(!t)return null;var s=o(t,n,i,a);(!n||n.ignored&&!s.ignored)&&i.length<5&&i.push(s);var u=e(r.shift(),s,r,i,a+1);u&&(s.next=u);return s};var o=function t(n,r,i,a){return{letter:n,ignored:-1!==e.indexOf(n),next:null,prev:r,jumps:i,visited:false,index:a}};var s=function e(t){if(!t)return null;var n=t.split("");return u(n,0)};var u=function t(n,r){if(r>=n.length)return null;var i=n[r];var a=-1!==e.indexOf(i)&&(0!==r||n.length>1);var o=" "===i;return{letter:i,is_separator:a,is_space:o,next:t(n,r+1),index:r}};var l=function e(t,n){if(!n)return true;if(TS.boot_data.feature_tinyspeck&&(_.isUndefined(t)||null===t)){TS.warn("_containsAllLetters: str passed in was not defined: ",t);return false}var r=n.is_separator||-1!==t.indexOf(n.letter);if(!r)return false;return e(t,n.next)}})()},2595:function(e,t){(function(){TS.registerModule("ui.frecency",{onStart:function e(){TS.client&&TS.client.before_login_sig.addOnce(n);TS.web&&TS.web.before_login_sig.addOnce(n);TS.prefs.frecency_jumper_changed_sig.add(r)},record:function t(){e.record.apply(this,arguments)},query:function t(){return e?e.query.apply(this,arguments):[]},clearCache:function t(){e._clearCache.apply(this)},getMostCommonWithPrefix:function t(){return e?e.getMostCommonWithPrefix.apply(this,arguments):[]},isEnterprise:function e(){return TS.enterprise.isCrossWorkspacePrototypeEnabled()},bonus_points:{starred_channel:10,member_of_this_channel:25,archived_channel_or_group:-50,foreign_channel_or_group:-15,not_in_channel:-25,usergroup_or_keyword:-25,fuzzy_match:50,emoji_match:150,exact_match:100,matches_previous_name:-50}});var e;var t=6e4;var n=function n(){e=TS.frecency.construct("jumper",{onStart:function e(){i=TS.utility.throttleFunc(i,t,true);return TS.model.frecency_jumper},recordFunc:function e(t){TS.model.frecency_jumper=t;i()},onClearCache:function e(){TS.prefs.setPrefByAPI({name:TS.ui.frecency.isEnterprise()?"frecency_ent_jumper":"frecency_jumper",value:"{}"})}})};var r=function t(){e._setCache(TS.model.frecency_jumper)};var i=function e(){TS.prefs.setPrefByAPI({name:TS.ui.frecency.isEnterprise()?"frecency_ent_jumper":"frecency_jumper",value:JSON.stringify(TS.model.frecency_jumper)})}})()},2596:function(e,t){(function(){TS.registerModule("ui.inline_saver",{show:function t(n){n=n||{};var i=$(n.target);if(!i.length){TS.warn("TS.ui.inline_saver called without a valid target.");return}var a=i.data("inline-saver");if(a&&a.length){a.remove();clearTimeout(i.data("inline-saver-spin-timeout"))}var o=$(TS.templates.inline_saver({custom_text:n.custom_text,hide_text:n.hide_text}));o.insertAfter(i);i.data("inline-saver",o);if(n.promise)n.promise.then(function(){r(n)}).catch(function(){r(n,true)});else{var s=setTimeout(function(){r(n)},e);i.data("inline-saver-spin-timeout",s)}}});var e=500;var t=2e3;var n=3e3;var r=function e(r,i){r=r||{};var a=$(r.target);clearTimeout(a.data("inline-saver-hide-timeout"));var o=a.data("inline-saver");if(!o||!o.length)return;var s=i?"failed":"saved";TS.utility.rAF(function(){o.removeClass("saving").addClass(s)});var u=i?n:t;var l=setTimeout(function(){o.remove()},u);a.data("inline-saver-hide-timeout",l)}})()},2597:function(e,t){(function(){TS.registerModule("ui.toast",{show:function t(n){m();var r=$.extend({},e,n);["success","warning","error"].indexOf(r.type)<0&&(r.type=e.type);["top","bottom"].indexOf(r.position)<0&&(r.position=e.position);r.message=new Handlebars.SafeString(r.message);r.retry_message=new Handlebars.SafeString(r.retry_message);n.retry_action&&(r._retryable=true);h(r);return r}});var e={dismissable:false,message:TS.interop.i18n.t("Success","toast")(),position:"bottom",retry_action:_.noop,retry_message:TS.interop.i18n.t("Something went wrong. Try again?","toast")(),type:"success",_retryable:false};var t=".dismiss_toast";var n=".retry_toast";var r=[];var i=false;var a;var o;var s=3e3;var u;var l=function e(){a.on("click",t,c);a.on("click",n,y)};var c=function e(){o&&clearTimeout(o);v()};var f=function e(){S()&&p()};var d=function e(){return r.shift()};var v=function e(){if(S())p();else{a.removeClass("toast_in").addClass("toast_out");i=false;f()}};var g=function e(){o&&clearTimeout(o);o=setTimeout(function(){v()},s)};var m=function e(){if(!a){a=$('<div id="toast" class="hidden">');var t=TS.templates.toast({});a.html(t);a.appendTo("body");l()}};var p=function e(){var t=d();t&&h(t,true)};var h=function e(t,n){if(i&&!n)r.push(t);else{u=t;var o=TS.templates.toast({instance:t,already_exists:!!n});a.html(o);T()}};var S=function e(){return r.length>0};var y=function e(){if(!u._retryable||"error"!==u.type)return;u.retry_action();c()};var T=function e(){if(!i){a.removeClass("hidden").removeClass("toast_out").addClass("toast_in");i=true}g()}})()},2598:function(e,t){(function(){TS.registerModule("ui.toggle",{onStart:function e(){$('input[type="checkbox"][data-style="toggle"]').each(function(){$(this).togglify()})},togglify:function n(r,i){if(i)i=_.defaults({},i,e);else{i={};i.initial_state=r.data("initial_state")?r.data("initial_state"):e.initial_state;i.label=r.data("label")?r.data("label"):e.label;i.on_class=r.data("on-class")?r.data("on-class"):e.on_class;i.on_text=r.data("on-text")?r.data("on-text"):e.on_text;i.off_text=r.data("off-text")?r.data("off-text"):e.off_text;i.off_class=r.data("off-class")?r.data("off-class"):e.off_class;i.off_label=r.data("off-label")?r.data("off-label"):e.off_label;i.disabled=r.data("disabled")?r.data("disabled"):e.disabled;i.cls=r.data("cls")?r.data("cls"):e.cls}null===i.initial_state&&(i.initial_state=!!r.is(":checked"));null===i.disabled&&(i.disabled=!!r.is(":disabled"));t(r,i);return r}});var e={cls:"",initial_state:null,label:"",on_text:TS.interop.i18n.t("On","toggle")(),on_class:"",off_text:TS.interop.i18n.t("Off","toggle")(),off_class:"",off_label:"",disabled:null};var t=function t(r,i){var a=r;var o=r.closest("label");if(o.length){a=o;var s=$.trim(o.text());s&&i.label===e.label&&i.off_label===e.off_label&&(i.label=s)}var u=n(i);var l=$(u);a.addClass("offscreen").after(l);l.on("click",function(){$(this).toggleClass("checked");r.prop("checked",$(this).hasClass("checked")).trigger("change");if(i.on_class!==i.off_class){$(this).toggleClass(i.on_class,$(this).hasClass("checked"));$(this).toggleClass(i.off_class,!$(this).hasClass("checked"))}else""!==i.on_class&&TS.warn("TS.ui.toggle: on & off classes are the same. You may want to use the `cls` option instead")})};var n=function e(t){var n=TS.templates.toggle({settings:t});return n}})();$.fn.togglify=function(e){return TS.ui.toggle.togglify($(this),e)}},2599:function(e,t){(function(){TS.registerModule("selection",{isAnyTextSelected:function e(){return""!=window.getSelection().toString().trim()},selectNodeContents:function e(t){if(!t)return;if(!document.body.contains(t)){TS.warn("TS.selection.selectNodeContents: node is not in DOM");return}var n=document.createRange();n.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges();r.addRange(n);return r},selectCharacters:function e(t,n,r){if(!t)return;if(!document.body.contains(t)){TS.warn("TS.selection.selectCharacters: node is not in DOM");return}_.isNumber(n)||(n=0);_.isNumber(r)||(r=n);if("setSelectionRange"in t){t.focus();t.setSelectionRange(n,r);return}if(!t.childNodes.length)return;var i=0;var a;var o=0;var s;var u=0;var l=TS.utility.getChildTextNodes(t);_.each(l,function(e){var t=e.textContent.length;if(!a&&i+t>=n){a=e;o=n-i}if(!s&&i+t>=r){s=e;u=r-i}if(a&&s)return false;i+=t});if(!a||!s){TS.warn("TS.selection.selectCharacters: could not find start and end nodes");return}var c=document.createRange();c.setStart(a,o);c.setEnd(s,u);var f=window.getSelection();f.removeAllRanges();f.addRange(c)},snapshot:function e(){var t=window.getSelection();var n;t.rangeCount&&(n=t.getRangeAt(0).cloneRange());return function(){var e=window.getSelection();e.removeAllRanges();n&&e.addRange(n)}},combineRanges:function e(t){if(!t)return null;var n=t.getRangeAt(0);if(t.rangeCount>1){var r=t.getRangeAt(t.rangeCount-1);n.setEnd(r.endContainer,r.endOffset)}return n}})})()},2600:function(e,t){(function(){TS.registerModule("utility.ui",{onStart:function e(){},isElementVisible:function i(a,o,s){var u=window.getComputedStyle(a);if(!n(o,s).all)return false;if(!r(o))return false;if(!t(u))return false;if(!e(a))return false;return true}});var e=function e(n){while(n.parentNode&&"HTML"!==n.tagName){var r=window.getComputedStyle(n);if(!t(r))return false;n=n.parentNode}return true};var t=function e(t){return"none"!==t.display&&"hidden"!==t.visibility&&0!=t.opacity&&0!=t.maxHeight&&0!=t.maxWidth};var n=function e(t,n){n=n||0;var r=(window.innerHeight||document.documentElement.clientHeight)+n;var i=(window.innerWidth||document.documentElement.clientWidth)+n;var a=t.top>-n;var o=t.left>-n;var s=t.right<=i;var u=t.bottom<=r;var l={all:a&&s&&u&&o,top:a,right:s,bottom:u,left:o};return l};var r=function e(t){return t.height>0&&t.width>0}})()},2601:function(e,t){(function(){TS.registerModule("utility.invites",{onStart:function e(){},hideFullMemberInviteOption:function e(){var t=TS.boot_data.page_needs_enterprise;var n="saml"===TS.prefs.getTeamPref("auth_mode");var r=0===TS.prefs.getTeamPref("sso_auth_restrictions")||1===TS.prefs.getTeamPref("sso_auth_restrictions");if(t&&(TS.model.user.is_admin||TS.model.user.enterprise_user&&TS.model.user.enterprise_user.is_admin))return false;return t||n&&r}})})()},2602:function(e,t){(function(){TS.registerModule("utility.process_nicely",{process:function e(t,n,r,i,a,o){_.isUndefined(a)&&(a=o?t.length-1:0);var s=o?-1:t.length;var u=o?-1:1;return new Promise(function(e,l){var c;var f=10;var d=performance.now();try{n();for(c=a;c!==s;c+=u){r(t[c]);var _=performance.now()-d;var v=_>f;if(v)break}}catch(e){l(e);return}finally{i()}var g=c+1<s;if(!g){e();return}setTimeout(function(){TS.utility.process_nicely.process(t,n,r,i,c+1,o).then(e).catch(l)},0)})},processRight:function e(t,n,r,i,a){var o=true;return TS.utility.process_nicely.process(t,n,r,i,a,o)}})})()},2603:function(e,t){(function(){TS.registerModule("pending_users",{sanitizeNameFields:function e(t){if(!t.invite_prefs||t.invite_prefs.real_name)return;var n=t.invite_prefs;n.first_name&&n.last_name?n.real_name=[n.first_name,n.last_name].join(" ").trim():n.first_name?n.real_name=n.first_name:n.last_name&&(n.real_name=n.last_name)},getUserNameForSort:function e(t){if(t.invite_prefs&&t.invite_prefs.real_name)return t.invite_prefs.real_name.toLowerCase();return t.email},filterOutURAs:function e(t){return t.filter(function(e){if(e.invite_prefs&&"ultra_restricted"===e.invite_prefs.type)return false;return true})},checkUserMatch:function e(t,n){return t.invite_prefs&&t.invite_prefs.real_name&&t.invite_prefs.real_name.match(n)||t.email.match(n)},invitePendingUsersToChannel:function e(t,n){if(!n||!t||!t.length)return;var r=t.map(function(e){return e.email});while(r.length){var i=r.splice(0,30).join(",");TS.interop.api.call("channels.invitePendingUsers",{channel:n,emails:i})}},usersSorterByName:function e(t,n){var r=t.member?TS.members.getPrefCompliantMemberNameLowerCase(t.member):TS.pending_users.getUserNameForSort(t);var i=n.member?TS.members.getPrefCompliantMemberNameLowerCase(n.member):TS.pending_users.getUserNameForSort(n);if(r<i)return-1;if(r>i)return 1;return 0}})})()},2604:function(e,t){(function(){TS.registerModule("utility.channels",{getPermissibleChannelName:function e(t){if("@"===t.charAt(0)||"#"===t.charAt(0)&&1===t.length||t.indexOf(",")>-1)return null;if(!(t&&/^.+$/.test(t)&&TS.permissions.members.canCreateChannels()))return null;var n=TS.utility.cleanChannelName(t.substring(0,21));if(!n||TS.redux.channels.getPublicOrPrivateChannelByName(n)||TS.interop.members.memberExistsWithName(n))return null;return n}})})()},2605:function(e,t){TS.registerModule("constants",{onStart:_.noop,avatar_size_map:{20:{standard:"image_24",retina:"image_48"},24:{standard:"image_24",retina:"image_48"},32:{standard:"image_32",retina:"image_72"},36:{standard:"image_48",retina:"image_72"},48:{standard:"image_48",retina:"image_72"},64:{standard:"image_64",retina:"image_64"},72:{standard:"image_72",retina:"image_192"},192:{standard:"image_192",retina:"image_192"}}})},2606:function(e,t){(function(){TS.registerModule("utility.number",{onStart:function e(){},formatNumberWithAbbreviation:function e(t,n){return TS.interop.utility.formatNumberWithAbbreviation(t,n)}})})()},2607:function(e,t){(function(){TS.registerModule("channels.backfills",{onStart:function t(){e={}},updateBackfillingList:function t(n){var r={id:n.id};if(false===n.is_org_default){r.is_org_default=false;r.is_org_mandatory=false}else if(false===n.is_org_mandatory)r.is_org_mandatory=false;else if(n.is_org_mandatory){r.is_org_default=true;r.is_org_mandatory=true}else n.is_org_default&&(r.is_org_default=true);TS.interop.channels.upsertChannel(r);var i=e[n.id];if(n.backfill_ends){if(!i)return;"remove_default"!==n.backfill_ends&&i.backfill_starts!==n.backfill_ends||delete e[n.id]}else if(n.backfill_starts){if(i)return;e[n.id]=n}},isBackfilling:function t(n){if(!TS.boot_data.feature_default_shared_channels)return false;return!!e[n]}});var e})()},2608:function(e,t){(function(){TS.registerModule("incoming_call",{div:null,is_showing:false,default_setting:{onAccept:null,onReject:null,onTimeout:null,onShow:null,onEnd:null},current_setting:null,Q:[],onKeydown:function e(t){if(t.which==TS.utility.keymap.enter){if("BODY"===TS.utility.getActiveElementProp("NODENAME")){TS.incoming_call.accept();t.preventDefault()}}else t.which==TS.utility.keymap.esc&&"BODY"===TS.utility.getActiveElementProp("NODENAME")&&TS.incoming_call.reject()},start:function e(t){if(TS.incoming_call.is_showing){t.unique&&TS.incoming_call.current_setting.unique==t.unique?TS.info("redundant generic dialog not Qed: "+t.unique):TS.incoming_call.Q.push(t);return}TS.incoming_call.current_setting=_.defaults({},t,TS.incoming_call.default_setting);var n=TS.incoming_call.current_setting;TS.incoming_call.div||TS.incoming_call.build();var r=TS.incoming_call.div;var i=TS.templates.calls_incoming_call({caller:t.caller,name:t.name,is_video_call:t.is_video_call,team:TS.interop.rules.teams.getTeamDisplayName(TS.model.team)});r.empty();r.html(i);r.find(".accept_audio").click(function(){TS.incoming_call.accept(false)});r.find(".accept_video").click(function(){TS.incoming_call.accept(true)});r.find(".reject").click(TS.incoming_call.reject);r.modal("show");document.activeElement&&document.activeElement!=document.body&&document.activeElement.blur();n.onShow&&n.onShow()},accept:function e(t){if(!TS.incoming_call.is_showing){TS.error("incoming call not showing?");return}var n=TS.incoming_call.current_setting;var r=TS.incoming_call.div;r.modal("hide");n.onAccept(t)},reject:function e(){var t=TS.incoming_call.current_setting;TS.incoming_call.div.modal("hide");t.onReject&&t.onReject()},timeout:function e(){var t=TS.incoming_call.current_setting;TS.incoming_call.div.modal("hide");t.onTimeout&&t.onTimeout()},end:function e(){var t=TS.incoming_call.current_setting;TS.model.dialog_is_showing=false;TS.incoming_call.is_showing=false;$(window.document).unbind("keydown",TS.incoming_call.onKeydown);TS.incoming_call.div.empty();t.onEnd&&t.onEnd();if(!TS.incoming_call.is_showing&&TS.incoming_call.Q.length){var n=TS.incoming_call.Q.shift();TS.incoming_call.start(n)}},build:function e(){$("body").append('<div id="incoming_call" class="modal hide" data-keyboard="false" data-backdrop="static"></div>');TS.incoming_call.div=$("#incoming_call");var t=TS.incoming_call.div;t.on("hidden",function(e){if(e.target!=this)return;TS.incoming_call.end()});t.on("show",function(e){if(e.target!=this)return;TS.model.dialog_is_showing=true;TS.incoming_call.is_showing=true});t.on("shown",function(e){if(e.target!=this)return;setTimeout(function(){if(!TS.incoming_call.is_showing)return;t.find(".title_input").select();$(window.document).bind("keydown",TS.incoming_call.onKeydown)},100)})}})})()},2609:function(e,t){(function(){TS.registerModule("ui.pins",{onStart:function e(){TS.pins.pins_fetched_sig.add(TS.ui.pins.rebuildPinnedMessagesUI);TS.pins.pinned_status_changed_sig.add(TS.ui.pins.updatePinUI)},updatePinUI:function r(i,a,o){if(!i||!a)return;"file"===a.type?t(i,a.file,o):"file_comment"===a.type&&n(i,a.comment,o);"message"===a.type&&e(i,a.message,o)},rebuildPinnedMessagesUI:function e(t,n){if(!n||0===n.length)return;n.forEach(function(e){TS.ui.pins.updatePinUI(t,e,true)})},clearUnreadPinState:function e(){TS.client.channel_header.clearUnreadPinState();TS.client.channel_page.clearUnreadPinState()}});var e=function e(t,n,r){if(!t||!n||!n.ts)return;var i=TS.templates.makeMsgDomId(n.ts);var a=$("#messages_container #"+i+', #messages_container .message_unfurl[data-attachment-ts="'+n.ts+'"]');var o=a.find(".is_pinned_holder:first");if(0===a.length||0===o.length)return;if(r){a.addClass("is_pinned");o.html(TS.templates.builders.buildPinInfoHtml(n).string)}else{a.removeClass("is_pinned");o.empty()}};var t=function e(t,n,i){if(!t||!n)return;var a=$('.message_body[data-file-id="'+n.id+'"]');var o=a.closest("ts-message");r(t,o,i)};var n=function e(t,n,i){if(!t||!n)return;var a=$(".rxns_key_"+n._rxn_key);var o=a.closest("ts-message");r(t,o,i)};var r=function t(n,r,i){if(!n||0===r.length)return;_.forEach(r,function(t){var r=$(t).data("ts");if(!r)return;t=TS.utility.msgs.getMsg(r,n.msgs);if(!t)return;e(n,t,i)})}})()},2611:function(e,t,n){"use strict";var r=n(942);var i=n.n(r);(function(){TS.registerModule("utility.calls_log",{enableDevLogging:function e(){if(TS.interop.environment.isDev){TS.pri="123,"+TS.pri;TS.interop&&TS.interop.console&&TS.interop.console.setLogLevel("info")}},enableBuffering:function e(n){t.enable_buffering=n},logInfo:function e(){var t=a.apply(null,arguments);TS.info(t);r(t,"INF")},logWarn:function e(){var t=a.apply(null,arguments);TS.warn(t);r(t,"WRN")},logError:function e(){var t=a.apply(null,arguments);TS.error(t);r(t,"ERR")},logEvent:function e(t){o(t,"EINF",true)},logEventInfo:function e(t){o(t,"EINF",true)},logEventWarn:function e(t){o(t,"EWRN",false)},logEventError:function e(t){o(t,"EERR",false)},getAndClearBuffer:function e(){var r=n.buffer.join("\n");n.buffer_overflow&&(r+=t.excess);n.buffer=[];n.buffer_length=0;n.buffer_overflow=false;return r},postLogs:function t(){if(!e){var n=TS.calls.getCallState().room_id;var r=TS.utility.calls_log.getAndClearBuffer();if(!r.length)return Promise.reject(new Error("Could not post empty logs."));if(!n)return Promise.reject(new Error("Could not post logs without room id."));e=Promise.all([s(n,r),u(n,r)])}return e}});var e=void 0;var t={enable_buffering:false,MAX_LENGTH:3e4,excess:"... log is too long"};var n={buffer:[],buffer_length:0,buffer_overflow:false};var r=function e(r,i){var a;if(false===t.enable_buffering)return;a="["+i+"|"+TS.makeLogDate()+"]:";a.length+r.length+n.buffer_length+t.excess.length<t.MAX_LENGTH?n.buffer.push(a+r):n.buffer_overflow=true};var a=function e(){var t=[];for(var n=0;n<arguments.length;n+=1){if(!arguments[n])continue;"object"===i()(arguments[n])?t.push(JSON.stringify(arguments[n])):t.push(arguments[n].toString())}return t.join(" ")};var o=function e(t,n,i){var o=a(t.value);var s=t.event+": "+o;switch(n){case"EDBG":break;case"EINF":TS.info(s);break;case"EWRN":TS.warn(s);break;case"EERR":TS.error(s);break;default:break}i||TS.utility.calls_analytics.logEvent($.extend(t,{level:n}));r(s,n)};var s=function e(t,n){return TS.interop.api.call("screenhero.rooms.userEvent",{room:t,event_type:"vo-logs",event_metadata:JSON.stringify({logs:n})}).catch(function(){TS.error("Posting logs to userEvent failed")})};var u=function e(t,n){return TS.interop.api.call("screenhero.rooms.proxyLogs",{data:JSON.stringify({room_id:t,user_id:TS.model.user.id,team_id:TS.model.team.id,event_type:"calls_js_logs",encoding:"none",logs:n})}).catch(function(){TS.error("Posting logs to proxyLogs failed.")})}})()},2612:function(e,t){(function(){TS.registerModule("debug_widget",{onStart:function t(){if(!TS.client)return;if(!TS.client.ui)return;if(!TS.members)return;e=$("#debug_widget");if(!e.length)return;TS.client.ui.did_rebuild_all_sig.add(g);TS.client.ui.did_rebuild_all_but_msgs_sig.add(d);TS.client.msg_pane.did_rebuild_msgs_sig.add(v);TS.members.member_was_upserted_sig.add(f);e.click(function(e){e.preventDefault();if(e.altKey){r=0;i=0;a=0;o=0;n=0;p()}});window.localStorage&&window.localStorage.show_debug_widget&&TS.debug_widget.toggle()},toggle:function n(){if(!TS.client||!e)return;e.toggleClass("hidden");if(e.hasClass("hidden")){t=false;window.localStorage&&delete window.localStorage.show_debug_widget;e.empty()}else{t=true;window.localStorage&&(window.localStorage.show_debug_widget=1);p()}},isVisible:function e(){return!!t},setFrameRate:function e(t){s=t}});var e;var t=false;var n=0;var r=0;var i=0;var a=0;var o=0;var s=0;var u=500;var l;var c=Handlebars.compile('Rt={{rebuild_all_count}} Rb={{rebuild_all_but_messages_count}} Rm={{rebuild_messages_count}}<br>Um={{upsert_member_count}} <span class="{{color_class}}"><ts-icon class="ts_icon_add_user"></ts-icon> {{time_since_readable}}</span><br>Members={{total_member_count}} <ts-icon class="ts_icon_user"></ts-icon><br>FPS={{average_frame_rate}}');var f=function e(){o+=1;n=Date.now();h()};var d=function e(){i+=1;h()};var v=function e(){a+=1;h()};var g=function e(){r+=1;h()};var m=function e(){var t=Date.now()-n;var u="";t<2e3?u="candy_red":t<1e4?u="star_yellow":t<2e4&&(u="ocean_teal");var l="";t<1e3?l="<1s":t<2e4&&(l=Math.floor(t/1e3)+"s");return{has_recent_member_upsert:!!u,color_class:u,rebuild_all_count:r,rebuild_all_but_messages_count:i,rebuild_messages_count:a,time_since_readable:l,upsert_member_count:o,total_member_count:_.get(TS,"model.members.length",0),average_frame_rate:s||"..."}};var p=function t(){clearTimeout(l);l=void 0;var n=m();var r=c(n);e.html(r);n.has_recent_member_upsert&&h()};var h=function n(){if(!e)return;if(!t)return;if(l)return;l=setTimeout(p,u)}})()},2613:function(e,t){(function(){TS.registerModule("utility.calls_analytics",{onStart:function e(){if(TS.calls){TS.calls.room_id_sig.add(s);TS.web.login_sig.add(u)}if(TS.client){TS.utility.calls.room_id_sig.add(s);TS.client.login_sig.add(u)}},teardown:function e(){clearTimeout(t);i.room_id&&delete i.room_id},isStateClean:function e(){return _.isEmpty(i)},record:function e(i,a){var s=i.slice(0,i.indexOf("."));var u="video_send_stats"===s||"video_recv_stats"===s||"network_stats"===s;!u&&_.find(r,function(e){return e.measurement===i})||r.push(o(i,a));t||(t=setTimeout(TS.utility.calls_analytics.flush,n))},promiseToRecordImmediately:function e(t,n){var r={database:a(),points:[o(t,n)]};return TS.interop.api.call("screenhero.rooms.proxyAnalytics",{data:JSON.stringify(r)},null,true).catch(_.noop)},flush:function e(){if(r.length){var n=Date.now();r=r.map(function(e){e.fields.posted_time=n;return e});TS.interop.api.call("screenhero.rooms.proxyAnalytics",{data:JSON.stringify({database:a(),points:r})},null,true).catch(_.noop);r=[]}clearTimeout(t);t=void 0},logEvent:function t(n){var r;if(!(TS.model&&TS.model.user&&TS.model.user.id||i.room_id)){TS.warn("calls analytics module not ready: "+JSON.stringify(n));return}r=["user_event_logs"];i.room_id?r.push(i.room_id):r.push(TS.model.user.id);$.extend(n||{},{user_id:TS.model.user.id,os:e.os,ssb_version:e.ssb_version,webapp_version:e.webapp_version});TS.utility.calls_analytics.record(r.join("."),n)}});var e={};var t;var n=5e3;var r=[];var i={};var a=function e(){return TS.interop.environment.isDev?"calls_dev":"calls"};var o=function e(t,n){"string"!==typeof n&&"number"!==typeof n||(n={value:n});n.value=JSON.stringify(n.value);n.client_time=Date.now();return{measurement:t,fields:n}};var s=function e(t){i.room_id=t.room_id};var u=function t(){TS.model.is_mac?e.os="mac":TS.model.is_win?e.os="win":TS.model.is_lin?e.os="lin":e.os=navigator.userAgent;e.webapp_version=TS.boot_data.min_sh_version_ts;TS.model.mac_ssb_version?e.ssb_version=TS.model.mac_ssb_version+"."+TS.model.mac_ssb_version_minor:TS.model.win_ssb_version?e.ssb_version=TS.model.win_ssb_version+"."+TS.model.win_ssb_version_minor:TS.model.lin_ssb_version?e.ssb_version=TS.model.lin_ssb_version+"."+TS.model.win_lin_version_minor:e.ssb_version="N/A"}})()},2614:function(e,t){(function(){TS.registerModule("inline_videos",{no_scrolling:false,expand_sig:new signals.Signal,collapse_sig:new signals.Signal,onStart:function e(){$("#messages_container").on("keydown",".msg_inline_media_toggler",function(){13!=event.which&&32!=event.which||event.target.click()})},shouldExpand:function e(t,n){if(TS.model.expandable_state["vid_"+t+n.src])return true;if(false===TS.model.expandable_state["vid_"+t+n.src])return false;if(n.internal_file_id)return TS.prefs.getPref("expand_internal_inline_imgs");return TS.prefs.getPref("expand_inline_imgs")},expandAllInCurrent:function e(){var t=$(".msg_inline_media_toggler[data-media-type=video]:not(.expanded)");if(!t.length)return;TS.inline_videos.no_scrolling=true;t.trigger("click");TS.inline_videos.no_scrolling=false},collapseAllInCurrent:function e(){$(".msg_inline_media_toggler[data-media-type=video].expanded").trigger("click")},expand:function e(t,n){TS.model.expandable_state["vid_"+t+n]=true;TS.storage.storeExpandableState(TS.model.expandable_state);var r="#"+TS.utility.makeSafeForDomId(t);var i=$(r);if(!i.length)return;var a=TS.client&&TS.client.ui.areMsgsScrolledToBottom();var o=function e(){return $(this).data("real-src")==n};var s=TS.boot_data.feature_attachments_inline?i.find(".inline_attachment").filter(o):null;s&&s.length||(s=i.find(".msg_inline_video_holder").filter(o));s.find(".msg_inline_video_thumb_div").removeClass("hidden");s.removeClass("hidden");i.find(".msg_inline_media_toggler[data-media-type=video]:not(.expanded)").filter(o).attr("aria-expanded","true");i.find(".msg_inline_media_toggler[data-media-type=video]:not(.expanded)").filter(o).addClass("expanded");TS.client&&TS.client.ui.checkInlineImgsAndIframesEverywhere();s.css("opacity",0).stop().animate({opacity:1},300);TS.inline_videos.no_scrolling||(TS.client&&a?i.children().first().scrollintoview({duration:0,offset:"top",px_offset:10,direction:"y"}):i.find(".msg_inline_video").last().scrollintoview({duration:200,offset:"bottom",px_offset:-10,direction:"y"}));TS.inline_videos.expand_sig.dispatch(t);TS.client&&TS.client.ui.checkInlineImgsAndIframesEverywhere()},collapse:function e(t,n){TS.model.expandable_state["vid_"+t+n]=false;TS.storage.storeExpandableState(TS.model.expandable_state);var r="#"+TS.utility.makeSafeForDomId(t);var i=$(r);if(!i.length)return;var a=function e(){return $(this).data("real-src")==n};var o=TS.boot_data.feature_attachments_inline?i.find(".inline_attachment").filter(a):null;o&&o.length||(o=i.find(".msg_inline_video_holder").filter(a));o.css("visibility","hidden");i.find(".msg_inline_media_toggler[data-media-type=video].expanded").filter(a).attr("aria-expanded","false");i.find(".msg_inline_media_toggler[data-media-type=video].expanded").filter(a).removeClass("expanded");o.find(".msg_inline_video_iframe_div").html("");TS.inline_videos.collapse_sig.dispatch(t);setTimeout(function(){o.addClass("hidden");o.css("visibility","visible")},200)},enCommentHTML:function e(t){if(!t)return"";var n=new DOMParser;var r="<body>"+t+"</body>";var i=n.parseFromString(r,"text/html")||n.parseFromString(r,"text/xml");if(!i||!i.body)return"";if(0===i.body.childNodes.length)return"";if(1==i.body.childNodes.length&&i.body.childNodes[0].nodeType==Node.COMMENT_NODE)return i.body.innerHTML;var a=document.createComment(_.escape(t));return $("<div>").append(a).html()},unCommentHTML:function e(t){if(!t)return"";var n=new DOMParser;var r=n.parseFromString("<body>"+t+"</body>","text/html");if(!r||!r.body)return"";if(1!=r.body.childNodes.length)return"";var i=r.body.childNodes[0];if(i.nodeType!=Node.COMMENT_NODE)return"";return _.unescape(i.textContent)},maybeStopInlineVideoPlayback:function e(){var t=$("#msgs_scroller_div");var n=t.find("video").toArray();var r=t.find("iframe").length;if(r){var i=t.find(".msg_inline_video_iframe_div").toArray();i.forEach(function(e){var t=$(e);var n=t.next(".msg_inline_video_thumb_div");var r=t.parent();t.html("").addClass("hidden");r.html(t).append(n);n.removeClass("hidden")})}n.forEach(function(e){e.load()})},checkForInlineVideoClick:function e(t){if(!t.target)return;var n=$(t.target);var r;var i=n.closest(".message");r=i.attr("id");if(!r)return;var a=n.closest(".msg_inline_media_toggler[data-media-type=video]");if(a.length){t.preventDefault();var o=a.data("real-src");a.hasClass("expanded")?TS.inline_videos.collapse(r,o):TS.inline_videos.expand(r,o);return}var s=n.closest(".msg_inline_video_play_button");if(s.length){var u=s.closest(".msg_inline_video_holder");var l=u.find(".msg_inline_video_iframe_div");l.removeClass("hidden");u.find(".msg_inline_video_thumb_div").addClass("hidden");var c=l.data("url");var f=TS.model.inline_videos[c];if(!f){var d=c.replace(/&/g,"&amp;");f=TS.model.inline_videos[d]}if(f){l.html(TS.inline_videos.unCommentHTML(f.html));if(c.indexOf(true)){var v=l.find("video");v.length&&v[0].play()}}else{var g=TS.interop.i18n.t('<div style="padding:10px; color:white">Error: unable to find "{url}" in TS.model.inline_videos</div>',"inline_videos")({url:TS.interop.i18n.safeString(_.escape(c))});l.html(g)}}},makeInternalInlineVideo:function e(n,r){var i=400;var a=500;TS.model.inline_videos[n]=r;r.src=r.thumbnail.url||n;r.display_w=parseInt(r.thumbnail.width,10);r.width=r.display_w;r.display_h=parseInt(r.thumbnail.height,10);r.height=r.display_h;if(r.display_w>i){r.display_w=i;r.display_h=parseInt(r.height*(r.display_w/r.width),10)}if(r.display_h>a){r.display_h=a;r.display_w=parseInt(r.width*(r.display_h/r.height),10)}r.html||(r.html="MISSING video.html");r.html.indexOf("gfycat.com/ifr")>-1&&(r.html=t(r.html));r.html=r.html.replace("http://","//");if(-1==r.html.indexOf("oldwidth")){r.html=r.html.replace(" width=",' width="'+r.display_w+'" oldwidth=');r.html=r.html.replace(" height=",' height="'+r.display_h+'" oldheight=')}r.html=TS.inline_videos.enCommentHTML(r.html);r.html=TS.utility.swapInRedirUrlForIframe(r.html);var o=TS.utility.getImgProxyURL(r.src,r.display_w,r.display_h);o!=r.src?r.proxied_src=o:delete r.proxied_src},test:function e(){return{maybeRewriteGfyCatHtml:t}}});var e=/^[a-zA-Z0-9]+$/;var t=function t(n){var r=TS.utility.getAttributesFromHTMLString(n);var i=r.src;if(!i)return n;var a=i.split("ifr/")[1]||"";if(!a.match(e))return n;var o=parseInt(r.width,10);var s=parseInt(r.height,10);if(!o||!s)return n;r.src="https://"+document.location.host+"/gfycat_iframe?key="+a+"&w="+o+"&h="+s+"&"+Date.now();var u=$("<iframe>").attr(r);return u[0].outerHTML}})()},2615:function(e,t){(function(){TS.registerComponent("ui.ContextualDropDown",{_constructor:function f(d,_){_=_||{};this._show_description=_.show_description;this.updated_sig=new signals.Signal;var v=Array.prototype.slice.call(d.querySelectorAll("select option"));d.innerHTML=TS.templates.contextual_dropdown({show_description:_.show_description});this._dropdown=d.querySelector(".contextual_dropdown");this._dropdown_label=d.querySelector(".contextual_dropdown_label");this._dropdown_container=d.querySelector(".contextual_dropdown_container");_.show_description&&(this._dropdown_desc=d.querySelector(".contextual_dropdown_desc"));this._onOpen=i.bind(this);this._onClose=a.bind(this);this._onItemClicked=s.bind(this);this._onItemMouseOver=u.bind(this);this._onItemMouseOut=l.bind(this);this._onItemPress=c.bind(this);this._onFocus=e.bind(this);this._onBlur=t.bind(this);this._onEnterPress=n.bind(this);this._onArrowPress=r.bind(this);this._dropdown_label.addEventListener("click",this._onOpen);this._dropdown_label.addEventListener("focus",this._onFocus);this._dropdown_label.addEventListener("blur",this._onBlur);var g=/(<([^>]+)>)/gi;var m="";var p;var h;var S;v.forEach(function(e){p=e.getAttribute("data-desc")||"";h=e.getAttribute("data-desc-disabled")||"";S=!!e.getAttribute("disabled");m+=TS.templates.contextual_dropdown_item({label:e.label,value:e.value,desc:p,desc_disabled:h,disabled:S,aria_label:(p||e.label).replace(g,"")})});var y=d.querySelector(".contextual_dropdown_items");y.innerHTML=m;this._items=Array.prototype.slice.call(y.querySelectorAll(".contextual_dropdown_item"));this._items.forEach(function(e){e.addEventListener("click",this._onItemClicked);e.addEventListener("keydown",this._onItemPress);if(_.show_description){e.addEventListener("mousemove",this._onItemMouseOver);e.addEventListener("focus",this._onItemMouseOver);e.addEventListener("mouseout",this._onItemMouseOut)}}.bind(this));this._items.length&&(_.start_value?o.call(this,y.querySelector('[data-value="'+_.start_value+'"]')):_.select_first&&o.call(this,this._items[0]))},getSelectedItem:function e(){return this._current_item||null},getSelectedValue:function e(){if(!this._current_item)return null;return this._current_item.getAttribute("data-value")},destroy:function e(){this._onClose();this._dropdown_label.removeEventListener("click",this._onOpen);this._dropdown_label.removeEventListener("focus",this._onFocus);this._dropdown_label.removeEventListener("blur",this._onBlur);this._items.forEach(function(e){e.removeEventListener("click",this._onItemClicked);e.removeEventListener("keydown",this._onItemPress);if(this._show_description){e.removeEventListener("mousemove",this._onItemMouseOver);e.removeEventListener("focus",this._onItemMouseOver);e.removeEventListener("mouseout",this._onItemMouseOut)}}.bind(this))}});var e=function e(){document.addEventListener("keydown",this._onEnterPress)};var t=function e(){document.removeEventListener("keydown",this._onEnterPress)};var n=function e(t){if("Enter"===t.key)this._is_open?this._onClose():this._onOpen();else if(!this._is_open&&"ArrowDown"===t.key){this._onOpen();this._onArrowPress(t)}};var r=function e(t){var n;if("ArrowDown"===t.key){n=this._items.indexOf(this._focused_item);n<this._items.length-1?n+=1:n=0}else if("ArrowUp"===t.key){n=this._items.indexOf(this._focused_item);n>0?n-=1:n=this._items.length-1}void 0!==n&&this._items[n].focus()};var i=function e(t){t&&t.stopPropagation();this._dropdown_label.removeEventListener("click",this._onOpen);document.body.addEventListener("click",this._onClose);document.addEventListener("keydown",this._onArrowPress);if(this._current_item){var n=this._current_item.getAttribute("data-desc");this._dropdown_desc.innerHTML=n}this._dropdown.classList.add("is_open");this._is_open=true;this._focused_item=null;this._dropdown_container.setAttribute("aria-hidden",false)};var a=function e(){document.body.removeEventListener("click",this._onClose);document.removeEventListener("keydown",this._onArrowPress);this._dropdown_label.addEventListener("click",this._onOpen);this._dropdown.classList.remove("is_open");this._is_open=false;this._dropdown_container.setAttribute("aria-hidden",true)};var o=function e(t,n){if(this._current_item&&this._current_item===t||!t)return;if(t.getAttribute("disabled")){n&&n.stopPropagation();return}this._current_item&&this._current_item.classList.remove("is_selected");this._current_item=t;this._current_item.classList.add("is_selected");this._dropdown_label.innerHTML=this._current_item.getAttribute("data-label");var r=this._current_item.getAttribute("data-desc");this._dropdown_desc&&(this._dropdown_desc.innerHTML=r);this.updated_sig.dispatch(this.getSelectedValue())};var s=function e(t){o.call(this,t.target,t)};var u=function e(t){if(this._focused_item===t.target)return;var n=t.target.getAttribute("disabled")?t.target.getAttribute("data-desc-disabled"):t.target.getAttribute("data-desc");this._dropdown_desc.innerHTML=n;this._focused_item&&this._focused_item.blur();this._focused_item=t.target;this._focused_item.focus()};var l=function e(t){if(this._focused_item===t.target){this._focused_item.blur();this._focused_item=null}};var c=function e(t){if("Enter"===t.key){o.call(this,t.target,t);this._dropdown_label.focus();this._onClose();t.stopPropagation()}}})()},2616:function(e,t){(function(){TS.registerModule("ui.token_input",{onStart:function e(){},make:function e(t,i){if(!(t&&t.length))return;var a=t.find("input");if(!(a&&a.length))return;a.val().trim()&&n(a);t.on("click",function(){t.addClass("active");a.focus()});a.on("paste",function(){setTimeout(function(){var e=a.val().trim();if(!/,/.test(e))return true;e&&n(a,i)},0)}).on("keydown",function(e){var t=a.val().length;(t||e.which!==TS.utility.keymap.del)&&(1!==t||a.prev(".token").length)||r(a,i);t&&e.which===TS.utility.keymap.enter&&n(a,i)}).on("keyup",function(e){var t=a.val().length;!t||e.which!==TS.utility.keymap.comma&&e.which!==TS.utility.keymap.space||n(a,i)}).on("focusout",function(){n(a,i);t.removeClass("active")}).on("focusin",function(){t.addClass("active")});a.data("placeholder",a.attr("placeholder"));t.find(".token").length&&a.attr("placeholder","");i&&i.remove_on_click&&t.on("click",".token",function(){$(this).remove()})},value:function n(r,i){if(i)return t(r,i);return e(r)}});var e=function e(t){var n=[];t.find(".token").each(function(){var e=$(this).text().trim();n.push(e)});return n.join(", ")};var t=function e(t,r){var i=t.find("input");t.find(".token").remove();i.val(r);n(i)};var n=function e(t,n){var r=t.val().trim();var i=r.split(/\s*[,\s]\s*/);var a=false;i.forEach(function(e){if(e){var r=$("<span />").addClass("token").text(e);r.toggleClass("remove_on_click",n&&n.remove_on_click);t.before(r);a=true;n&&n.onTokenChange&&n.onTokenChange(t,r)}});a&&t.attr("placeholder","").val("")};var r=function e(t,n){var r=t.prev(".token");if(r.length){var i=r.text();r.remove();t.val(i+" ")}else t.attr("placeholder",t.data("placeholder"));n&&n.onTokenChange&&n.onTokenChange(t)}})()},2618:function(e,t){(function(){TS.registerModule("ui.share_message_dialog",{start:function a(s,u,l){var c=TS.utility.msgs.findMsg(s,u.id);if(!c){TS.error("wtf no msg?");return}TS.tips.hideAll();if(TS.boot_data.feature_file_threads){TS.redux.dispatch(TS.interop.redux.actions.openShareDialog({ts:s,channelId:u.id}));return}e=s;_.isString(s)||(e=s.toString());t=u;n=false;var f=TS.templates.builders.formatMessageAsAttachment(c,u);var d=TS.interop.i18n.t("Copy a link to this message.<br>To share, paste it anywhere.","share_message")();var v;if(!o()){d=TS.interop.i18n.t("Copy a link to this message.<br>It\u2019s private, so sharing is limited.","share_message")();v=TS.templates.share_message_dialog_same_channel({from_private_channel:(u.is_private||u.is_group)&&!u.is_mpim});v=new Handlebars.SafeString(v)}TS.ui.basic_share_dialog.start({title:TS.interop.i18n.t("Share message","share_message")(),go_button_text:TS.interop.i18n.t("Share","share_message")(),initial_message:l,attachment_html:f,author:TS.interop.members.getMemberById(c.user),same_channel:v,copy_link:TS.utility.msgs.constructAbsoluteMsgPermalink(t,e,c.thread_ts),copy_text:new Handlebars.SafeString(d),onGo:i,onEnd:r,src_model_ob:t})},maybeToggleSharedChannelsWarning:function e(t,n){TS.interop.utility.looksLikeMemberId(n.id)&&(n=TS.redux.channels.getImByMemberId(n.id)||n);if(!_.isObject(n))return;var r="";if(TS.interop.utility.isModelObjectExternal(n)&&!TS.interop.rules.channels.isPendingExternallySharedChannel(n)){var i=TS.interop.i18n.listify(_.map(n.shared_team_ids,TS.teams.getTeamNameById)).join("");if(n.is_im||n.is_mpim){n.is_im&&(i=_.escape(TS.teams.getTeamNameByMember(TS.interop.members.getMemberById(n.user))));r=TS.interop.i18n.t("<strong>This conversation includes people from another workspace.</strong> Messages and files sent here will be seen by members of {shared_teams_list}.","shared_channels")({shared_teams_list:TS.interop.i18n.safeString(i)})}else r=TS.interop.i18n.t("<strong>This is a shared channel.</strong> Messages and files sent here will be seen by members of {shared_teams_list}.","shared_channels")({shared_teams_list:TS.interop.i18n.safeString(i)})}else t&&TS.interop.members.isExternal(t)&&(r=TS.interop.i18n.t("<strong>This message is from a member of {team_name}</strong>. You may want to check with them before sharing it.","shared_channels")({team_name:TS.interop.i18n.safeString(_.escape(TS.teams.getTeamNameByMember(t)))}));$("#share_dialog_warning_msg").html(r);$("#share_dialog_warning").toggleClass("hidden",!r)}});var e;var t;var n;var r=function n(){e=null;t=null;TS.interop.clog.track("PFP_ACTION",{contexts:{growth:{action:"close",trigger:"share_message_dialog"}}});TS.tips.unhideAll()};var i=function r(){if(n)return;var i=e;var o=t;var s=TS.utility.contenteditable.value($(".basic_share_dialog .message_input"));s=TS.utility.contenteditable.legacySynchronouslyReplacePotentialMentions(s);var u=TS.format.cleanMsg(s);u=_.trim(u);var l=$(".basic_share_dialog #select_share_channels");var c=l.lazyFilterSelect("value")[0];if(c&&c.model_ob&&c.model_ob.create_channel){var f=e;var d=t;TS.ui.new_channel_modal.start(c.model_ob.name).then(function(e){t=d;a(f,u,d,e);return null}).catch(function(){TS.ui.share_message_dialog.start(f,d,u);return null});TS.generic_dialog.cancel();return false}if(!c){l.find(".lfs_input_container").addClass("error");return false}TS.redux.dispatch(TS.interop.redux.features.messageEdit.stopEditingMessagesInChannel({channelId:o.id}));a(i,u,o,c.model_ob)};var a=function e(t,r,i,a){if(TS.ui.file_share.shouldBlockUploadDialogSubmission())return false;var u=TS.utility.contenteditable.value($(".basic_share_dialog .message_input"));var l=$(".basic_share_dialog #select_share_channels");s(i.id,t);var c={channel:i.id,timestamp:t,text:r};if(o())if(a)c.share_channel=a.id;else if(i.is_archived){$("#select_share_pick_channel_note").removeClass("hidden");_.defer(function(){l.find(".lfs_input_container").click()});return false}n=true;a||(a=i);var f;f=a&&a.is_channel&&!a.is_member?TS.redux.dispatch(TS.interop.channels.joinConversationApi({channelId:a.id})):Promise.resolve();f.then(function(){return TS.interop.api.call("chat.shareMessage",c).then(function(){if(!TS.client)return;var e=TS.shared.legacyGetActiveModelOb();var t=a&&e&&e.id===a.id&&!TS.model.threads_view_is_showing&&!TS.model.unread_view_is_showing;if(!t&&c.share_channel&&a)return TS.client.displayModelOb(a)})}).catch(function(e){var n=e||"unknown error";e&&e.data&&e.data.error&&(n=e.data.error);TS.error("chat.shareMessage error: "+n);TS.generic_dialog.start({title:TS.interop.i18n.t("Message could not be shared","share_message")(),body:TS.interop.i18n.t("Sorry! Something went wrong.","share_message")(),go_button_text:TS.interop.i18n.t("Try again","share_message")(),onGo:function e(){TS.ui.share_message_dialog.start(t,i,u)}})})};var o=function e(){return t.is_channel&&!t.is_private};var s=function e(t,n){if(!t||!n)return;var r={channel_id:t,message_id:n};var i="MSG_SHARED_CLICKED";var a=$("ts-message[data-model-ob-id='"+t+"'][data-ts='"+n+"']");_.merge(r,TS.ui.thread.getTrackingPayloadForEl(a));"threads_view"===TS.ui.thread.getContextForEl(a)&&TS.client.ui.threads.incrementTrackingSeqId();TS.interop.clog.track(i,r)}})()},2619:function(e,t){(function(){TS.registerModule("frecency",{onStart:function e(){},construct:function e(t,n){return s(t,n)},getExisting:function e(t){return o(t)},test:function e(){return{_clearInstance:function e(t){delete u[t]}}}});var e=864e5;var t=[144e5,e,3*e,7*e,30*e,90*e];var n=[100,80,60,40,20,10];var r=.5;var i=t[t.length-1];var a=100;function o(e){return u[e]}function s(e,o){if(u[e]){TS.error('namespace "'+e+'" already exists');return null}var s=void 0;s=o&&o.onStart?o.onStart(e)||{}:TS.storage.fetchFrecency(e)||{};function l(e,t,n,r){var i=_.keys(s);n||(n=function e(){return 0});var a={};_.each(i,function(e){if(e.indexOf(t)>-1||t.indexOf(e)>-1)if(Array.isArray(s[e]))_.each(s[e],function(e){if(a[e.id]){var t=p(a[e.id]);var n=p(e);n>t&&(a[e.id]=e)}else a[e.id]=e});else if(a[s[e].id]){var n=p(a[s[e].id]);var r=p(s[e]);r>n&&(a[s[e].id]=s[e])}else a[s[e].id]=s[e]});var o=[];_.each(e,function(e,t){var i=0;s[e.id]&&(i=p(s[e.id]));r&&r.normalize||(i+=n(e,r));o.push({id:e.id,score:p(a[e.id])+i,original_index:t})});if(r&&r.normalize){o=f(o);o=_.map(o,function(t,i){t.score+=n(e[i],r);return t})}o.sort(function(e,t){if(e.score===t.score)return e.original_index-t.original_index;return t.score-e.score});return o}function c(t,n){if(s[n]&&!Array.isArray(s[n]))s[n].id===t.id?d(s[n]):s[n]=[s[n],v(t.id)];else if(Array.isArray(s[n])){var r=false;for(var i=0;i<s[n].length;i+=1)if(s[n][i].id===t.id){d(s[n][i]);r=true;break}r||s[n].push(v(t.id))}else s[n]={id:t.id,count:1,visits:[Date.now()]};if(s[t.id]){d(s[t.id]);s[t.id]._reduced=true}else{s[t.id]=v(t.id);s[t.id]._reduced=true}o&&o.recordFunc?o.recordFunc(s):TS.storage.storeFrecency(e,s)}function f(e){var t=_.get(_.maxBy(e,"score"),"score")||0;return _.map(e,function(e){e.score>0&&(e.score=e.score/t*100);return e})}function d(e){e.count+=1;Array.isArray(e.visits)||(e.visits=[]);10===e.visits.length&&e.visits.shift();e.visits.push(Date.now())}function v(e){return{id:e,count:1,visits:[Date.now()]}}function g(e,t){var n={};var r=[];k(false,function(e){n[e.id]?n[e.id].score+=p(e):n[e.id]={id:e.id,score:p(e)+s[e.id]?p(s[e.id]):0}});r=_.toArray(n);r.sort(function(e,t){return t.score-e.score});e&&(r=r.slice(0,e));t&&(r=f(r));return r}function m(e,t,n){var r={};var i=[];k(false,function(t){if(!t||!t.id||0!==t.id.indexOf(e))return;r[t.id]?r[t.id].score+=p(t):r[t.id]={id:t.id,score:p(t)+s[t.id]?p(s[t.id]):0}});i=_.toArray(r);i.sort(function(e,t){return t.score-e.score});t&&(i=i.slice(0,t));n&&(i=f(i));return i}function p(e){if(!e||!e.visits)return 0;var t=0;var n=e.visits.length-1;var i=Date.now();for(n;n>=0;n-=1)t+=h(i-e.visits[n]);e._reduced&&(t*=r);return e.count*t/e.visits.length}function h(e){var r=0;var i=t.length;for(r;r<i;r+=1)if(e<t[r])return n[r];return 0}function S(e){if(e)return s[e];return s}function y(e){s=e}function T(){s={};TS.storage.clearFrecency(e);o&&o.onClearCache&&o.onClearCache()}function b(){var e=Object.keys(s);_.each(e,function(e){if(_.isArray(s[e])){for(var t=s[e].length;t>-1;t-=1)w(s[e][t])&&s[e].splice(t,1);if(!s[e].length){s[e]=null;delete s[e]}}else if(w(s[e])){s[e]=null;delete s[e]}})}function w(e){if(!e||_.isEmpty(e.visits))return true;if(Date.now()-e.visits[e.visits.length-1]>i&&e.count<a)return true}function k(e,t){_.each(s,function(n){if(!e&&n._reduced)return;Array.isArray(n)?_.each(n,function(e){t(e)}):t(n)})}var x={query:l,record:c,getMostCommon:g,getMostCommonWithPrefix:m,_getCache:S,_setCache:y,_clearCache:T,_pruneCache:b,_test:{_REDUCED_MULTIPLIER:r,_PRUNE_BELOW_COUNT:a,_traverseCache:k}};u[e]=x;return x}var u={}})()},2620:function(e,t){(function(){TS.registerModule("inline_room_previews",{onStart:function e(){},toggle_sig:new signals.Signal,checkForInlineRoomPreviewClick:function e(t){var n=$(t.target);var r=n.closest(".message");if(!r.length)return;if(n.closest(".msg_inline_room_preview_expander, .msg_inline_room_preview_collapser").length){t.preventDefault();TS.inline_room_previews.toggle(r);return}n.closest(".screenhero_attachment").length&&!n.hasClass("screenhero_room_link")&&r.find(".screenhero_room_link").click()},shouldExpand:function e(t){var n=TS.model.expandable_state["inline_room_"+t];var r=TS.prefs.getPref("expand_internal_inline_imgs");return void 0===n?r:!!n},toggle:function e(t){var n=t.find(".sh_call_container");var r=n.hasClass("sh_call_collapsed");TS.model.expandable_state["inline_room_"+n.data("room-id")]=r;TS.storage.storeExpandableState(TS.model.expandable_state);n.toggleClass("sh_call_collapsed");TS.inline_room_previews.toggleIcons(t);TS.inline_room_previews.toggle_sig.dispatch(t)},expand:function e(){},collapse:function e(){},toggleIcons:function e(t){t.find(".msg_inline_room_preview_collapser, .msg_inline_room_preview_expander").toggleClass("hidden")},expandAllInCurrent:function e(){$(".msg_inline_room_preview_expander").trigger("click")},collapseAllInCurrent:function e(){$(".msg_inline_room_preview_collapser").trigger("click")}})})()},2621:function(e,t){(function(){TS.registerModule("ui.basic_share_dialog",{start:function n(r){e=r;var a=TS.templates.basic_share_dialog({attachment_html:new Handlebars.SafeString(r.attachment_html),same_channel:r.same_channel,show_copy_link:!!r.copy_link&&TS.clipboard.canWriteText(),copy_text:r.copy_text});var o="basic_share_dialog";var s=TS.interop.i18n.t("Share","basic_share_dialog")();r.dialog_class&&(o+=" "+r.dialog_class);TS.generic_dialog.start({title:r.title||s,go_button_text:r.go_button_text||s,dialog_class:o,body:a,onShow:t,onEnd:i,onGo:r.onGo})}});var e;var t=function t(){var i=$("#generic_dialog.basic_share_dialog");i.css("display","");var o=i.find("#share_dialog_input_container");var s=["channels","emoji","members"];TS.ui.inline_msg_input.make(o,{aria_label:TS.interop.i18n.t("Add optional comment before sharing.","basic_share_dialog")(),no_emo:false,placeholder:TS.interop.i18n.t("Add a message, if you\u2019d like.","basic_share_dialog")(),onEnter:TS.generic_dialog.go,onEscape:TS.generic_dialog.cancel,onTextChange:n,onTab:r,completers:s});var u=o.find(".message_input");u.attr("id","file_comment_textarea");var l=e.initial_message||"";TS.utility.contenteditable.value(u,l);var c=i.find("#file_sharing_div");c.prependTo(i.find(".modal-footer"));TS.ui.file_share.bindFileShareDropdowns(e.author,e.src_model_ob,void 0,true);c.find("#select_share_channels").css({width:""});var f=$("#share_dialog_same_channel");if(f.length){c.addClass("hidden");f.prependTo(i.find(".modal-footer"))}var d=i.find('[data-action="copy_link"]');if(d.length){i.find(".dialog_cancel").before(d);d.removeClass("hidden");d.click(a)}var _=i.find("#share_dialog_warning");_.appendTo(i.find(".modal-footer"));TS.generic_dialog.div.on("shown",function e(){TS.generic_dialog.div.off("shown",e);TS.utility.contenteditable.focus(u)});i.find(".share_dialog_attachment_container").find("a[href]","button").attr("tabindex","-1");e.onShow&&e.onShow()};var n=function e(){TS.ui.file_share.updateAtChannelWarningNote();TS.ui.file_share.updateAtChannelBlockedNote()};var r=function e(){$("#file_sharing_div").find(".lfs_input_container").click();return true};var i=function t(){e.onEnd&&e.onEnd();e=null};var a=function t(){if(!e.copy_link||!TS.clipboard.canWriteText())return;TS.tips.updateFloater({title:TS.interop.i18n.t("Copied!","basic_share_dialog")(),classes_to_add:["success"]});TS.clipboard.writeText(e.copy_link)}})()},2622:function(e,t){(function(){TS.registerModule("signup",{ERROR_BAD_EMAIL_DOMAIN:"bad_email_domain",ERROR_DOMAIN_NOT_FOUND:"domain_not_found",ERROR_INVALID_CODE:"invalid_code",ERROR_MISC:"misc",ERROR_MISSING_ARGS:"missing_args",ERROR_MISSING_USERNAME:"missing_username",ERROR_NO_EMAIL:"no_email",ERROR_NO_EMAIL_MISC:"no_email_misc",ERROR_NO_TEAM_NAME:"no_team_name",ERROR_NO_URL:"no_url",ERROR_NO_USERNAME:"no_username",ERROR_RATELIMITED:"ratelimited",ERROR_URL_BAD:"url_bad",ERROR_URL_LONG:"url_long",ERROR_URL_NO_LETTER:"url_no_letter",ERROR_URL_START_END_DASH:"url_start_end_dash",ERROR_URL_TAKEN:"url_taken",ERROR_USERNAME_BAD:"username_bad",ERROR_USERNAME_LONG:"username_long",ERROR_USERNAME_NOT_ALLOWED:"username_not_allowed",ERROR_USERNAME_START:"username_start",ERROR_USERNAME_TAKEN:"username_taken",ERROR_NAME_IS_SLACKBOT:"name_is_slackbot",onStart:function e(){t();var n=!!(TS.interop&&TS.interop.api&&TS.interop.api.call);l=n?TS.interop.api.call:window.callSlackAPIUnauthed},isBadSignupDomain:function e(t){if(void 0!==c[t])return Promise.resolve(c[t]);return new Promise(function(e){l("signup.checkEmailDomain",{domain:t},function(n,r){c[t]=!r.ok;e(!r.ok)})})},checkEmail:function e(t,n){var r=TS.utility.email.validateEmail(t,1);if(!r.is_valid)return Promise.resolve({is_valid:false,error_key:r.error_key,error_message:r.error_message});n=n||{};var i=n.timeout||2e3;var a=t.split("@")[1];n.get_info=n.get_info&&void 0===f[a];var o=n.get_info;if(o&&i){var s;var u;var l;v(t,a,n).then(function(e){if(!u){u=true;s(e);clearInterval(l)}});l=setTimeout(function(){u||v(t,a).then(function(e){if(!u){u=true;s(e)}})},i);return new Promise(function(e){s=e})}return v(t,a,{get_info:o})},verifyEmailConfirmationCode:function e(t,n){var r={email:t,code:n};return new Promise(function(e){l("signup.confirmCode",r,function(t,n){if(t)return e({is_valid:true,api_response:n});var r=n.error;"failed"===r&&(r=TS.signup.ERROR_INVALID_CODE);return e({is_valid:false,error_key:r,error_message:TS.signup.getErrorMessage(r)})})})},checkUsernameSyntax:function e(t){var n;t&&t.length?t.length>r?n=TS.signup.ERROR_USERNAME_LONG:s.test(t)?u.test(t)||(n=TS.signup.ERROR_USERNAME_START):n=TS.signup.ERROR_USERNAME_BAD:n=TS.signup.ERROR_MISSING_USERNAME;if(n)return{is_valid:false,error_key:n,error_message:TS.signup.getErrorMessage(n)};return{is_valid:true}},checkUsernameAvailability:function t(n,r){var i=TS.signup.checkUsernameSyntax(n);if(!i.is_valid)return Promise.resolve({is_valid:false,error_key:i.error_key,error_message:i.error_message});var a={username:n};r=r||{};r.team_id&&(a.team_id=r.team_id);r.lead_id&&(a.lead_id=r.lead_id);return new Promise(function(t){l("signup.checkUsername",a,function(i,a){if(i)return t({is_valid:true});var o=a.error;var s;a.error===TS.signup.ERROR_USERNAME_NOT_ALLOWED?s=e[o]({username:_.escape(n)}):"taken"===a.error&&(o=TS.signup.ERROR_USERNAME_TAKEN);var u={is_valid:false,error_key:o,error_message:s||TS.signup.getErrorMessage(o)};if(!r.get_suggestions)return t(u);if(!r.email){TS.warn("TS.signup.checkUsernameAvailability can only try to get username suggestions when options.email is set");return t(u)}TS.signup.suggestUsernameFromEmail(r.email).then(function(e){if(e.has_suggestion){u.has_suggestion=true;u.suggestion=e.username}return t(u)})})})},suggestUsernameFromEmail:function e(t,n){var i=t.toLocaleLowerCase().match(/^[a-z0-9]+/gi);i&&(i=i[0]);if(!i||i.length>r)return Promise.resolve({has_suggestion:false});return new Promise(function(e){n=n||{};var t={lead_id:n.lead_id,get_suggestions:false};TS.signup.checkUsernameAvailability(i,t).then(function(t){if(t.is_valid)return e({has_suggestion:true,username:i});return e({has_suggestion:false})})})},checkNameSyntax:function e(t){if(t&&"slackbot"===t.toLocaleLowerCase()){var n=TS.signup.ERROR_NAME_IS_SLACKBOT;return{is_valid:false,error_key:n,error_message:TS.signup.getErrorMessage(n)}}return{is_valid:true}},checkURLSyntax:function e(t){var r;t.length>n?r=TS.signup.ERROR_URL_LONG:i.test(t)?o.test(t)?r=TS.signup.ERROR_URL_START_END_DASH:a.test(t)||(r=TS.signup.ERROR_URL_NO_LETTER):r=TS.signup.ERROR_URL_BAD;if(r)return{is_valid:false,error_key:r,error_message:TS.signup.getErrorMessage(r)};return{is_valid:true}},checkURLAvailability:function e(t,n,r){if(!t||!n){TS.error("TS.signup.checkURLAvailability missing arguments");return Promise.resolve({is_valid:false,error_key:TS.signup.ERROR_MISSING_ARGS,error_message:TS.signup.getErrorMessage(TS.signup.ERROR_MISSING_ARGS)})}var i=TS.signup.checkURLSyntax(t);if(!i.is_valid)return Promise.resolve({is_valid:false,error_key:i.error_key,error_message:i.error_message});var a={email:n,url:t};r=r||{};r.lead_id&&(a.lead_id=r.lead_id);return new Promise(function(e){l("signup.checkURL",a,function(i,a){if(i)return e({is_available:true});if("ratelimited"===a.error)return e({error_key:TS.signup.ERROR_RATELIMITED,error_message:TS.signup.getErrorMessage(TS.signup.ERROR_RATELIMITED)});"bad"===a.error&&(a.error=TS.signup.ERROR_URL_BAD);"taken"===a.error&&(a.error=TS.signup.ERROR_URL_TAKEN);var o={is_available:false,error_key:a.error,error_message:TS.signup.getErrorMessage(a.error)};if(!r.get_suggestions)return e(o);TS.signup.suggestURL(t,n).then(function(t){o.available=t.available;o.unavailable=t.unavailable;return e(o)})})})},suggestURL:function e(t,n){if(!t||!n){TS.error("TS.signup.suggestURL missing arguments");return Promise.resolve({error_key:TS.signup.ERROR_MISSING_ARGS,error_message:TS.signup.getErrorMessage(TS.signup.ERROR_MISSING_ARGS)})}var r={email:n,url:t};return new Promise(function(e){l("signup.suggestURL",r,function(t,n){if(t)return e({available:n.available,unavailable:n.unavailable});return e({error_key:n.error})})})},createTeam:function t(n){if(d)return Promise.resolve(false);d=true;return new Promise(function(t){l("signup.createTeam",n,function(r,i){d=false;if(r)return t({team_created:true,signin_url:i.url,user_id:i.user_id,team_id:i.team_id,team_id_raw:i.team_id_raw,api_token:i.api_token,valid_signup_domain:i.valid_signup_domain});var a;if(i.error===TS.signup.ERROR_BAD_EMAIL_DOMAIN&&TS.utility.email_regex.test(n.email)){var o=_.escape(n.email.split("@")[1]);a=e[i.error]({email_domain:o})}return t({team_created:false,error_key:i.error,error_message:a||TS.signup.getErrorMessage(i.error)})})})},getErrorMessage:function t(n,r){return(e[n]||e[TS.signup.ERROR_MISC])(r||{})},test:function t(){return{error_messages:e}}});var e={};var t=function t(){e={bad_email_domain:TS.interop.i18n.t("Sorry, but we do not allow signups from @{email_domain}. Please pick a different email address!","signup"),domain_not_found:TS.interop.i18n.t("Are you sure that address is typed correctly? If there are no mistakes, carry on!","signup"),invalid_code:TS.interop.i18n.t("That code wasn\u2019t valid. Give it another go!","signup"),missing_username:TS.interop.i18n.t("Please fill in a username.","signup"),name_is_slackbot:TS.interop.i18n.t("Sorry, slackbot is a reserved word. Try something else!","signup"),misc:TS.interop.i18n.t("For some weird reason, that didn\u2019t work. Please try again to continue.","signup"),no_email:TS.interop.i18n.t("For some really weird reason, we\u2019re having trouble with your email. Please try again.","signup"),no_email_misc:TS.interop.i18n.t("For some really weird reason, we\u2019re having trouble with your email preferences. Please try again.","signup"),no_team_name:TS.interop.i18n.t("For some really weird reason, we\u2019re having trouble with your workspace name. Please try again.","signup"),no_url:TS.interop.i18n.t("For some reason, we\u2019re having trouble with your workspace URL. Please try again.","signup"),no_username:TS.interop.i18n.t("For some really weird reason, we\u2019re having trouble with your username. Please try again.","signup"),ratelimited:TS.interop.i18n.t("Sorry, you\u2019ve hit the rate limit. You\u2019ll be able to try again soon.","signup"),url_bad:TS.interop.i18n.t("Workspace URLs can only have letters, numbers, and dashes.","signup"),url_long:TS.interop.i18n.t("Please enter up to 21 characters for your Workspace URL.","signup"),url_no_letter:TS.interop.i18n.t("Please enter at least one letter for your Workspace URL.","signup"),url_start_end_dash:TS.interop.i18n.t("Workspace URLs can\u2019t start or end with a dash. Sorry!","signup"),url_taken:TS.interop.i18n.t("This URL is not available. Sorry!","signup"),username_bad:TS.interop.i18n.t("Sorry, usernames can only contain letters, numbers, periods, hyphens, and underscores, with no spaces!","signup"),username_long:TS.interop.i18n.t("Usernames cannot be longer than 21 characters.","signup"),username_not_allowed:TS.interop.i18n.t("Oops, sorry! Your username can\u2019t be {username}, as it\u2019s reserved for other uses.","signup"),username_start:TS.interop.i18n.t("Sorry, usernames must begin with a letter or number!","signup"),username_taken:TS.interop.i18n.t("Sorry, but this username is not available! Please pick another one.","signup")}};var n=21;var r=21;var i=new RegExp("^[a-z0-9-]+$","i");var a=new RegExp("[a-z]","i");var o=new RegExp("(^[-])|(.*[-])$","i");var s=new RegExp("^[a-z0-9-._]+$","i");var u=new RegExp("^[a-z0-9][a-z0-9-._]*$","i");var l;var c={};var f={};var d=false;var v=function t(n,r,i){var a=i&&i.get_info;var o={email:n,get_info:a};return new Promise(function(t){l("signup.checkEmail",o,function(n,i){if(n)return t({is_ok:true,api_response:i});var o;i.error===TS.signup.ERROR_BAD_EMAIL_DOMAIN?o=e[i.error]({email_domain:r}):i.error===TS.signup.ERROR_DOMAIN_NOT_FOUND?f[r]=false:a&&(f[r]=true);return t({is_ok:false,error_key:i.error,error_message:o||TS.signup.getErrorMessage(i.error)})})})}})()},2623:function(e,t){(function(){TS.registerModule("google_auth",{isAuthed:function e(n){return t[n]},pollForAuthStatus:function e(t,n,i,a){a=a||{};var o=a.interval||1e3;var s=a.max_attempts||Infinity;var u=0;var l;var c;var f=false;var d=function e(){u+=1;c=TS.google_auth.isAuthed(t);if(c||i&&i.closed){l=null;n(!!c)}else if(!f&&u<s){r(t);l=setTimeout(e,o)}};d();return{cancel:function e(){l&&clearTimeout(l);f=true}}},getAuthLink:function e(t){if(n[t])return Promise.resolve(n[t]);return new Promise(function(e){TS.interop.api.call("services.googlecontacts.oauth.init",{instance_id:t}).then(function(r){n[t]=r.data.auth_url;e(r.data.auth_url)})})},getContactList:function e(t,n){if(!TS.google_auth.isAuthed(t))return Promise.resolve([]);return new Promise(function(e){var r=[];TS.google_auth.getContactsFromAPI(t,n,r,function(t){e(t||[])})})},getContactsFromAPI:function e(t,n,r,i){TS.interop.api.call("services.googlecontacts.list",{instance_id:t,page:n.page,count:n.count}).then(function(e){r.push.apply(r,e.data.contacts);if(false===e.data.all_items_fetched){n.page+=1;TS.google_auth.getContactsFromAPI(t,n,r,i)}else{var a={items:r,all_items_fetched:e.data.all_items_fetched};i(a)}})},getContactListFromQuery:function e(t,n){if(!TS.google_auth.isAuthed(t))return Promise.resolve([]);return new Promise(function(e){TS.interop.api.call("services.googlecontacts.search",{instance_id:t,query:n.query,page:n.page,count:n.count}).then(function(t){var n={items:t.data.contacts,all_items_fetched:t.data.all_items_fetched};e(n||[])})})},isAppsEmail:function t(n,r){if(!TS.utility.email.validateEmail(n).is_valid)return Promise.resolve({error_key:"invalid_email"});var i=n.split("@")[1];if(void 0!==e[i])return Promise.resolve(e[i]);var a;var o;var s={email:n,get_info:true};return new Promise(function(t){var n=function n(r,s){if(a){clearTimeout(a);a=null}r&&(e[i]={is_google:"google_apps"===s.type,auth_url:s.auth_url});if(!o)return t(e[i])};window.callSlackAPIUnauthed?window.callSlackAPIUnauthed("signup.checkEmail",s,function(e,t){n(e,t)}):TS.interop.api.call("signup.checkEmail",s).then(function(e){var t=e.data;var r=true;n(r,t)}).catch(function(e){var t=e.data;var r=false;n(r,t)});r&&(a=setTimeout(function(){TS.log(99,"TS.google_auth.isAppsEmail timed out after "+r/1e3+" seconds");a=null;o=true;return t({error_key:"timed_out"})},r))})}});var e={};var t={};var n={};var r=function e(n){return new Promise(function(e){TS.interop.api.call("services.googlecontacts.oauth.hasAuth",{instance_id:n}).then(function(r){var i=r.data.has_auth;t[n]=i;e(i)})})}})()},2624:function(e,t){(function(){TS.registerModule("ui.workspaces",{start:function e(){if(!TS.boot_data.page_needs_enterprise)return;if(TS.model.user.is_restricted)return;var t=TS.boot_data.enterprise_prefs,n=t.unlocked_prefs,r=t.locked_prefs,i=t.org_prefs;TS.redux.prefs.setEnterprisePrefs({unlocked_prefs:n,locked_prefs:r,org_prefs:i});var a=document.getElementById("directory_mount_point");TS.interop.setAppElementForReactModal("#directory_mount_point");TS.interop.mountWorkspaceDirectory(TS.boot_data.team_id,a,{userId:TS.boot_data.user_id,showRequestDialog:function e(t){TS.enterprise.workspaces.showRequestDialog(t)},launchTeamId:TS.boot_data.launch_page_team,onClose:function e(){TS.interop.unmountWorkspaceDirectory(a)}})}})})()},2625:function(e,t){(function(){TS.registerModule("mentions",{mention_changed_sig:new signals.Signal,mention_removed_sig:new signals.Signal,mentions_fetched_sig:new signals.Signal,mentions_being_fetched_sig:new signals.Signal,mentions_being_fetched:false,mentions_needs_fetched:false,has_more:false,after_ts:null,fetched_once:false,active_tab:"all",test:function t(){var t={};Object.defineProperty(t,"mentions",{get:function t(){return e},set:function t(n){e=n}});return t},onStart:function e(){TS.prefs.mentions_exclude_at_channels_changed_sig.add(r);TS.prefs.mentions_exclude_at_user_groups_changed_sig.add(i)},maybeUpdateMentions:function e(t){TS.interop.console.info("ACTIVITY","maybeUpdateMentions called with user_requested: "+t);if("client"!==TS.boot_data.app)return;if(!TS.model.team)return;if(TS.mentions.mentions_being_fetched||!TS.mentions.fetched_once||"mentions"!==TS.model.ui_state.flex_name){TS.interop.console.info("ACTIVITY","maybeUpdateMentions: waiting until next fetch");TS.mentions.mentions_needs_fetched=true;return}t?TS.mentions.updateMentions(t):setTimeout(function(){if(TS.mentions.mentions_being_fetched&&!TS.model.ui_state.flex_visible)return;TS.mentions.updateMentions(t)},3e3)},updateMentions:function e(n){TS.interop.console.info("ACTIVITY","updateMentions called with user_requested: "+n);TS.mentions.mentions_being_fetched=true;TS.mentions.mentions_needs_fetched=false;TS.mentions.mentions_being_fetched_sig.dispatch(n);var r=true;TS.interop.api.call("activity.mentions",t(),null,r).then(function(e){var t=e.data,n=e.args,r=e.request_id;var i=true;TS.mentions.onFetchMentions&&TS.mentions.onFetchMentions(i,t,n,r);return{data:t,args:n,request_id:r}}).catch(function(e){var t=e.data,n=e.args,r=e.request_id;var i=false;TS.mentions.onFetchMentions&&TS.mentions.onFetchMentions(i,t,n,r);return{data:t,args:n,request_id:r}})},fetchMoreMentions:function e(){TS.mentions.fetchMentions(TS.mentions.after_ts)},fetchMentions:function e(n){TS.interop.console.info("ACTIVITY","fetchMentions called with after_ts: "+n);TS.mentions.mentions_needs_fetched=false;TS.mentions.fetched_once=true;var r=t();n=n||"";r.after_ts=n;TS.interop.api.call("activity.mentions",r).then(function(e){var t=e.data,n=e.args,r=e.request_id;var i=true;TS.mentions.onFetchMentions&&TS.mentions.onFetchMentions(i,t,n,r);return{data:t,args:n,request_id:r}}).catch(function(e){var t=e.data,n=e.args,r=e.request_id;var i=false;TS.mentions.onFetchMentions&&TS.mentions.onFetchMentions(i,t,n,r);return{data:t,args:n,request_id:r}})},getAllMentions:function t(){return e},getMentionByMsgId:function t(n,r,i){var a;var o;var s;function u(e,t){return _.find(e,function(n,r){if(n.message&&n.message.ts===t){o=e;s=r;return true}return false})}a=u(e,n);if(!a)return null;r&&a.message?a.message=r:i&&_.isArray(o)&&_.isNumber(s)&&o.splice(s,1);return a},onFetchMentions:function t(n,r){TS.mentions.mentions_being_fetched=false;if(TS.mentions.mentions_needs_fetched){TS.interop.console.info("ACTIVITY","onFetchMentions: mentions_needs_fetched true, going to maybeUpdate again soon");setTimeout(TS.mentions.maybeUpdateMentions,100)}if(!n){TS.error("failed fetchMentions");return}var i;var a=[];var o;for(var s=0;s<r.mentions.length;s+=1){i=r.mentions[s];if("reaction"===i.type)if("message"===i.item.type){i.rxn_ts=i.ts;i.channel=i.item.channel;i.message=i.item.message;i.item.message._rxn_key=TS.rxns.getRxnKey("message",i.item.message.ts,i.item.channel);delete i.item}else{if("file"!==i.item.type){TS.interop.console.info("ACTIVITY","onFetchMentions: skipping mention: reaction not on message or file");continue}i.rxn_ts=i.ts;i.channel=_.first(i.item.file.channels)||_.first(i.item.file.groups)||_.first(i.item.file.ims);i.message={file:i.item.file,subtype:"file_reaction",ts:i.ts};delete i.item}var u=i.message;if(!u){TS.interop.console.info("ACTIVITY","onFetchMentions: skipping mention: no message on mention");continue}var l=TS.utility.msgs.getFileOnMsg(u);var c=u.comment;if("file_share"===u.subtype||"file_mention"===u.subtype||"file_comment"===u.subtype||"file_reaction"===u.subtype){if(!l){TS.interop.console.info("ACTIVITY","onFetchMentions: skipping mention: can't get file on message");continue}if("file_comment"===u.subtype&&!c){TS.interop.console.info("ACTIVITY","onFetchMentions: skipping mention: can't find file comment on message");continue}}if("0000000000.000000"==u.ts){TS.warn("bad mention! msg.ts == 0000000000.000000");continue}if("file_share"===u.subtype||"file_mention"===u.subtype||"file_comment"===u.subtype||"file_reaction"===u.subtype){l._rxn_key=TS.rxns.getRxnKey("file",l.id);o=TS.rxns.getExistingRxnsByKey(l._rxn_key);o&&!l.reactions?TS.warn("file:"+l.id+" has reactions in local model, but we got an object in mentions that does NOT have reactions, which seems suspicious"):TS.rxns.upsertRxnsFromDataAndUpdateUI(l._rxn_key,l.reactions);if("file_comment"===u.subtype){c._rxn_key=TS.rxns.getRxnKey("file_comment",c.id);o=TS.rxns.getExistingRxnsByKey(c._rxn_key);o&&!c.reactions?TS.warn("comment:"+c.id+" has reactions in local model, but we got an object in mentions that does NOT have reactions, which seems suspicious"):TS.rxns.upsertRxnsFromDataAndUpdateUI(c._rxn_key,c.reactions)}}else{u._rxn_key=TS.rxns.getRxnKey("message",u.ts,i.channel);o=TS.rxns.getExistingRxnsByKey(u._rxn_key);o&&!u.reactions?TS.warn("msg:"+u.ts+" has reactions in local model, but we got an object in mentions that does NOT have reactions, which seems suspicious"):TS.rxns.upsertRxnsFromDataAndUpdateUI(u._rxn_key,u.reactions);var f=TS.redux.channels.getEntityById(i.channel);var d=f&&TS.utility.msgs.getMsg(u.ts,f.msgs);d&&(u.is_starred=d.is_starred)}if(TS.mentions.getMentionByMsgId(u.ts,u)){TS.interop.console.info("ACTIVITY","onFetchMentions: skipping mention: message already in mentions");continue}a.push(i)}e=e.concat(a);TS.mentions.sortMentions();TS.mentions.has_more=r.has_more;if(e.length){i=e[e.length-1];TS.mentions.after_ts="reaction"===i.type?i.rxn_ts:i.message.ts}if(r.mentions.length){var v=_.filter(_.map(r.mentions,function(e){return"reaction"===e.type?e.rxn_ts:_.get(e,"message.ts")}));var g=_.min(v);g<TS.mentions.after_ts&&(TS.mentions.after_ts=g)}TS.interop.console.info("ACTIVITY","onFetchMentions: "+a.length+"/"+r.mentions.length+" mentions added, total "+e.length+" mentions");TS.mentions.mentions_fetched_sig.dispatch()},sortMentions:function t(){var n;var r;function i(e,t){n=e.rxn_ts||e.message.ts;r=t.rxn_ts||t.message.ts;if(n<r)return 1;if(n>r)return-1;return 0}e.sort(i)},replaceMsg:function e(t){var n=TS.mentions.getMentionByMsgId(t.ts,t);n&&TS.mentions.mention_changed_sig.dispatch(n)},legacyRemoveMsg:function e(t){var n=TS.mentions.getMentionByMsgId(t,null,true);n&&TS.mentions.mention_removed_sig.dispatch(t)},setExcludeAtChannelsPref:function e(t){t=!!t;TS.prefs.setPrefLocal("mentions_exclude_at_channels",t);TS.prefs.setPrefByAPI({name:"mentions_exclude_at_channels",value:t});r()},setExcludeAtUserGroupsPref:function e(t){t=!!t;TS.prefs.setPrefLocal("mentions_exclude_at_user_groups",t);TS.prefs.setPrefByAPI({name:"mentions_exclude_at_user_groups",value:t});i()},weaveInRxnRecords:function t(){var n=TS.rxns.getRxnRecords();var r;var i;var a;var o;e=e.filter(function(e){return"rxn"!==e.type});for(var s=0;s<n.length;s+=1){i=n[s].rxn_key;r=TS.rxns.getRxnKeyParts(i);if("message"!==r.type){if("file"===r.type)continue;if("file_comment"===r.type)continue;continue}o=TS.utility.msgs.findMsg(r.id,r.c_id);if(!o)continue;TS.mentions.getMentionByMsgId(r.id,null,true);a={channel:r.c_id,type:"reaction",rxn_ts:n[s].last_update,message:_.cloneDeep(o)};a.message._rxn_key=i;e.push(a)}TS.mentions.sortMentions()}});var e=[];var t=function e(){return n()};var n=function e(){var t={count:20,reactions:1};var n=["thread"];if(TS.prefs.getPref("mentions_exclude_at_channels")){n.push("everyone");n.push("channel")}TS.prefs.getPref("mentions_exclude_at_user_groups")&&n.push("user_group");n.length>0&&(t.exclude=n.join(","));return t};var r=function e(){var t=TS.prefs.getPref("mentions_exclude_at_channels");if(t){a(["everyone","channel"]);TS.mentions.mentions_fetched_sig.dispatch()}else TS.mentions.maybeUpdateMentions(true)};var i=function e(){var t=TS.prefs.getPref("mentions_exclude_at_user_groups");if(t){a(["user_group"]);TS.mentions.mentions_fetched_sig.dispatch()}else TS.mentions.maybeUpdateMentions(true)};var a=function t(n){var r;for(var i=e.length-1;i>=0;i-=1){r=e[i];-1!==n.indexOf(r.type)&&e.splice(i,1)}}})()},2626:function(e,t){(function(){TS.registerModule("ui.leave_team_dialog",{team_id:null,ladda:null,list:null,start:function n(r,a){TS.ui.leave_team_dialog.team_id=r;TS.ui.leave_team_dialog.list=a;var o=TS.teams.getTeamById(TS.ui.leave_team_dialog.team_id);var s={team:o};if(TS.boot_data.feature_leave_workspace_improvements){var u=TS.templates.team_icon({team:o,size:20,classes:"small_right_margin"});var l=TS.interop.i18n.t("Are you sure you want to leave {team_name}?","archives")({team_name:_.escape(_.get(o,"name"))});var c=_.get(o,"is_unlisted")?TS.interop.i18n.t("<p>This workspace is hidden. Once you leave, you won\u2019t have access unless you\u2019re invited back.</p>","enterprise_workspaces","4e11e4d93df48b8d0f325c39d98c35ffbf8d2f06")():"";var f={title:'<div class="display_flex margin_right_200"><div class="p-workspaces__workspace_icon">'+u+"</div><div>"+l+"</div></div>",body:c,show_cancel_button:true,esc_for_ok:false,go_button_text:TS.interop.i18n.t("Leave This Workspace","enterprise_workspaces")({team_name:TS.interop.i18n.safeString(_.escape(TS.interop.rules.teams.getTeamDisplayName(o)))}),onGo:t,ladda_go:true};TS.generic_dialog.start(f)}else{var d={title:TS.interop.i18n.t("Leave Workspace","enterprise_workspaces")(),body_template_html:TS.templates.leave_workspace_dialog(s),onShow:e,onCancel:i,modal_class:"leave_team_modal"};TS.ui.fs_modal.start(d)}}});var e=function e(){var n=$(".leave_team_modal .leave_team_modal_contents");n.find(".buttons").on("click","button",function(){var e=$(this).data("qa");if("cancel_leave_team"===e)TS.ui.fs_modal.close();else if("confirm_leave_team"===e){var n=Ladda.create(this);n.start();t()}})};var t=function e(){var t={team:TS.ui.leave_team_dialog.team_id};TS.model.enterprise_api_token&&(t.enterprise_token=TS.model.enterprise_api_token);var i=function e(t,i,a){var o=TS.teams.getTeamById(a.team);var s=emoji.replace_colons(":sparkles:");s+=TS.interop.i18n.t(" You\u2019ve successfully left <strong>{team_name}</strong>","enterprise_workspaces")({team_name:TS.interop.i18n.safeString(_.escape(TS.interop.rules.teams.getTeamDisplayName(o)))});if(t){n(a.team);if(!TS.boot_data.feature_leave_workspace_improvements){r("success",s);TS.ui.fs_modal.close()}TS.boot_data.feature_leave_workspace_improvements&&TS.client&&TS.model.team.id===a.team&&TS.client.reloadOrRemoveTeam(a.team)}else{var u;if("disable_denied_due_to_idpgroup_membership"===i.error){var l=TS.redux.enterprise.getEnterprise();u=TS.interop.i18n.t('You can\u2019t leave this workspace.<br>Because you\u2019re in an IdP group assigned to this workspace, you can\u2019t leave it here. <a href="mailto:{primary_owner_email}" target="_blank">Contact an Org Admin</a> for help leaving the workspace.',"enterprise_workspaces")({primary_owner_email:l.primary_owner.email});r("error",u)}else if("user_deleted_already"===i.error){n(a.team);r("success",s);TS.ui.fs_modal.close()}else if("failed_to_convert_org_user_to_team_user"===i.error){n(a.team);r("success",s);TS.ui.fs_modal.close()}else{u=TS.interop.i18n.t('Leaving workspace failed with error "{error}"',"enterprise_workspaces")({error:i.error});r("error",u)}}};TS.interop.api.call("enterprise.teams.leave",t).then(function(e){var t=e.data,n=e.args,r=e.request_id;var a=true;i(a,t,n,r);return{data:t,args:n,request_id:r}}).catch(function(e){var t=e.data,n=e.args,r=e.request_id;var a=false;i(a,t,n,r);return{data:t,args:n,request_id:r}});var a;var o;if("teams_on"===TS.ui.leave_team_dialog.list||"workspaces_on"===TS.ui.leave_team_dialog.list){a="your_workspaces";o="your_workspaces_list"}else{a="find_workspaces";o="workspaces_you_can_join_list"}TS.enterprise.workspaces.recordTeamLeaveConfirm(TS.ui.leave_team_dialog.team_id,a,o)};var n=function e(t){var n=_.merge({},TS.model.user);n.enterprise_user.teams=n.enterprise_user.teams.filter(function(e){return e!==t});"web"===TS.boot_data.app?TS.model.user=n:TS.members.legacyUpsertMember(n)};var r=function e(t,n){TS.ui.toast.show({type:t,message:n})};var i=function e(){}})()},2627:function(e,t){(function(){TS.registerModule("api.connection",{onStart:function e(){l=TS.qs_args.api_timings||TS.utility.enableFeatureForUser(u)},test:function e(){var t={};Object.defineProperty(t,"_should_send_timing_data",{get:function e(){return l},set:function e(t){l=t}});Object.defineProperty(t,"_internet_connected_p",{get:function e(){return o},set:function e(t){o=t}});Object.defineProperty(t,"_ms_reconnected_p",{get:function e(){return s},set:function e(t){s=t}});return t},waitForAPIConnection:function e(r){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o)return o;var u=0;var v=false;var g=function e(){return false===window.navigator.onLine?t:Math.min(n+(s&&f()),i)};var m=function e(){a=0};var p=function e(t){if("number"===typeof r&&u>r){var n="Unable to reconnect to the API after "+u+" retry attempts";TS.warn(n);T.dispatch(new Error(n));return}if(u>0){var i=t?"unable to reach API":"browser says it is still offline";TS.warn("Internet connection still offline after "+u+" attempts ("+i+")")}u+=1;a+=1;setTimeout(S,g())};var h=function e(){if(u>0){if(l)var t=TS.metrics.measureAndClear("api_offline_duration","api_connectivity_lost");var n=_.round(t/1e3,2);var r=u?"Internet connection has been re-established after "+u+" retry attempts;":"Internet connection has been re-established";var i=[r,"offline for "+n+" seconds"];TS.info(i.join(" "))}m();window.removeEventListener("online",m);y.dispatch()};var S=function e(){var t=TS.model.is_our_app&&(TS.boot_data.feature_tinyspeck||"U0AANQ8UV"===TS.boot_data.user_id);var n=!c&&!v&&a>=10&&t;if(false===window.navigator.onLine){var r=a%100===99;var i=n||r;if(!i){var o=false;p(o);return}}d(function(e){e&&false===window.navigator.onLine&&n&&d(function(e){if(!e)return;v=true;if(window.navigator.onLine)return;TS.warn("navigator.onLine appears to be untrustworthy; enabling workaround");c=true;try{Object.defineProperty(navigator,"onLine",{get:function e(){return true}})}catch(e){}});if(e)h();else{var t=true;p(t)}})};var y=new signals.Signal;var T=new signals.Signal;l&&TS.metrics.mark("api_connectivity_lost");window.addEventListener("online",m);o=new Promise(function(e,t){y.addOnce(function(){o=void 0;e()});T.addOnce(function(e){o=void 0;t(e)});S()});return o},promiseToTestAPIConnection:function e(){return new Promise(function(e){d(function(t){e(t)})})},waitForMSToReconnect:function e(){if(TS.redux.socket.isConnected())return Promise.resolve();s||(s=new Promise(function(e){TS.redux.socket.connectedSig.addOnce(function(){s=void 0;e()})}));return s}});var e=1e3;var t=e;var n=20*e;var r=5*e;var i=300*e;var a=0;var o;var s;var u=0;var l;var c=false;var f=function e(){if(!a)return 0;return r*(1+Math.random())*Math.pow(1.25,a)};var d=function e(t){var n=6e4;$.ajax({url:TS.model.api_url+"api.test",timeout:n,cache:false,data:{user_id:TS.boot_data.user_id,team_id:TS.boot_data.team_id,version_ts:TS.boot_data.version_ts},method:"POST"}).then(function(e){var n=!!(e&&e.ok);t(n)}).fail(function(){t(false)})}})()},2628:function(e,t){(function(){TS.registerModule("permissions.teams",{canLeaveTeam:function e(t){if(!_.get(t,"enterprise_id"))return false;return!!(false===t.can_leave&&t.cannot_leave_reasons&&1===t.cannot_leave_reasons.length&&"not_team_member"===t.cannot_leave_reasons[0]&&!t.is_assigned)}})})()},2629:function(e,t){(function(){TS.registerModule("ui.utility",{onStart:_.noop,preventElementFromScrolling:function e(n,r,i){n=$(n);if(!n.length||t){r();return}var a=n.offset();try{t=true;r()}finally{t=false}if(_.isFunction(i)){n=i();if(!n.length)return}var o=n.offset().top;var s=o-a.top;var u=n.closest(".monkey_scroller");u.length||(u=n.closest(":scrollable(vertical)"));u.is("html")&&(u=$("body"));if(0!==s){var l=u.scrollTop()+s;u.scrollTop(Math.round(l))}TS.client&&TS.ui.utility.updateClosestMonkeyScroller(n)},updateClosestMonkeyScroller:function e(t,n){if(!t)return;var r=t.closest(".monkey_scroller");var i=r.data("monkeyScroll");if(!i)return;if(!r.data("monkeyScrollBeingCalled")){r.data("monkeyScrollBeingCalled",true);TS.utility.setImmediate(function(){i.updateFunc(n);r.data("monkeyScrollBeingCalled",false)})}},nextWithClass:function e(t,n){var r=t.next();return r.hasClass(n)||!r.length?r:TS.ui.utility.nextWithClass(r,n)},prevWithClass:function e(t,n){var r=t.prev();return r.hasClass(n)||!r.length?r:TS.ui.utility.prevWithClass(r,n)},findNodeInRegion:function e(t,n,r,i,a){var o=5;var s=o;var u=(r-a)/(n-i/o)+o;var l=function e(n,r){var a=document.elementFromPoint(n,r);var o=$(a).closest(t);if(o.length)return o;if(n<=i)return;var l=n-s;var c=r-u;return e(l,c)};return l(n,r)},isTextInput:function t(n){return n.is(e)}});var e=["input:not([type])","input[type=text]","input[type=search]","input[type=url]","input[type=tel]","input[type=email]","input[type=password]","input[type=number]","input[type=date]","input[type=month]","input[type=week]","input[type=time]","input[type=datetime]","input[type=datetime-local]","textarea","[role=textbox]"].join(",");var t=false})()},2630:function(e,t){(function(){TS.registerModule("validation",{onStart:function e(){u()},firstalphanumeric:l,isurl:c,lowercase:f,maxlength:d,minlength:v,nospace:g,required:m,reservedwords:p,keywords:h,username:S,username_with_errors:y,display_or_realname:x,display_or_realname_with_errors:E,team_name:T,team_name_with_errors:b,channel_name:O,channel_name_with_errors:C,is_email:k,pattern:w});var e=80;var t=21;var n=21;var r=/[`~!@#$%^&*+=\\:"<>?|]/;var i=/[ .,;'`~!@#$%^&*+=\\:"<>?|]/;var a=/^[-_.'\u2018\u2019",(){}[\]/;]+$/;var o=/^(?:(?:https?|ftp):\/\/)?(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/i;var s={};var u=function e(){s={empty:TS.interop.i18n.t("Please fill in your workspace name.","ui_validation")(),too_long:TS.interop.i18n.t("Sorry, your workspace name must be 255 characters or fewer!","ui_validation")()}};function l(e){return/^[^\W_]/.test(e)}function c(e){if(!e)return true;var t=e.match(o);if(t&&1===t.length&&t[0]===e)return true;return false}function f(e){return e===e.toLocaleLowerCase()}function d(e,t){return e.length<=t}function v(e,t){return e.length>=t}function g(e){return!/\s/.test(e)}function m(e){return e.trim().length>0}function p(e,t){var n=e.trim().toLowerCase();return-1===t.indexOf(n)}function h(e){var t=e.trim().toLowerCase();return-1===TS.model.RESERVED_KEYWORDS.indexOf(t)}function S(e){return m(e)&&d(e,n)&&g(e)&&w(e,/^[\w._-]+$/)&&l(e)&&f(e)&&p(e,TS.interop.constants.RESERVED_USERNAMES)}function y(e){if(!m(e))return"empty";if(!d(e,n))return"too_long";if(!g(e))return"contains_spaces";if(!w(e,/^[\w._-]+$/))return"contains_special_characters";if(!l(e))return"bad_first_character";if(!f(e))return"contains_uppercase";if(!p(e,TS.interop.constants.RESERVED_USERNAMES))return"contains_reserved_words";return true}function T(e){return m(e)&&d(e,255)}function b(e){if(!m(e))return{error_key:"empty",error_message:s.empty};if(!d(e,21))return{error_key:"too_long",error_message:s.too_long};return true}function w(e,t){return t.test(e)}function k(e){var t=e.match(TS.utility.email.EMAIL_REGEX);return t&&1===t.length&&t[0]===e||false}function x(t){return m(t)&&d(t,e)&&p(t,TS.interop.constants.RESERVED_USERNAMES)&&!w(t,/^@/)&&!w(t,a)&&!w(t,r)&&!TS.emoji.hasUnifiedEmoji(t)}function E(t){if(!m(t))return{error_key:"name_invalid_name_required",error_message:TS.ui.validation.getErrorMessage("name_invalid_name_required")};if(!d(t,e))return{error_key:"too_long",error_message:TS.ui.validation.getErrorMessage("too_long",{maxlength:e})};if(!p(t,TS.interop.constants.RESERVED_USERNAMES))return{error_key:"invalid_reserved_word",error_message:TS.ui.validation.getErrorMessage("invalid_reserved_word")};if(w(t,/^@/))return{error_key:"invalid_starts_with_at",error_message:TS.ui.validation.getErrorMessage("invalid_starts_with_at")};if(w(t,a))return{error_key:"invalid_name_punctuation",error_message:TS.ui.validation.getErrorMessage("invalid_name_punctuation")};if(w(t,r))return{error_key:"name_invalid_name_specials",error_message:TS.ui.validation.getErrorMessage("name_invalid_name_specials")};if(TS.emoji.hasUnifiedEmoji(t))return{error_key:"invalid_emoji_not_allowed",error_message:TS.ui.validation.getErrorMessage("invalid_emoji_not_allowed",{name:_.escape(t)})};return true}function O(e){return m(e)&&d(e,t)&&!w(e,a)&&!w(e,i)&&!TS.redux.channels.getPublicOrPrivateChannelByName(e)&&!TS.interop.members.memberExistsWithName(e)}function C(e){if(!m(e))return{error_key:"invalid_name_required",error_message:TS.ui.validation.getErrorMessage("invalid_name_required")};if(!d(e,t))return{error_key:"invalid_name_maxlength",error_message:TS.ui.validation.getErrorMessage("invalid_name_maxlength",{maxlength:t})};if(w(e,a))return{error_key:"invalid_name_punctuation",error_message:TS.ui.validation.getErrorMessage("invalid_name_punctuation")};if(w(e,i))return{error_key:"invalid_name_specials",error_message:TS.ui.validation.getErrorMessage("invalid_name_specials")};if(TS.emoji.hasUnifiedEmoji(e))return{error_key:"invalid_emoji_not_allowed",error_message:TS.ui.validation.getErrorMessage("invalid_emoji_not_allowed",{name:_.escape(e)})};if(TS.redux.channels.getPublicOrPrivateChannelByName(e)||TS.interop.members.memberExistsWithName(e))return{error_key:"name_taken",error_message:TS.ui.validation.getErrorMessage("name_taken",{name:_.escape(e)})};return true}})()},2631:function(e,t){(function(){TS.registerModule("ui.team_picker",{STYLES:{normal:"normal",small:"small"},onStart:function e(){},make:function t(r,i,a){i=i||{};var o;var s;var u;i.append||TS.useReactLFS()&&a||r.addClass("hidden");i.style=_.get(TS.ui.team_picker.STYLES,i.style,TS.ui.team_picker.STYLES.normal);var l={append:!!i.append,approx_item_height:38,per_page:50,placeholder_text:TS.interop.i18n.t("Add workspaces","team_picker")(),classes:"team_picker",restrict_preselected_item_removal:i.restrict_preselected_item_removal||false,single:!!i.single,style:i.style,template:function e(t){if(TS.useReactLFS()&&a)return TS.interop.lazyFilterSelect.teamPickerListItem(t);var n=TS.templates.invite_team_small({team:t.team});return new Handlebars.SafeString(n)},tokenTemplate:function e(t){if(TS.useReactLFS()&&a)return TS.interop.lazyFilterSelect.teamPickerToken(t);var n=TS.templates.invite_team_token({team:t.team});return new Handlebars.SafeString(n)},filter:function e(t,r){var i=t.team;if(o!==r){s=new RegExp("^"+TS.utility.regexpEscape(r),"i");u=new RegExp("(-|_|\\+|\\s|\\.|@)"+TS.utility.regexpEscape(r),"i");o=r}return n(i,s)||n(i,u)},noResultsTemplate:function e(t){if(!t)return TS.interop.i18n.t("No workspaces found","team_picker")();return TS.interop.i18n.t("No workspaces found matching <strong>{query}</strong>","team_picker")({query:TS.interop.i18n.safeString(_.escape(t))})}};if(TS.useReactLFS()&&a){l=_.assign({},l,{approxItemHeight:l.approx_item_height,onValueChange:i.onValueChange,placeholderText:l.placeholder_text,restrictPreselectedItemRemoval:l.restrict_preselected_item_removal,onListShown:function e(){TS.ui.lazy_filter_select.is_list_open=true;TS.kb_nav.pause(true)},onListHidden:function e(){TS.ui.lazy_filter_select.is_list_open=false;TS.kb_nav.pause(false)}});l.dataPromise=e(i);TS.interop.mountLazyFilterSelect(TS.boot_data.team_id,r,l)}else{l.data_promise=e(i);r.lazyFilterSelect(l)}},value:function e(t){return t.lazyFilterSelect("value")},createFilterFunction:function t(n){return e(n)}});var e=function e(n){var r={};return function(e){r.query=e;r.included_ids=_.get(n,"included_ids",[]);r.omitted_ids=_.get(n,"omitted_ids",[]);var i="TS.ui.team_picker._createFilterFunction:preselected_ids";return TS.teams.ensureTeamsArePresent(n.preselected_ids||[],i).then(function(){return t(r,n)})}};var t=function e(t,n){var r=_.keyBy(n.preselected_ids,_.identity);var i=_.get(n,"preselect_all");var a=_.keyBy(n.disabled_ids,_.identity);var o=_.get(n,"disable_all");return Promise.resolve().then(function(){var e=false;var t=_.reject(r,function(t){return TS.teams.getTeamById(t,e)});var n="TS.ui.team_picker._getSearchPromise:unknown_team_ids";if(t.length)return TS.teams.ensureTeamsArePresent(t,n).catch(_.noop);return Promise.resolve()}).then(function(){return TS.teams.promiseToSearchTeams(t)}).tap(function(e){var t=[];if(""===e.query){var s=_.keyBy(n.omitted_ids,_.identity);t=_.filter(TS.teams.getAllEnterpriseTeams(),function(e){return!s[e.id]})}else t=e.items;if(n.sort_items_function){t=t.sort(n.sort_items_function);n.secondary_sort_items_function&&(t=t.sort(n.secondary_sort_items_function))}e.items=_.map(t,function(e){if(e.team&&"undefined"!==typeof e.preselected)return e;return{id:String(e.id),lfs_id:String(e.id),team:e,disabled:!!a[e.id]||o,preselected:!!r[e.id]||i}})})};var n=function e(t,n){return t.name&&t.name.match(n)}})()},282:function(e,t,n){"use strict";n.d(t,"b",function(){return s});n.d(t,"c",function(){return u});n.d(t,"a",function(){return l});n.d(t,"d",function(){return c});n.d(t,"e",function(){return f});n.d(t,"f",function(){return d});n.d(t,"g",function(){return _});n.d(t,"h",function(){return v});var r=n(1);var i=n.n(r);var a=n(10);var o=Object(a["c"])("TS.console.getStackTrace",i.a.noop);var s=Object(a["c"])("TS.console.info",i.a.noop);var u=Object(a["c"])("TS.console.log",i.a.noop);var l=Object(a["c"])("TS.console.error",i.a.noop);var c=Object(a["c"])("TS.console.logError",i.a.noop);var f=Object(a["c"])("TS.console.logStackTrace",i.a.noop);var d=Object(a["c"])("TS.console.logStackTraceToBackEnd",i.a.noop);var _=Object(a["c"])("TS.console.shouldLog",i.a.noop);var v=Object(a["c"])("TS.console.warn",i.a.noop)},3044:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});n.d(t,"DEVELOPMENT",function(){return l});n.d(t,"QA",function(){return c});n.d(t,"STAGING",function(){return f});n.d(t,"PRODUCTION",function(){return d});n.d(t,"isDev",function(){return v});n.d(t,"subdomain",function(){return g});n.d(t,"isQa",function(){return m});n.d(t,"isEU",function(){return p});n.d(t,"isJsPath",function(){return y});t["getEnvironment"]=T;t["isMac"]=b;t["isWindows"]=w;t["isLinux"]=k;t["isSSB"]=x;t["isSSBAndAtLeastVersion"]=E;t["desktopVersionFields"]=O;t["isTouch"]=C;t["isServiceWorkerAvailable"]=A;t["isNavigatorStorageAvailable"]=I;var r=n(189);var i=n.n(r);var a=n(194);var o=n.n(a);var s=n(21710);var u=n(21718);var l="dev";var c="qa";var f="staging";var d="production";var _=T(window.location.hostname);var v=_.env===l;var g=_.envSubdomain;var m=_.env===c;var p=_.isEU;var h=window.location.href.split("?",2)[1];var S=Object(s["c"])(h);var y=!!S.js_path;function T(e){var t=e.toLowerCase().split(".");var n=t.slice(t.length-2).join(".");if(["slack.com","slack.eu"].indexOf(n)<0)return{subdomain:null,isEnterprise:false,isEU:false,envSubdomain:null,env:d};var r="eu"===t[t.length-1];t.pop();t.pop();var i=void 0;var a=void 0;var o=void 0;if(t.length>0){if(t[t.length-1].match(/^dev[0-9]*$/)){i=l;a=t[t.length-1];t.pop()}else if(t[t.length-1].match(/^qa[0-9]*$/)){i=c;a=t[t.length-1];t.pop()}else if("staging"===t[t.length-1]){i=f;a="staging";t.pop()}else if(t[t.length-1].match(/^staging[0-9]+$/)){i=d;t.pop()}if("enterprise"===t[t.length-1]){o=true;t.pop()}}if(t.length>1)throw new Error("Unable to parse host string");return{subdomain:t[0]||null,isEnterprise:!!o,isEU:r,envSubdomain:a||null,env:i||d}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.a;return!!e.mac}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.a;return!!e.windows}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.a;return!!e.linux}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator&&navigator.userAgent;var t=/(Slack)/g.test(e);if(!t)return false;return true}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator&&navigator.userAgent;if(!x(t))return false;var n=e.split(".");var r={major:0,minor:0};n.length>2&&(r.minor=parseFloat(n.pop()));r.major=parseFloat(n.join("."));var i=O(t),a=i.versionFloat,o=i.versionMinor;var s={major:a,minor:o};return Object(u["compareVersions"])(s,r)>=0}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator&&navigator.userAgent;if(!x(e))return{};var t=e.split("/");var n=t[t.length-1];var r=parseFloat(n);var a=n.split(".");var o=3===a.length?parseInt(a[2],10):0;var s=a.length>=3?{major:parseInt(a[0],10),minor:parseInt(a[1],10),patch:parseInt(a[2],10)}:void 0;var u=void 0;k()?u={linuxAppVersion:r,linuxAppVersionMinor:o}:w()?u={windowsAppVersion:r,windowsAppVersionMinor:o}:b()&&(u={macAppVersion:r,macAppVersionMinor:o});return i()({desktopAppVersion:s,versionFloat:r,versionMinor:o},u)}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return"ontouchstart"in e.documentElement}function A(){return"serviceWorker"in navigator&&window&&"undefined"!==typeof window.caches}function I(){return"storage"in navigator}},3217:function(e,t,n){"use strict";var r=n(3218);n.d(t,"a",function(){return r["a"]})},3218:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1);var i=n.n(r);var a=n(10);var o=Object(a["c"])("TS.utility.isFocusOnInput",r["noop"]);var s=o},334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});n.d(t,"detectImplementation",function(){return S});n.d(t,"canWriteText",function(){return b});n.d(t,"writeText",function(){return w});n.d(t,"canWriteHTML",function(){return k});n.d(t,"writeHTML",function(){return x});n.d(t,"writeTextFromEvent",function(){return E});var r=n(72);var i=n.n(r);var a=n(73);var o=n.n(a);var s=n(194);var u=n.n(s);var l=n(43);var c=n(398);var f=n(606);var d=n(3217);var _=n(21926);var v=n(91);var g=void 0;var m=void 0;var p="clipboardTextarea";var h=function e(){g=false;u.a.chrome&&u.a.version>=42&&(g=true);u.a.firefox&&u.a.version>=41&&(g=true);u.a.msie&&u.a.version>=9&&(g=true);u.a.opera&&u.a.version>=29&&(g=true);Object(f["b"])(window,"click",function(){g=document.queryCommandSupported("copy")})};var S=function e(){var t=new T;var n=new y;if(t.canWriteText()){m=t;return t}h();m=n;return n};var y=function(){function e(){i()(this,e);this.currentRanges=[];this.selection=null}o()(e,[{key:"canWriteText",value:function e(){return g}},{key:"writeText",value:function e(t){if(!this.canWriteText()){Object(l["warn"])("Cannot write string to clipboard");return false}var n=document.createElement("textarea");n.id=p;n.appendChild(document.createTextNode(t));document.body.appendChild(n);var r=this.writeNode(n);document.body.removeChild(n);return r}},{key:"canWriteHTML",value:function e(){return g}},{key:"writeHTML",value:function e(t){if(!this.canWriteHTML()){Object(l["warn"])("Cannot write html to clipboard");return false}var n=document.createElement("p");n.innerHTML=t;var r=document.createElement("textarea");r.id=p;r.innerHTML=n.innerHTML;document.body.appendChild(r);var i=this.writeNode(r);document.body.removeChild(r);return i}},{key:"writeNode",value:function e(t){var n=false;if("input"!==t.type&&"textarea"!==t.type){Object(l["warn"])("Can only write input and textarea node's to clipboard");return false}var r=document.activeElement;try{this.saveSelection();var i=window.getSelection();i.removeAllRanges();t.select();document.execCommand("copy")}catch(e){n=true;Object(l["warn"])("Something bad happened when we tried to copy: "+e)}finally{this.restoreSelection();r&&r.focus&&r.focus()}return!n}},{key:"saveSelection",value:function e(){this.currentRanges=[];this.selection=window.getSelection();for(var t=0,n=this.selection.rangeCount;t<n;t++)this.currentRanges.push(this.selection.getRangeAt(t))}},{key:"restoreSelection",value:function e(){this.selection.removeAllRanges();for(var t=0,n=this.currentRanges.length;t<n;t++)this.selection.addRange(this.currentRanges[t])}}]);return e}();var T=function(){function e(){i()(this,e)}o()(e,[{key:"canWriteText",value:function e(){return Object(c["canWriteToClipboard"])()}},{key:"writeText",value:function e(t){if(!this.canWriteText()){Object(l["warn"])("Cannot write string to clipboard");return false}Object(c["writeString"])(t);return true}},{key:"canWriteHTML",value:function e(){return false}},{key:"writeHTML",value:function e(){Object(l["warn"])("We cannot write HTML in SSB");return false}}]);return e}();S();var b=function e(){return m.canWriteText()};var w=function e(t){return m.writeText(t)};var k=function e(){return m.canWriteHTML()};var x=function e(t){return m.writeHTML(t)};var E=function e(t,n){var r=Object.keys(n);if(0===r.length)return;var i=[];var a=null;try{var o=t.originalEvent||t;var s=o.clipboardData||window.clipboardData;r.forEach(function(e){try{s.setData(e,n[e]);var t=s.getData(e);n[e]===t&&i.push(e)}catch(t){Object(l["warn"])('TS.clipboard.writeTextFromEvent: error copying to "'+e+'" ('+t+")")}})}catch(e){a=e}a||0!==i.length||(a="failed to write to clipboard");if(a){Object(l["error"])("clipboard.writeTextFromEvent: "+a);return}t.preventDefault();"cut"===t.type&&Object(d["a"])()&&Object(_["a"])(document.activeElement);Object(v["b"])("CLIPBOARD_WRITE",{action:t.type,err:a,types:i.join(",")})}},337:function(e,t,n){var r,i;!function(a,o){if("undefined"!=typeof e&&e.exports)e.exports=o();else{true;!(r=o,i="function"===typeof r?r.call(t,n,t,e):r,void 0!==i&&(e.exports=i))}}("bowser",function(){var e=true;function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function r(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var i=n(/(ipod|iphone|ipad)/i).toLowerCase(),a=/like android/i.test(t),o=!a&&/android/i.test(t),s=/CrOS/.test(t),u=/silk/i.test(t),l=/sailfish/i.test(t),c=/tizen/i.test(t),f=/(web|hpw)os/i.test(t),d=/windows phone/i.test(t),_=!d&&/windows/i.test(t),v=!i&&!u&&/macintosh/i.test(t),g=!o&&!l&&!c&&!f&&/linux/i.test(t),m=r(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),p=n(/version\/(\d+(\.\d+)?)/i),h=/tablet/i.test(t)&&!/tablet pc/i.test(t),S=!h&&/[^-]mobi/i.test(t),y=/xbox/i.test(t),T;if(/opera|opr/i.test(t))T={name:"Opera",opera:e,version:p||n(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)};else if(/yabrowser/i.test(t))T={name:"Yandex Browser",yandexbrowser:e,version:p||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)};else if(/windows phone/i.test(t)){T={name:"Windows Phone",windowsphone:e};if(m){T.msedge=e;T.version=m}else{T.msie=e;T.version=n(/iemobile\/(\d+(\.\d+)?)/i)}}else if(/msie|trident/i.test(t))T={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)};else if(s)T={name:"Chrome",chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)};else if(/chrome.+? edge/i.test(t))T={name:"Microsoft Edge",msedge:e,version:m};else if(/chrome|crios|crmo/i.test(t))T={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)};else if(i){T={name:"iphone"==i?"iPhone":"ipad"==i?"iPad":"iPod"};p&&(T.version=p)}else if(/sailfish/i.test(t))T={name:"Sailfish",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)};else if(/seamonkey\//i.test(t))T={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)};else if(/waterfox\//i.test(t))T={name:"Waterfox",waterfox:e,version:n(/waterfox\/(\d+(\.\d+)?)/i)};else if(/firefox|iceweasel/i.test(t)){T={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)};/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(T.firefoxos=e)}else if(/silk/i.test(t))T={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)};else if(o)T={name:"Android",version:p};else if(/phantom/i.test(t))T={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)};else if(/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t))T={name:"BlackBerry",blackberry:e,version:p||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)};else if(/(web|hpw)os/i.test(t)){T={name:"WebOS",webos:e,version:p||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)};/touchpad\//i.test(t)&&(T.touchpad=e)}else T=/bada/i.test(t)?{name:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(t)?{name:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||p}:/safari/i.test(t)?{name:"Safari",safari:e,version:p}:{name:n(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)};if(!T.msedge&&/(apple)?webkit/i.test(t)){T.name=T.name||"Webkit";T.webkit=e;!T.version&&p&&(T.version=p)}else if(!T.opera&&/gecko\//i.test(t)){T.name=T.name||"Gecko";T.gecko=e;T.version=T.version||n(/gecko\/(\d+(\.\d+)?)/i)}if(T.windowsphone||!o&&!T.silk){if(!T.windowsphone&&i){T[i]=e;T.ios=e;T.osname="iOS"}else if(v){T.mac=e;T.osname="macOS"}else if(y){T.xbox=e;T.osname="Xbox"}else if(_){T.windows=e;T.osname="Windows"}else if(g){T.linux=e;T.osname="Linux"}}else{T.android=e;T.osname="Android"}function b(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}var w="";if(T.windows)w=b(n(/Windows ((NT|XP)( \d\d?.\d)?)/i));else if(T.windowsphone)w=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i);else if(T.mac){w=n(/Mac OS X (\d+([_\.\s]\d+)*)/i);w=w.replace(/[_\s]/g,".")}else if(i){w=n(/os (\d+([_\s]\d+)*) like mac os x/i);w=w.replace(/[_\s]/g,".")}else o?w=n(/android[ \/-](\d+(\.\d+)*)/i):T.webos?w=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):T.blackberry?w=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):T.bada?w=n(/bada\/(\d+(\.\d+)*)/i):T.tizen&&(w=n(/tizen[\/\s](\d+(\.\d+)*)/i));w&&(T.osversion=w);var k=!T.windows&&w.split(".")[0];h||"ipad"==i||o&&(3==k||k>=4&&!S)||T.silk?T.tablet=e:(S||"iphone"==i||"ipod"==i||o||T.blackberry||T.webos||T.bada)&&(T.mobile=e);T.msedge||T.msie&&T.version>=10||T.yandexbrowser&&T.version>=15||T.chrome&&T.version>=20||T.firefox&&T.version>=20||T.safari&&T.version>=6||T.opera&&T.version>=10||T.ios&&T.osversion&&T.osversion.split(".")[0]>=6||T.blackberry&&T.version>=10.1?T.a=e:T.msie&&T.version<10||T.chrome&&T.version<20||T.firefox&&T.version<20||T.safari&&T.version<6||T.opera&&T.version<10||T.ios&&T.osversion&&T.osversion.split(".")[0]<6?T.c=e:T.x=e;return T}var n=t("undefined"!==typeof navigator?navigator.userAgent:"");n.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if("string"===typeof r&&r in n)return true}return false};n._detect=t;return n})},388:function(e,t,n){"use strict";n.d(t,"a",function(){return s});n.d(t,"d",function(){return l});n.d(t,"l",function(){return c});n.d(t,"g",function(){return f});n.d(t,"j",function(){return d});n.d(t,"f",function(){return _});n.d(t,"e",function(){return v});n.d(t,"i",function(){return m});n.d(t,"b",function(){return p});n.d(t,"k",function(){return h});n.d(t,"c",function(){return T});n.d(t,"h",function(){return k});var r=n(1);var i=n.n(r);var a=n(10);var o=Object(a["c"])("TS.utility.contenteditable.clear",r["noop"]);var s=Object(a["c"])("TS.utility.contenteditable.create",r["noop"]);var u=Object(a["c"])("TS.utility.contenteditable.unload",r["noop"]);var l=Object(a["c"])("TS.utility.contenteditable.focus",r["noop"]);var c=Object(a["c"])("TS.utility.contenteditable.value",function(){return""});var f=Object(a["c"])("TS.utility.contenteditable.hasFocus",function(){return false});var d=Object(a["c"])("TS.utility.contenteditable.isTextSelected",function(){return false});var _=Object(a["c"])("TS.utility.contenteditable.getLength",function(){return 0});var v=Object(a["c"])("TS.utility.contenteditable.getDisplayTextForRange");var g=Object(a["c"])("TS.utility.contenteditable.setCursorAtEnd",r["noop"]);var m=Object(a["c"])("TS.utility.contenteditable.isEmpty",false);var p=Object(a["c"])("TS.utility.contenteditable.cursorPosition",function(){return{start:0,end:0,length:0}});var h=Object(a["c"])("TS.utility.contenteditable.legacySynchronouslyReplacePotentialMentions",r["noop"]);var S=Object(a["c"])("TS.utility.contenteditable.enable",r["noop"]);var y=Object(a["c"])("TS.utility.contenteditable.disable",r["noop"]);var T=Object(a["c"])("TS.utility.contenteditable.deleteSelection",r["noop"]);var b=Object(a["c"])("TS.utility.contenteditable.clearHistory",r["noop"]);var w=Object(a["c"])("TS.utility.contenteditable.placeholder",r["noop"]);var k=Object(a["c"])("TS.utility.contenteditable.inlineEmojiIsEnabled",r["noop"])},398:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});n.d(t,"isDesktop",function(){return u});t["bindDesktopMethod"]=l;t["bindDesktopWindowMethod"]=c;n.d(t,"isAccessibilitySupportEnabled",function(){return f});n.d(t,"isScreenReaderEnabled",function(){return d});n.d(t,"didFinishLoading",function(){return v});n.d(t,"getAppLogFiles",function(){return g});n.d(t,"getLocaleInformation",function(){return m});n.d(t,"getPreference",function(){return p});n.d(t,"getZoom",function(){return h});n.d(t,"hasPreference",function(){return S});n.d(t,"isAppStoreBuild",function(){return y});n.d(t,"isMainWindowFrameless",function(){return T});n.d(t,"quitAndInstallUpdate",function(){return b});n.d(t,"readSystemTextPreferences",function(){return w});n.d(t,"setPreference",function(){return k});n.d(t,"setZoom",function(){return x});n.d(t,"showOpenDialog",function(){return E});n.d(t,"updateNoDragRegion",function(){return O});n.d(t,"writeFindString",function(){return C});n.d(t,"writeString",function(){return A});n.d(t,"showContextMenu",function(){return I});n.d(t,"getItem",function(){return M});n.d(t,"setItem",function(){return R});n.d(t,"removeItem",function(){return F});n.d(t,"bounceIndefinitely",function(){return j});n.d(t,"bounceOnce",function(){return L});n.d(t,"setBadgeCount",function(){return P});n.d(t,"cancelDownload",function(){return D});n.d(t,"clearDownloads",function(){return N});n.d(t,"openDownload",function(){return $});n.d(t,"pauseDownload",function(){return U});n.d(t,"removeDownload",function(){return B});n.d(t,"resumeDownload",function(){return W});n.d(t,"retryDownload",function(){return z});n.d(t,"showDownload",function(){return q});n.d(t,"startDownload",function(){return H});n.d(t,"languageIdentifier",function(){return G});n.d(t,"notify",function(){return V});n.d(t,"shouldAttachSoundToNotification",function(){return K});n.d(t,"shouldMuteAudio",function(){return Y});n.d(t,"isSelectedTeam",function(){return Q});n.d(t,"getAppMetrics",function(){return J});n.d(t,"getCrashInformation",function(){return X});n.d(t,"getDisplayInformation",function(){return Z});n.d(t,"getHangInformation",function(){return ee});n.d(t,"getState",function(){return te});n.d(t,"getNoDragRegions",function(){return ne});n.d(t,"didSignIn",function(){return re});n.d(t,"didSignOut",function(){return ie});n.d(t,"displayChannel",function(){return ae});n.d(t,"displayTeam",function(){return oe});n.d(t,"displayTeamById",function(){return se});n.d(t,"getLastActiveTeamIdForTeamIds",function(){return ue});n.d(t,"getSignedInTeamIds",function(){return le});n.d(t,"invalidateAuth",function(){return ce});n.d(t,"refreshTileColors",function(){return fe});n.d(t,"setTeamIcon",function(){return de});n.d(t,"signInTeam",function(){return _e});n.d(t,"teamDomainChanged",function(){return ve});n.d(t,"teamNameChanged",function(){return ge});n.d(t,"centerWindow",function(){return me});n.d(t,"closeWindow",function(){return pe});n.d(t,"executeJavaScriptInParentWindow",function(){return he});n.d(t,"executeJavaScriptInWindow",function(){return Se});n.d(t,"focusWindow",function(){return ye});n.d(t,"getAppDisplay",function(){return Te});n.d(t,"getDisplayForWindow",function(){return be});n.d(t,"getGeometryForWindow",function(){return we});n.d(t,"hideWindow",function(){return ke});n.d(t,"listWindows",function(){return xe});n.d(t,"openAuthenticatedInBrowser",function(){return Ee});n.d(t,"openWindow",function(){return Oe});n.d(t,"showWindow",function(){return Ce});n.d(t,"showWindowInactive",function(){return Ae});n.d(t,"instanceUid",function(){return Me});n.d(t,"sessionId",function(){return Re});t["getDesktopContext"]=Fe;t["canAutoGetKeyboard"]=je;t["canWriteToClipboard"]=Le;t["areDragRegionsRequired"]=Pe;t["hasDeviceStorage"]=De;t["canRequestMetrics"]=Ne;var r=n(1);var i=n.n(r);var a=n(43);var o=n(91);var s=n(3044);var u=window&&window.desktop;function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r["noop"];return function(){for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];if(!u)return t.apply(void 0,i);var l=Object(r["get"])(window,e);if(!l||!Object(r["isFunction"])(l)){Object(a["warn"])("Desktop: '"+e+"' is missing or not a function");Object(o["b"])("DESKTOP_SCRIPTS_MISSING",e);return t.apply(void 0,i)}var c=e.split(".");var f=c.slice(0,c.length-1).join(".");var d=Object(r["get"])(window,f);return l.call.apply(l,[d].concat(i))}}function c(e){return Object(r["overArgs"])(l(e),function(e){return{window_token:e}})}var f=l("desktop.accessibility.isAccessibilitySupportEnabled");var d=function e(){return!!f()};var _=l("desktop.app.setZoom");var v=l("desktop.app.didFinishLoading");var g=l("desktop.app.getAppLogFiles");var m=l("desktop.app.getLocaleInformation");var p=l("desktop.app.getPreference");var h=l("desktop.app.getZoom");var S=l("desktop.app.hasPreference");var y=l("desktop.app.isAppStoreBuild");var T=l("desktop.app.isMainWindowFrameless");var b=l("desktop.app.quitAndInstallUpdate");var w=l("desktop.app.readSystemTextPreferences");var k=l("desktop.app.setPreference");var x=function e(t){return _(parseInt(t,10))};var E=l("desktop.app.showOpenDialog");var O=l("desktop.app.updateNoDragRegion");var C=l("desktop.clipboard.writeFindString");var A=l("desktop.clipboard.writeString");var I=l("desktop.contextMenu");var M=l("desktop.deviceStorage.getItem");var R=l("desktop.deviceStorage.setItem");var F=l("desktop.deviceStorage.removeItem");var j=l("desktop.dock.bounceIndefinitely");var L=l("desktop.dock.bounceOnce");var P=l("desktop.dock.setBadgeCount");var D=l("desktop.downloads.cancelDownload");var N=l("desktop.downloads.clearDownloads");var $=l("desktop.downloads.openDownload");var U=l("desktop.downloads.pauseDownload");var B=l("desktop.downloads.removeDownload");var W=l("desktop.downloads.resumeDownload");var z=l("desktop.downloads.retryDownload");var q=l("desktop.downloads.showDownload");var H=l("desktop.downloads.startDownload");var G=u&&window.desktop.languageIdentifier;var V=l("desktop.notice.notify");var K=l("desktop.notice.shouldAttachSoundToNotification");var Y=l("desktop.notice.shouldMuteAudio");var Q=l("desktop.reduxHelper.isSelectedTeam");var J=l("desktop.stats.getAppMetrics");var X=l("desktop.stats.getCrashInformation");var Z=l("desktop.stats.getDisplayInformation");var ee=l("desktop.stats.getHangInformation");var te=l("desktop.store.getState");var ne=function e(){var t=te();return t&&t.app&&t.app.noDragRegions||[]};var re=l("desktop.teams.didSignIn");var ie=l("desktop.teams.didSignOut");var ae=l("desktop.teams.displayChannel");var oe=l("desktop.teams.displayTeam");var se=l("desktop.teams.displayTeamById");var ue=l("desktop.teams.getLastActiveTeamIdForTeamIds");var le=l("desktop.teams.getSignedInTeamIds");var ce=l("desktop.teams.invalidateAuth");var fe=l("desktop.teams.refreshTileColors");var de=l("desktop.teams.setImage");var _e=l("desktop.teams.signInTeam");var ve=l("desktop.teams.teamDomainChanged");var ge=l("desktop.teams.teamNameChanged");var me=c("desktop.window.center");var pe=c("desktop.window.close");var he=l("window.opener.executeJavaScript");var Se=l("desktop.window.executeJavaScriptInWindow");var ye=c("desktop.window.focus");var Te=l("desktop.window.getAppDisplay");var be=c("desktop.window.getDisplayForWindow");var we=c("desktop.window.getGeometryForWindow");var ke=c("desktop.window.hide");var xe=l("desktop.window.list");var Ee=l("desktop.window.openAuthenticatedInBrowser");var Oe=l("desktop.window.open");var Ce=c("desktop.window.show");var Ae=c("desktop.window.showInactive");var Ie=u&&window.desktop.stats&&window.desktop.stats.Id?window.desktop.stats.Id:{instanceUid:null,sessionId:null};var Me=Ie.instanceUid;var Re=Ie.sessionId;function Fe(){if(!u)return{};var e=p("releaseChannel")||null;return{instanceUid:Me,sessionId:Re,releaseChannel:e}}function je(){var e=m();return e&&!!e.currentKeyboardLayout}function Le(){return u&&!!window.desktop.clipboard}function Pe(){return Object(s["isMac"])()&&Object(s["isSSBAndAtLeastVersion"])("3.0.0")}function De(){return u&&!!window.desktop.deviceStorage}function Ne(){return Object(s["isSSBAndAtLeastVersion"])("3.2.1")||Q()}},43:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["setRedactionEnabled"]=h;t["setLogLevel"]=S;t["action"]=y;t["debug"]=T;t["info"]=b;t["warn"]=w;t["error"]=k;t["makeLogDate"]=E;var r=n(942);var i=n.n(r);var a=n(22903);var o=n.n(a);var s=n(1);var u=n.n(s);var l=n(3044);var c=n(78);var f=l["isDev"]?"warn":"info";var d=["debug","info","action","warn","error"];var _=21;var v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var g="ACTION";var m=["name","_name_lc","real_name","_real_name_lc","real_name_normalized","_real_name_normalized_lc","display_name","_display_name_lc","display_name_normalized","_display_name_normalized_lc","first_name","_first_name_lc","last_name","_last_name_lc","preferred_name","full_name","email","skype","status_text","title","src","text","msgs"];var p=true;function h(e){p=e}function S(e){if(!d.includes(e)){console.error("Invalid log level "+e+" passed to setLogLevel(). Accepted values are "+d.join(", ")+".");return}f=e}function y(e,t){if("warn"===f||"error"===f)return;if("string"!==typeof e){console.error("action() expects the first argument to be a string describing the context of the log. Instead received "+e);return}if("string"!==typeof t){console.error("action() expects the second argument to be a string describing a user action");return}var n="["+g+":"+O(e)+"] "+t;for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];i.length>0?x("info",[n,i]):x("info",[n])}function T(){if("debug"!==f)return;for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];x("info",t)}function b(e){if("debug"!==f&&"info"!==f)return;if("string"!==typeof e){console.error("info() expects the first argument to be a string describing the context of the log. Instead received "+e);return}if(e===g){console.error("The log label ACTION is reserved for the action() method. Please choose something else.");return}for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(0===n.length){console.error("info() expects 1 or more arguments to be passed after the required label");return}var i="["+O(e)+"]";x("info",[i].concat(n))}function w(){if("error"===f)return;for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];x("warn",t)}function k(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];x("error",t)}function x(e,t){if(!window.console||!console[e])return;var n=E();var r=t;l["isDev"]||p&&(r=t.map(function(e){return C(e)}));var i=true;var a=Object(s["isString"])(r[0])&&2===r.length&&Object(s["isArray"])(r[1])&&1===r[1].length&&Object(s["isString"])(r[1][0])||Object(s["isArray"])(r[0])&&1===r.length&&1===r[0].length&&Object(s["isString"])(r[0][0]);if(!a){var u=r.length;while(i&&u){u-=1;i=Object(s["isString"])(r[u])}}if(i){r.unshift(n);console[e](r.join(" "))}else{var c;(c=console)[e].apply(c,[n].concat(o()(r)))}}function E(){var e=new Date;var t=v[e.getMonth()];var n=e.getDate();var r={h:e.getHours(),mi:e.getMinutes(),s:e.getSeconds(),ms:e.getMilliseconds()};Object.keys(r).map(function(e){"ms"===e?r[e]<10?r[e]="00"+r[e]:r[e]<100&&(r[e]="0"+r[e]):r[e]<10&&(r[e]="0"+r[e]);return null});return t+"-"+n+" "+r.h+":"+r.mi+":"+r.s+"."+r.ms}function O(e){if(!e){console.error("No label passed to formatLabel().");return false}return e.substring(0,_).toUpperCase()}function C(e,t){var n=void 0;var r=t||1;if(!e||"object"!==("undefined"===typeof e?"undefined":i()(e)))return e;if(e instanceof Error)return{error:e.message};t&&(r+=1);if(t>=10)return e;n=Array.isArray(e)?[]:{};Object(s["each"])(e,function(e,t){m.includes(t)?n[t]="[redacted]":n[t]=C(e,r)});return n}function A(e){e.log_level&&S(e.log_level)}A(Object(c["urlQueryStringParse"])(window.location.href))},57:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];e.children||(e.children=[]);Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});e.webpackPolyfill=1}return e}},58:function(e,t,n){"use strict";n.d(t,"f",function(){return a});n.d(t,"a",function(){return u});n.d(t,"b",function(){return l});n.d(t,"c",function(){return f});n.d(t,"d",function(){return d});n.d(t,"e",function(){return _});n.d(t,"g",function(){return v});n.d(t,"h",function(){return g});n.d(t,"i",function(){return m});n.d(t,"j",function(){return p});var r=n(10);var i=Object(r["c"])("TS.log",console.log);var a=Object(r["c"])("TS.error",console.error);var o=Object(r["c"])("TS.warn",console.warn);var s=Object(r["c"])("TS.info",console.info);var u=Object(r["c"])("TS.utility.exampleEmailAddress");var l=Object(r["c"])("TS.utility.calls.getCallActive",function(){return Promise.resolve(false)});var c=Object(r["c"])("TS.utility.getImgProxyURL",function(e){return e});var f=Object(r["c"])("TS.utility.getImgProxyURLWithOptions",function(e){return e});var d=Object(r["c"])("TS.utility.getRefererPolicy",function(){return{}});var _=Object(r["c"])("TS.utility.calls.isScreenSharing",function(){return false});var v=Object(r["c"])("TS.utility.openInNewTab");var g=Object(r["c"])("TS.utility.shouldLinksHaveTargets",function(){return false});var m=Object(r["c"])("TS.utility.urlNeedsRefererHiding",function(){return true});var p=Object(r["c"])("TS.utility.email.validateEmail")},606:function(e,t,n){"use strict";n.d(t,"a",function(){return i});n.d(t,"b",function(){return a});var r=n(43);var i=function e(t,n,i,a){var o=document.querySelector(t);if(!o){Object(r["warn"])("'on' could not find the target element - events will not be delegated");return}o.addEventListener(n,function(e){var n=e.target;while(n&&n!==t&&"function"===typeof n.matches){if(n.matches(i))return a.call(n,e);n=n.parentNode}return null})};var a=function e(t,n,r){var i=function e(i){t.removeEventListener(n,e,true);r.call(i.target,i)};t.addEventListener(n,i,true)}},663:function(e,t){(function(){TS.registerModule("clipboard",{canWriteText:function e(){return TS.interop.clipboard.canWriteText()},writeText:function e(t){TS.interop.clipboard.writeText(t)},canWriteHTML:function e(){return TS.interop.clipboard.canWriteHTML()},writeHTML:function e(t){TS.interop.clipboard.writeHTML(t)},writeTextFromEvent:function e(t,n){TS.interop.clipboard.writeTextFromEvent(t,n)}})})()},7:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(1,eval)("this")}catch(e){"object"===typeof window&&(n=window)}e.exports=n},72:function(e,t,n){"use strict";t.__esModule=true;t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},721:function(e,t){(function(){TS.registerModule("ui.email_healing",{onStart:function e(){n()},test:function e(){return{_correctEmailTypos:r}}});var e=0;var t={};var n=function e(){var t=$("body");t.on("input","[data-email-healing]",_.debounce(r,600));t.on("blur","[data-email-healing]",r)};var r=function n(){var r=this;var a=i(r.value);if(!TS.utility.email.validateEmail(a).is_valid)return;var o=TS.utility.email.correctTypos(a,false);if(!o.typo_corrected)return;var s=r.getAttribute("data-email-healing");if("true"===s){e+=1;s=e;r.setAttribute("data-email-healing",s)}void 0===t[s]&&(t[s]={color:window.getComputedStyle(r).color,orange:this.getAttribute("data-email-healing-typo-color")||"#ffa800",green:this.getAttribute("data-email-healing-corrected-color")||"#2ab27b"});r.style.color=t[s].orange;r.style.transition="color 0.2s ease-out 0s";setTimeout(function(){r.value=o.updated_email;r.style.color=t[s].green;r.style.transition="color 0.2s ease-out 0s"},300);setTimeout(function(){r.style.color=t[s].color;r.style.transition="color 0.6s ease-out 0.3s"},500)};var i=function e(t){if(!t&&0!==t)return"";return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}})()},722:function(e,t,n){"use strict";var r=n(942);var i=n.n(r);(function(){TS.registerModule("utility.email",{ERROR_EMPTY:"empty",ERROR_INVALID:"invalid",ERROR_TOO_MANY:"too_many",EMAIL_REGEX:new RegExp("^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$","i"),DOMAIN_REGEX:new RegExp("^@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$","i"),convertToArray:function e(t){return t.replace(/\s|\n/g,"").replace(/,$/g,"").split(",")},validateEmail:function e(t,r){var i=TS.utility.email.convertToArray(t);return n(i,r)},validateDomain:function e(n){var r=n?TS.utility.email.convertToArray(n):[];return t(r)},correctTypos:function e(t,n){void 0===n&&(n=true);return s(t,n)},removeDuplicates:function e(t){return _.uniq(TS.utility.email.convertToArray(t)).join(",")},getErrorMessage:function t(n,r){return e[n]?e[n](r||{}):""},getTooManyErrorMessage:function t(n){return e[TS.utility.email.ERROR_TOO_MANY]({max_addresses:n})},test:function t(){return{error_messages:e,tld_typo:r,domain_typo:a}}});var e={empty:TS.interop.i18n.t("Please fill in your email.","email_utility"),invalid:TS.interop.i18n.t("Sorry, but that email is invalid.","email_utility"),too_many:TS.interop.i18n.t("Please make your list shorter \u2014 we can check up to {max_addresses} addresses at a time.","email_utility"),invalid_domain:TS.interop.i18n.t("Sorry, but that isn\u2019t a valid email domain.","email_utility")};var t=function t(n){Array.isArray(n)||TS.error("Type error: TS.utility.email._validateDomain requires an array. domain_array is a","undefined"===typeof n?"undefined":i()(n));var r=[];_.each(n,function(e){TS.utility.email.DOMAIN_REGEX.test(e)||r.push(e)});if(r.length){var a="invalid_domain";return{is_valid:false,email_domain:n,error_key:a,error_message:e[a](),error_domains:r}}return{is_valid:true,email_domain:n,error_key:"",error_message:""}};var n=function e(t,n){Array.isArray(t)||TS.error("Type error: TS.utility.email._validateEmail requires an array. email_array is a","undefined"===typeof t?"undefined":i()(t));var r=0;var a=t.length;var o;var s;var u;if(n&&a>n){s=TS.utility.email.ERROR_TOO_MANY;u=n>1?TS.utility.email.getTooManyErrorMessage(n):TS.utility.email.getErrorMessage(TS.utility.email.ERROR_INVALID);return{is_valid:false,email_array:t,error_key:s,error_message:u}}for(r;r<a;r+=1){o=t[r];r||""!==o?TS.utility.email.EMAIL_REGEX.test(o)||(s=TS.utility.email.ERROR_INVALID):s=TS.utility.email.ERROR_EMPTY;if(s)return{is_valid:false,email_array:t,error_key:s,error_message:TS.utility.email.getErrorMessage(s)}}return{is_valid:true,email_array:t,error_key:"",error_message:""}};var r={cmo:"com",ocm:"com",con:"com","com.com":"com",vom:"com",cim:"com",cpm:"com",ccom:"com",coom:"com",comm:"com",cmm:"com"};var a={gmai:"gmail",gamil:"gmail",gmil:"gmail",gmial:"gmail",gmal:"gmail",gmaill:"gmail",gnail:"gmail",gamail:"gmail",gmsil:"gmail",yhoo:"yahoo",yahooo:"yahoo",yaho:"yahoo",homail:"hotmail",hotmaill:"hotmail",outook:"outlook",outlock:"outlook",otlook:"outlook",outlolk:"outlook"};var o={};var s=function e(t,n){void 0===n&&(n=true);var r=TS.utility.email.convertToArray(t);var i=t;var a=t;r.forEach(function(e){if(!n&&o[e])return;var t=u(e);if(t.has_typo){o[e]=true;i=i.replace(e,t.email_val);a=a.replace(e,t.shadow_val)}});return{typo_corrected:t!==i,shadow_email:a.replace(/\n/g,"<br />"),updated_email:i}};var u=function e(t){var n=t;var i;var o;_.forOwn(r,function(e,r){o=new RegExp("\\."+r+"$");if(o.test(t)){i=true;t=t.replace(o,"."+e);n=n.replace(o,'.<span class="seafoam_green">'+e+"</span>");return false}});_.forOwn(a,function(e,r){o=new RegExp("@"+r+"\\.");if(o.test(t)){i=true;t=t.replace(o,"@"+e+".");n=n.replace(o,'@<span class="seafoam_green">'+e+"</span>.");return false}});return{has_typo:i,email_val:t,shadow_val:n}}})()},73:function(e,t,n){"use strict";t.__esModule=true;var r=n(1333);var i=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);(0,i.default)(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}()},7302:function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},7304:function(e,t,n){var r=n(7327)("wks");var i=n(7322);var a=n(7305).Symbol;var o="function"==typeof a;var s=e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))};s.store=r},7305:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},7307:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},7308:function(e,t,n){var r=n(7305);var i=n(7302);var a=n(7344);var o=n(7314);var s="prototype";var u=function(e,t,n){var l=e&u.F;var c=e&u.G;var f=e&u.S;var d=e&u.P;var _=e&u.B;var v=e&u.W;var g=c?i:i[t]||(i[t]={});var m=g[s];var p=c?r:f?r[t]:(r[t]||{})[s];var h,S,y;c&&(n=t);for(h in n){S=!l&&p&&void 0!==p[h];if(S&&h in g)continue;y=S?p[h]:n[h];g[h]=c&&"function"!=typeof p[h]?n[h]:_&&S?a(y,r):v&&p[h]==y?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};t[s]=e[s];return t}(y):d&&"function"==typeof y?a(Function.call,y):y;if(d){(g.virtual||(g.virtual={}))[h]=y;e&u.R&&m&&!m[h]&&o(m,h,y)}}};u.F=1;u.G=2;u.S=4;u.P=8;u.B=16;u.W=32;u.U=64;u.R=128;e.exports=u},7309:function(e,t,n){var r=n(7315);var i=n(7345);var a=n(7329);var o=Object.defineProperty;t.f=n(7310)?Object.defineProperty:function e(t,n,s){r(t);n=a(n,true);r(s);if(i)try{return o(t,n,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");"value"in s&&(t[n]=s.value);return t}},7310:function(e,t,n){e.exports=!n(7317)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},7311:function(e,t,n){var r=n(7350);var i=n(7325);e.exports=function(e){return r(i(e))}},7314:function(e,t,n){var r=n(7309);var i=n(7323);e.exports=n(7310)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){e[t]=n;return e}},7315:function(e,t,n){var r=n(7316);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},7316:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},7317:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return true}}},7318:function(e,t){e.exports={}},7319:function(e,t,n){var r=n(7349);var i=n(7335);e.exports=Object.keys||function e(t){return r(t,i)}},7321:function(e,t,n){var r=n(7325);e.exports=function(e){return Object(r(e))}},7322:function(e,t){var n=0;var r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},7323:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7324:function(e,t){t.f={}.propertyIsEnumerable},7325:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},7326:function(e,t,n){var r=n(7327)("keys");var i=n(7322);e.exports=function(e){return r[e]||(r[e]=i(e))}},7327:function(e,t,n){var r=n(7305);var i="__core-js_shared__";var a=r[i]||(r[i]={});e.exports=function(e){return a[e]||(a[e]={})}},7329:function(e,t,n){var r=n(7316);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},7330:function(e,t,n){"use strict";var r=n(7360)(true);n(7347)(String,"String",function(e){this._t=String(e);this._i=0},function(){var e=this._t;var t=this._i;var n;if(t>=e.length)return{value:void 0,done:true};n=r(e,t);this._i+=n.length;return{value:n,done:false}})},7331:function(e,t){var n=Math.ceil;var r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},7332:function(e,t){e.exports=true},7333:function(e,t,n){var r=n(7315);var i=n(7362);var a=n(7335);var o=n(7326)("IE_PROTO");var s=function(){};var u="prototype";var l=function(){var e=n(7346)("iframe");var t=a.length;var r="<";var i=">";var o;e.style.display="none";n(7366).appendChild(e);e.src="javascript:";o=e.contentWindow.document;o.open();o.write(r+"script"+i+"document.F=Object"+r+"/script"+i);o.close();l=o.F;while(t--)delete l[u][a[t]];return l()};e.exports=Object.create||function e(t,n){var a;if(null!==t){s[u]=r(t);a=new s;s[u]=null;a[o]=t}else a=l();return void 0===n?a:i(a,n)}},7334:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},7335:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},7336:function(e,t,n){var r=n(7309).f;var i=n(7307);var a=n(7304)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:true,value:t})}},7337:function(e,t,n){n(7367);var r=n(7305);var i=n(7314);var a=n(7318);var o=n(7304)("toStringTag");var s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(",");for(var u=0;u<s.length;u++){var l=s[u];var c=r[l];var f=c&&c.prototype;f&&!f[o]&&i(f,o,l);a[l]=a.Array}},7338:function(e,t,n){t.f=n(7304)},7339:function(e,t,n){var r=n(7305);var i=n(7302);var a=n(7332);var o=n(7338);var s=n(7309).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},7340:function(e,t){t.f=Object.getOwnPropertySymbols},7341:function(e,t,n){var r=n(7324);var i=n(7323);var a=n(7311);var o=n(7329);var s=n(7307);var u=n(7345);var l=Object.getOwnPropertyDescriptor;t.f=n(7310)?l:function e(t,n){t=a(t);n=o(n,true);if(u)try{return l(t,n)}catch(e){}if(s(t,n))return i(!r.f.call(t,n),t[n])}},7343:function(e,t,n){var r=n(7307);var i=n(7321);var a=n(7326)("IE_PROTO");var o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){e=i(e);if(r(e,a))return e[a];if("function"==typeof e.constructor&&e instanceof e.constructor)return e.constructor.prototype;return e instanceof Object?o:null}},7344:function(e,t,n){var r=n(7356);e.exports=function(e,t,n){r(e);if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},7345:function(e,t,n){e.exports=!n(7310)&&!n(7317)(function(){return 7!=Object.defineProperty(n(7346)("div"),"a",{get:function(){return 7}}).a})},7346:function(e,t,n){var r=n(7316);var i=n(7305).document;var a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},7347:function(e,t,n){"use strict";var r=n(7332);var i=n(7308);var a=n(7348);var o=n(7314);var s=n(7307);var u=n(7318);var l=n(7361);var c=n(7336);var f=n(7343);var d=n(7304)("iterator");var _=!([].keys&&"next"in[].keys());var v="@@iterator";var g="keys";var m="values";var p=function(){return this};e.exports=function(e,t,n,h,S,y,T){l(n,t,h);var b=function(e){if(!_&&e in E)return E[e];switch(e){case g:return function t(){return new n(this,e)};case m:return function t(){return new n(this,e)}}return function t(){return new n(this,e)}};var w=t+" Iterator";var k=S==m;var x=false;var E=e.prototype;var O=E[d]||E[v]||S&&E[S];var C=!_&&O||b(S);var A=S?k?b("entries"):C:void 0;var I="Array"==t&&E.entries||O;var M,R,F;if(I){F=f(I.call(new e));if(F!==Object.prototype&&F.next){c(F,w,true);r||s(F,d)||o(F,d,p)}}if(k&&O&&O.name!==m){x=true;C=function e(){return O.call(this)}}r&&!T||!_&&!x&&E[d]||o(E,d,C);u[t]=C;u[w]=p;if(S){M={values:k?C:b(m),keys:y?C:b(g),entries:A};if(T)for(R in M)R in E||a(E,R,M[R]);else i(i.P+i.F*(_||x),t,M)}return M}},7348:function(e,t,n){e.exports=n(7314)},7349:function(e,t,n){var r=n(7307);var i=n(7311);var a=n(7363)(false);var o=n(7326)("IE_PROTO");e.exports=function(e,t){var n=i(e);var s=0;var u=[];var l;for(l in n)l!=o&&r(n,l)&&u.push(l);while(t.length>s)r(n,l=t[s++])&&(~a(u,l)||u.push(l));return u}},7350:function(e,t,n){var r=n(7334);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},7351:function(e,t,n){var r=n(7349);var i=n(7335).concat("length","prototype");t.f=Object.getOwnPropertyNames||function e(t){return r(t,i)}},7352:function(e,t,n){var r=n(7334);var i=n(7304)("toStringTag");var a="Arguments"==r(function(){return arguments}());var o=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=o(t=Object(e),i))?n:a?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},7356:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},7357:function(e,t,n){n(7358);var r=n(7302).Object;e.exports=function e(t,n,i){return r.defineProperty(t,n,i)}},7358:function(e,t,n){var r=n(7308);r(r.S+r.F*!n(7310),"Object",{defineProperty:n(7309).f})},7359:function(e,t,n){n(7330);n(7337);e.exports=n(7338).f("iterator")},7360:function(e,t,n){var r=n(7331);var i=n(7325);e.exports=function(e){return function(t,n){var a=String(i(t));var o=r(n);var s=a.length;var u,l;if(o<0||o>=s)return e?"":void 0;u=a.charCodeAt(o);return u<55296||u>56319||o+1===s||(l=a.charCodeAt(o+1))<56320||l>57343?e?a.charAt(o):u:e?a.slice(o,o+2):l-56320+(u-55296<<10)+65536}}},7361:function(e,t,n){"use strict";var r=n(7333);var i=n(7323);var a=n(7336);var o={};n(7314)(o,n(7304)("iterator"),function(){return this});e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)});a(e,t+" Iterator")}},7362:function(e,t,n){var r=n(7309);var i=n(7315);var a=n(7319);e.exports=n(7310)?Object.defineProperties:function e(t,n){i(t);var o=a(n);var s=o.length;var u=0;var l;while(s>u)r.f(t,l=o[u++],n[l]);return t}},7363:function(e,t,n){var r=n(7311);var i=n(7364);var a=n(7365);e.exports=function(e){return function(t,n,o){var s=r(t);var u=i(s.length);var l=a(o,u);var c;if(e&&n!=n)while(u>l){c=s[l++];if(c!=c)return true}else for(;u>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},7364:function(e,t,n){var r=n(7331);var i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7365:function(e,t,n){var r=n(7331);var i=Math.max;var a=Math.min;e.exports=function(e,t){e=r(e);return e<0?i(e+t,0):a(e,t)}},7366:function(e,t,n){var r=n(7305).document;e.exports=r&&r.documentElement},7367:function(e,t,n){"use strict";var r=n(7368);var i=n(7369);var a=n(7318);var o=n(7311);e.exports=n(7347)(Array,"Array",function(e,t){this._t=o(e);this._i=0;this._k=t},function(){var e=this._t;var t=this._k;var n=this._i++;if(!e||n>=e.length){this._t=void 0;return i(1)}if("keys"==t)return i(0,n);if("values"==t)return i(0,e[n]);return i(0,[n,e[n]])},"values");a.Arguments=a.Array;r("keys");r("values");r("entries")},7368:function(e,t){e.exports=function(){}},7369:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},7370:function(e,t,n){n(7371);n(7376);n(7377);n(7378);e.exports=n(7302).Symbol},7371:function(e,t,n){"use strict";var r=n(7305);var i=n(7307);var a=n(7310);var o=n(7308);var s=n(7348);var u=n(7372).KEY;var l=n(7317);var c=n(7327);var f=n(7336);var d=n(7322);var _=n(7304);var v=n(7338);var g=n(7339);var m=n(7373);var p=n(7374);var h=n(7315);var S=n(7316);var y=n(7311);var T=n(7329);var b=n(7323);var w=n(7333);var k=n(7375);var x=n(7341);var E=n(7309);var O=n(7319);var C=x.f;var A=E.f;var I=k.f;var M=r.Symbol;var R=r.JSON;var F=R&&R.stringify;var j="prototype";var L=_("_hidden");var P=_("toPrimitive");var D={}.propertyIsEnumerable;var N=c("symbol-registry");var $=c("symbols");var U=c("op-symbols");var B=Object[j];var W="function"==typeof M;var z=r.QObject;var q=!z||!z[j]||!z[j].findChild;var H=a&&l(function(){return 7!=w(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=C(B,t);r&&delete B[t];A(e,t,n);r&&e!==B&&A(B,t,r)}:A;var G=function(e){var t=$[e]=w(M[j]);t._k=e;return t};var V=W&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M};var K=function e(t,n,r){t===B&&K(U,n,r);h(t);n=T(n,true);h(r);if(i($,n)){if(r.enumerable){i(t,L)&&t[L][n]&&(t[L][n]=false);r=w(r,{enumerable:b(0,false)})}else{i(t,L)||A(t,L,b(1,{}));t[L][n]=true}return H(t,n,r)}return A(t,n,r)};var Y=function e(t,n){h(t);var r=m(n=y(n));var i=0;var a=r.length;var o;while(a>i)K(t,o=r[i++],n[o]);return t};var Q=function e(t,n){return void 0===n?w(t):Y(w(t),n)};var J=function e(t){var n=D.call(this,t=T(t,true));if(this===B&&i($,t)&&!i(U,t))return false;return!(n||!i(this,t)||!i($,t)||i(this,L)&&this[L][t])||n};var X=function e(t,n){t=y(t);n=T(n,true);if(t===B&&i($,n)&&!i(U,n))return;var r=C(t,n);!r||!i($,n)||i(t,L)&&t[L][n]||(r.enumerable=true);return r};var Z=function e(t){var n=I(y(t));var r=[];var a=0;var o;while(n.length>a)i($,o=n[a++])||o==L||o==u||r.push(o);return r};var ee=function e(t){var n=t===B;var r=I(n?U:y(t));var a=[];var o=0;var s;while(r.length>o)!i($,s=r[o++])||n&&!i(B,s)||a.push($[s]);return a};if(!W){M=function e(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0);var n=function(e){this===B&&n.call(U,e);i(this,L)&&i(this[L],t)&&(this[L][t]=false);H(this,t,b(1,e))};a&&q&&H(B,t,{configurable:true,set:n});return G(t)};s(M[j],"toString",function e(){return this._k});x.f=X;E.f=K;n(7351).f=k.f=Z;n(7324).f=J;n(7340).f=ee;a&&!n(7332)&&s(B,"propertyIsEnumerable",J,true);v.f=function(e){return G(_(e))}}o(o.G+o.W+o.F*!W,{Symbol:M});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)_(te[ne++]);for(var re=O(_.store),ie=0;re.length>ie;)g(re[ie++]);o(o.S+o.F*!W,"Symbol",{for:function(e){return i(N,e+="")?N[e]:N[e]=M(e)},keyFor:function e(t){if(!V(t))throw TypeError(t+" is not a symbol!");for(var n in N)if(N[n]===t)return n},useSetter:function(){q=true},useSimple:function(){q=false}});o(o.S+o.F*!W,"Object",{create:Q,defineProperty:K,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});R&&o(o.S+o.F*(!W||l(function(){var e=M();return"[null]"!=F([e])||"{}"!=F({a:e})||"{}"!=F(Object(e))})),"JSON",{stringify:function e(t){var n=[t];var r=1;var i,a;while(arguments.length>r)n.push(arguments[r++]);a=i=n[1];if(!S(i)&&void 0===t||V(t))return;p(i)||(i=function(e,t){"function"==typeof a&&(t=a.call(this,e,t));if(!V(t))return t});n[1]=i;return F.apply(R,n)}});M[j][P]||n(7314)(M[j],P,M[j].valueOf);f(M,"Symbol");f(Math,"Math",true);f(r.JSON,"JSON",true)},7372:function(e,t,n){var r=n(7322)("meta");var i=n(7316);var a=n(7307);var o=n(7309).f;var s=0;var u=Object.isExtensible||function(){return true};var l=!n(7317)(function(){return u(Object.preventExtensions({}))});var c=function(e){o(e,r,{value:{i:"O"+ ++s,w:{}}})};var f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i};var d=function(e,t){if(!a(e,r)){if(!u(e))return true;if(!t)return false;c(e)}return e[r].w};var _=function(e){l&&v.NEED&&u(e)&&!a(e,r)&&c(e);return e};var v=e.exports={KEY:r,NEED:false,fastKey:f,getWeak:d,onFreeze:_}},7373:function(e,t,n){var r=n(7319);var i=n(7340);var a=n(7324);e.exports=function(e){var t=r(e);var n=i.f;if(n){var o=n(e);var s=a.f;var u=0;var l;while(o.length>u)s.call(e,l=o[u++])&&t.push(l)}return t}},7374:function(e,t,n){var r=n(7334);e.exports=Array.isArray||function e(t){return"Array"==r(t)}},7375:function(e,t,n){var r=n(7311);var i=n(7351).f;var a={}.toString;var o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var s=function(e){try{return i(e)}catch(e){return o.slice()}};e.exports.f=function e(t){return o&&"[object Window]"==a.call(t)?s(t):i(r(t))}},7376:function(e,t){},7377:function(e,t,n){n(7339)("asyncIterator")},7378:function(e,t,n){n(7339)("observable")},7384:function(e,t,n){n(7385);e.exports=n(7302).Object.assign},7385:function(e,t,n){var r=n(7308);r(r.S+r.F,"Object",{assign:n(7386)})},7386:function(e,t,n){"use strict";var r=n(7319);var i=n(7340);var a=n(7324);var o=n(7321);var s=n(7350);var u=Object.assign;e.exports=!u||n(7317)(function(){var e={};var t={};var n=Symbol();var r="abcdefghijklmnopqrst";e[n]=7;r.split("").forEach(function(e){t[e]=e});return 7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function e(t,n){var u=o(t);var l=arguments.length;var c=1;var f=i.f;var d=a.f;while(l>c){var _=s(arguments[c++]);var v=f?r(_).concat(f(_)):r(_);var g=v.length;var m=0;var p;while(g>m)d.call(_,p=v[m++])&&(u[p]=_[p])}return u}:u},7391:function(e,t,n){n(7337);n(7330);e.exports=n(7392)},7392:function(e,t,n){var r=n(7352);var i=n(7304)("iterator");var a=n(7318);e.exports=n(7302).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||a.hasOwnProperty(r(t))}},7393:function(e,t,n){n(7337);n(7330);e.exports=n(7394)},7394:function(e,t,n){var r=n(7315);var i=n(7395);e.exports=n(7302).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},7395:function(e,t,n){var r=n(7352);var i=n(7304)("iterator");var a=n(7318);e.exports=n(7302).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||a[r(e)]}},7410:function(e,t){e.exports={paths:["TS.shared.legacyGetControllerForModelOb","TS.shared.getModelObBy"],prefixes:["TS.channels.getChannelBy","TS.groups.getGroupBy","TS.members.getMemberBy","TS.bots.getBotBy","TS.ims.getImBy","TS.mpims.getMpimBy"]}},78:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});n.d(t,"URL_REGEXP",function(){return d});t["findUrlsInString"]=_;t["parseUrl"]=v;t["getTeamSubdomain"]=g;t["getHostName"]=m;t["setHostName"]=p;t["isValidSlackWebSocketUrl"]=h;t["setUrlQueryStringValue"]=S;t["removeUrlQueryStringValue"]=y;t["extractStateObjectFromUrl"]=T;t["urlQueryStringParse"]=b;t["simpleIsUrl"]=x;t["isValidSlackHostName"]=E;t["getReferrerSafeLinkAttrs"]=O;t["getTargetAttr"]=C;var r=n(1);var i=n.n(r);var a=n(3044);var o=n(168);var s=n(104);var u=n(58);var l=n(134);var c=n(21710);var f=n(21710);n.d(t,"removeQueryStringValue",function(){return f["d"]});n.d(t,"queryStringEncode",function(){return f["b"]});n.d(t,"queryStringParse",function(){return f["c"]});n.d(t,"setQueryStringValue",function(){return f["e"]});n.d(t,"getFeatureFlagURLOverrides",function(){return f["a"]});var d=/((ftp|http|https):\/\/|\bw{3}\.)[a-z0-9\-.]+[a-z]+(:[a-z0-9]*)?\/?([@a-z0-9\-._?,'/\\+&amp;%:!$#=~])*/gi;function _(e){return e.match(d)||[]}function v(e){if(!e)return{};var t=document.createElement("a");t.href=e;return{hash:t.hash,hostname:t.hostname,port:t.port?parseInt(t.port,10):void 0,pathname:t.pathname,protocol:t.protocol,search:t.search}}function g(e){var t=v(e).hostname||"";if(!t)return"";var n=t.split(".");var r=n.length>2?n.slice(n.length-2).join("."):"";if(n.length>2&&"slack.com"===r)return n[0];return""}function m(e,t){var n=v(e).hostname||"";if(!n)return n;if(n&&t){var r=n.split(".");if(r.length>2)return r.slice(r.length-2).join(".")}return n}function p(e,t){var n=v(e);return Object(r["compact"])([n.protocol,"//",t,n.pathname,n.search,n.hash]).join("")}function h(e){var t=m(e);if(a["isDev"]&&"localhost"===t)return true;return/\.slack-msgs.(com|eu)$/.test(t)}function S(e,t,n,r){var i=document.createElement("a");i.href=e;var a=i.search?i.search.slice(1):"";i.search=Object(c["e"])(a,t,n,r);return i.href}function y(e,t){var n=document.createElement("a");n.href=e;if(!n.search)return e;var r=n.search.slice(1);n.search=Object(c["d"])(r,t);return n.href}function T(e){var t=b(e).state;t=t?t.match(/(\{.*\})/g):null;t=t?t[0]:null;try{t=t?JSON.parse(t):null}catch(e){t=null}return t}function b(e){var t=document.createElement("a");t.href=e;if(!t.search)return{};var n=t.search?t.search.slice(1):"";return Object(c["c"])(n)}var w=/[a-z0-9]+\.[a-z0-9]+/i;var k=["http","https"];function x(e){if(!e)return false;if(-1!==e.indexOf(" "))return false;var t=void 0;try{t=new URL(e)}catch(n){t=document.createElement("a");t.href=e}var n=!!window.MSInputMethodContext&&!!document.documentMode;if(!n&&(!t.protocol||!t.pathname))return false;if(n&&(!t.protocol||!t.pathname&&""!==t.pathname))return false;if(t.protocol.match(/javascript(:|&colon;)/gi))return false;if(window.location.href.substr(0,window.location.href.lastIndexOf("/"))+"/"+e===t.href)return false;var i=t.protocol.slice(0,-1).toLowerCase();if(Object(r["includes"])(k,i)){if(!t.hostname)return false;if("localhost"===t.hostname)return true;return w.test(t.hostname)}return true}function E(e){return!!e.match(/^[^.]+\.(((enterprise\.)?(staging|dev\d*)|enterprise)\.)?slack\.com$/)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.redirDomain,i=void 0===n?"slack-redir.net":n,a=t.hideReferrers,l=void 0===a||a;var c={href:e,originalURL:e,proxyURL:null,rel:null,isProxied:false};if("string"!==typeof e)return null;if(e.match(/^javascript:/gi))return null;if(Object(o["a"])())return c;if(!l)return c;if(!Object(u["i"])(e))return c;var f=Object(s["f"])(e);f=f.replace(/&amp;/g,"&");f=Object(r["escape"])(f);f=f.replace(/&amp;/g,"&").replace(/(%27|&#39;)/g,"'");f=encodeURIComponent(f);var d=Object(u["d"])();var _=d.redirect_type?"&v="+d.redirect_type:"";c.href="https://"+i+"/link?url="+f+_;c.proxyURL=c.href;c.rel="noopener noreferrer";c.isProxied=true;return c}function C(e){var t=v(e);var n=/\/(messages|unreads|threads)/;if(t.hostname===document.location.hostname&&t.pathname.match(n))return"_self";if(Object(l["a"])(e))return e;return"_blank"}},87:function(e,t,n){(function(e,r){var i;(function(){var a;var o="4.17.4";var s=200;var u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function";var c="__lodash_hash_undefined__";var f=500;var d="__lodash_placeholder__";var _=1,v=2,g=4;var m=1,p=2;var h=1,S=2,y=4,T=8,b=16,w=32,k=64,x=128,E=256,O=512;var C=30,A="...";var I=800,M=16;var R=1,F=2,j=3;var L=1/0,P=9007199254740991,D=1.7976931348623157e308,N=NaN;var $=4294967295,U=$-1,B=$>>>1;var W=[["ary",x],["bind",h],["bindKey",S],["curry",T],["curryRight",b],["flip",O],["partial",w],["partialRight",k],["rearg",E]];var z="[object Arguments]",q="[object Array]",H="[object AsyncFunction]",G="[object Boolean]",V="[object Date]",K="[object DOMException]",Y="[object Error]",Q="[object Function]",J="[object GeneratorFunction]",X="[object Map]",Z="[object Number]",ee="[object Null]",te="[object Object]",ne="[object Promise]",re="[object Proxy]",ie="[object RegExp]",ae="[object Set]",oe="[object String]",se="[object Symbol]",ue="[object Undefined]",le="[object WeakMap]",ce="[object WeakSet]";var fe="[object ArrayBuffer]",de="[object DataView]",_e="[object Float32Array]",ve="[object Float64Array]",ge="[object Int8Array]",me="[object Int16Array]",pe="[object Int32Array]",he="[object Uint8Array]",Se="[object Uint8ClampedArray]",ye="[object Uint16Array]",Te="[object Uint32Array]";var be=/\b__p \+= '';/g,we=/\b(__p \+=) '' \+/g,ke=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var xe=/&(?:amp|lt|gt|quot|#39);/g,Ee=/[&<>"']/g,Oe=RegExp(xe.source),Ce=RegExp(Ee.source);var Ae=/<%-([\s\S]+?)%>/g,Ie=/<%([\s\S]+?)%>/g,Me=/<%=([\s\S]+?)%>/g;var Re=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fe=/^\w*$/,je=/^\./,Le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var Pe=/[\\^$.*+?()[\]{}|]/g,De=RegExp(Pe.source);var Ne=/^\s+|\s+$/g,$e=/^\s+/,Ue=/\s+$/;var Be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,We=/\{\n\/\* \[wrapped with (.+)\] \*/,ze=/,? & /;var qe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var He=/\\(\\)?/g;var Ge=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var Ve=/\w*$/;var Ke=/^[-+]0x[0-9a-f]+$/i;var Ye=/^0b[01]+$/i;var Qe=/^\[object .+?Constructor\]$/;var Je=/^0o[0-7]+$/i;var Xe=/^(?:0|[1-9]\d*)$/;var Ze=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var et=/($^)/;var tt=/['\n\r\u2028\u2029\\]/g;var nt="\\ud800-\\udfff",rt="\\u0300-\\u036f",it="\\ufe20-\\ufe2f",at="\\u20d0-\\u20ff",ot=rt+it+at,st="\\u2700-\\u27bf",ut="a-z\\xdf-\\xf6\\xf8-\\xff",lt="\\xac\\xb1\\xd7\\xf7",ct="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ft="\\u2000-\\u206f",dt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_t="A-Z\\xc0-\\xd6\\xd8-\\xde",vt="\\ufe0e\\ufe0f",gt=lt+ct+ft+dt;var mt="['\u2019]",pt="["+nt+"]",ht="["+gt+"]",St="["+ot+"]",yt="\\d+",Tt="["+st+"]",bt="["+ut+"]",wt="[^"+nt+gt+yt+st+ut+_t+"]",kt="\\ud83c[\\udffb-\\udfff]",xt="(?:"+St+"|"+kt+")",Et="[^"+nt+"]",Ot="(?:\\ud83c[\\udde6-\\uddff]){2}",Ct="[\\ud800-\\udbff][\\udc00-\\udfff]",At="["+_t+"]",It="\\u200d";var Mt="(?:"+bt+"|"+wt+")",Rt="(?:"+At+"|"+wt+")",Ft="(?:"+mt+"(?:d|ll|m|re|s|t|ve))?",jt="(?:"+mt+"(?:D|LL|M|RE|S|T|VE))?",Lt=xt+"?",Pt="["+vt+"]?",Dt="(?:"+It+"(?:"+[Et,Ot,Ct].join("|")+")"+Pt+Lt+")*",Nt="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",$t="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Ut=Pt+Lt+Dt,Bt="(?:"+[Tt,Ot,Ct].join("|")+")"+Ut,Wt="(?:"+[Et+St+"?",St,Ot,Ct,pt].join("|")+")";var zt=RegExp(mt,"g");var qt=RegExp(St,"g");var Ht=RegExp(kt+"(?="+kt+")|"+Wt+Ut,"g");var Gt=RegExp([At+"?"+bt+"+"+Ft+"(?="+[ht,At,"$"].join("|")+")",Rt+"+"+jt+"(?="+[ht,At+Mt,"$"].join("|")+")",At+"?"+Mt+"+"+Ft,At+"+"+jt,$t,Nt,yt,Bt].join("|"),"g");var Vt=RegExp("["+It+nt+ot+vt+"]");var Kt=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var Yt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"];var Qt=-1;var Jt={};Jt[_e]=Jt[ve]=Jt[ge]=Jt[me]=Jt[pe]=Jt[he]=Jt[Se]=Jt[ye]=Jt[Te]=true;Jt[z]=Jt[q]=Jt[fe]=Jt[G]=Jt[de]=Jt[V]=Jt[Y]=Jt[Q]=Jt[X]=Jt[Z]=Jt[te]=Jt[ie]=Jt[ae]=Jt[oe]=Jt[le]=false;var Xt={};Xt[z]=Xt[q]=Xt[fe]=Xt[de]=Xt[G]=Xt[V]=Xt[_e]=Xt[ve]=Xt[ge]=Xt[me]=Xt[pe]=Xt[X]=Xt[Z]=Xt[te]=Xt[ie]=Xt[ae]=Xt[oe]=Xt[se]=Xt[he]=Xt[Se]=Xt[ye]=Xt[Te]=true;Xt[Y]=Xt[Q]=Xt[le]=false;var Zt={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"};var en={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var nn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var rn=parseFloat,an=parseInt;var on="object"==typeof e&&e&&e.Object===Object&&e;var sn="object"==typeof self&&self&&self.Object===Object&&self;var un=on||sn||Function("return this")();var ln="object"==typeof t&&t&&!t.nodeType&&t;var cn=ln&&"object"==typeof r&&r&&!r.nodeType&&r;var fn=cn&&cn.exports===ln;var dn=fn&&on.process;var _n=function(){try{return dn&&dn.binding&&dn.binding("util")}catch(e){}}();var vn=_n&&_n.isArrayBuffer,gn=_n&&_n.isDate,mn=_n&&_n.isMap,pn=_n&&_n.isRegExp,hn=_n&&_n.isSet,Sn=_n&&_n.isTypedArray;function yn(e,t){e.set(t[0],t[1]);return e}function Tn(e,t){e.add(t);return e}function bn(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function wn(e,t,n,r){var i=-1,a=null==e?0:e.length;while(++i<a){var o=e[i];t(r,o,n(o),e)}return r}function kn(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(false===t(e[n],n,e))break;return e}function xn(e,t){var n=null==e?0:e.length;while(n--)if(false===t(e[n],n,e))break;return e}function En(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!t(e[n],n,e))return false;return true}function On(e,t){var n=-1,r=null==e?0:e.length,i=0,a=[];while(++n<r){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Cn(e,t){var n=null==e?0:e.length;return!!n&&Un(e,t,0)>-1}function An(e,t,n){var r=-1,i=null==e?0:e.length;while(++r<i)if(n(t,e[r]))return true;return false}function In(e,t){var n=-1,r=null==e?0:e.length,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}function Mn(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}function Rn(e,t,n,r){var i=-1,a=null==e?0:e.length;r&&a&&(n=e[++i]);while(++i<a)n=t(n,e[i],i,e);return n}function Fn(e,t,n,r){var i=null==e?0:e.length;r&&i&&(n=e[--i]);while(i--)n=t(n,e[i],i,e);return n}function jn(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return true;return false}var Ln=qn("length");function Pn(e){return e.split("")}function Dn(e){return e.match(qe)||[]}function Nn(e,t,n){var r;n(e,function(e,n,i){if(t(e,n,i)){r=n;return false}});return r}function $n(e,t,n,r){var i=e.length,a=n+(r?1:-1);while(r?a--:++a<i)if(t(e[a],a,e))return a;return-1}function Un(e,t,n){return t===t?gr(e,t,n):$n(e,Wn,n)}function Bn(e,t,n,r){var i=n-1,a=e.length;while(++i<a)if(r(e[i],t))return i;return-1}function Wn(e){return e!==e}function zn(e,t){var n=null==e?0:e.length;return n?Kn(e,t)/n:N}function qn(e){return function(t){return null==t?a:t[e]}}function Hn(e){return function(t){return null==e?a:e[t]}}function Gn(e,t,n,r,i){i(e,function(e,i,a){n=r?(r=false,e):t(n,e,i,a)});return n}function Vn(e,t){var n=e.length;e.sort(t);while(n--)e[n]=e[n].value;return e}function Kn(e,t){var n,r=-1,i=e.length;while(++r<i){var o=t(e[r]);o!==a&&(n=n===a?o:n+o)}return n}function Yn(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}function Qn(e,t){return In(t,function(t){return[t,e[t]]})}function Jn(e){return function(t){return e(t)}}function Xn(e,t){return In(t,function(t){return e[t]})}function Zn(e,t){return e.has(t)}function er(e,t){var n=-1,r=e.length;while(++n<r&&Un(t,e[n],0)>-1);return n}function tr(e,t){var n=e.length;while(n--&&Un(t,e[n],0)>-1);return n}function nr(e,t){var n=e.length,r=0;while(n--)e[n]===t&&++r;return r}var rr=Hn(Zt);var ir=Hn(en);function ar(e){return"\\"+nn[e]}function or(e,t){return null==e?a:e[t]}function sr(e){return Vt.test(e)}function ur(e){return Kt.test(e)}function lr(e){var t,n=[];while(!(t=e.next()).done)n.push(t.value);return n}function cr(e){var t=-1,n=Array(e.size);e.forEach(function(e,r){n[++t]=[r,e]});return n}function fr(e,t){return function(n){return e(t(n))}}function dr(e,t){var n=-1,r=e.length,i=0,a=[];while(++n<r){var o=e[n];if(o===t||o===d){e[n]=d;a[i++]=n}}return a}function _r(e){var t=-1,n=Array(e.size);e.forEach(function(e){n[++t]=e});return n}function vr(e){var t=-1,n=Array(e.size);e.forEach(function(e){n[++t]=[e,e]});return n}function gr(e,t,n){var r=n-1,i=e.length;while(++r<i)if(e[r]===t)return r;return-1}function mr(e,t,n){var r=n+1;while(r--)if(e[r]===t)return r;return r}function pr(e){return sr(e)?yr(e):Ln(e)}function hr(e){return sr(e)?Tr(e):Pn(e)}var Sr=Hn(tn);function yr(e){var t=Ht.lastIndex=0;while(Ht.test(e))++t;return t}function Tr(e){return e.match(Ht)||[]}function br(e){return e.match(Gt)||[]}var wr=function e(t){t=null==t?un:kr.defaults(un.Object(),t,kr.pick(un,Yt));var n=t.Array,r=t.Date,i=t.Error,qe=t.Function,nt=t.Math,rt=t.Object,it=t.RegExp,at=t.String,ot=t.TypeError;var st=n.prototype,ut=qe.prototype,lt=rt.prototype;var ct=t["__core-js_shared__"];var ft=ut.toString;var dt=lt.hasOwnProperty;var _t=0;var vt=function(){var e=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var gt=lt.toString;var mt=ft.call(rt);var pt=un._;var ht=it("^"+ft.call(dt).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var St=fn?t.Buffer:a,yt=t.Symbol,Tt=t.Uint8Array,bt=St?St.allocUnsafe:a,wt=fr(rt.getPrototypeOf,rt),kt=rt.create,xt=lt.propertyIsEnumerable,Et=st.splice,Ot=yt?yt.isConcatSpreadable:a,Ct=yt?yt.iterator:a,At=yt?yt.toStringTag:a;var It=function(){try{var e=Qo(rt,"defineProperty");e({},"",{});return e}catch(e){}}();var Mt=t.clearTimeout!==un.clearTimeout&&t.clearTimeout,Rt=r&&r.now!==un.Date.now&&r.now,Ft=t.setTimeout!==un.setTimeout&&t.setTimeout;var jt=nt.ceil,Lt=nt.floor,Pt=rt.getOwnPropertySymbols,Dt=St?St.isBuffer:a,Nt=t.isFinite,$t=st.join,Ut=fr(rt.keys,rt),Bt=nt.max,Wt=nt.min,Ht=r.now,Gt=t.parseInt,Vt=nt.random,Kt=st.reverse;var Zt=Qo(t,"DataView"),en=Qo(t,"Map"),tn=Qo(t,"Promise"),nn=Qo(t,"Set"),on=Qo(t,"WeakMap"),sn=Qo(rt,"create");var ln=on&&new on;var cn={};var dn=js(Zt),_n=js(en),Ln=js(tn),Pn=js(nn),Hn=js(on);var gr=yt?yt.prototype:a,yr=gr?gr.valueOf:a,Tr=gr?gr.toString:a;function wr(e){if(Oc(e)&&!cc(e)&&!(e instanceof Cr)){if(e instanceof Or)return e;if(dt.call(e,"__wrapped__"))return Ps(e)}return new Or(e)}var xr=function(){function e(){}return function(t){if(!Ec(t))return{};if(kt)return kt(t);e.prototype=t;var n=new e;e.prototype=a;return n}}();function Er(){}function Or(e,t){this.__wrapped__=e;this.__actions__=[];this.__chain__=!!t;this.__index__=0;this.__values__=a}wr.templateSettings={escape:Ae,evaluate:Ie,interpolate:Me,variable:"",imports:{_:wr}};wr.prototype=Er.prototype;wr.prototype.constructor=wr;Or.prototype=xr(Er.prototype);Or.prototype.constructor=Or;function Cr(e){this.__wrapped__=e;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=$;this.__views__=[]}function Ar(){var e=new Cr(this.__wrapped__);e.__actions__=oo(this.__actions__);e.__dir__=this.__dir__;e.__filtered__=this.__filtered__;e.__iteratees__=oo(this.__iteratees__);e.__takeCount__=this.__takeCount__;e.__views__=oo(this.__views__);return e}function Ir(){if(this.__filtered__){var e=new Cr(this);e.__dir__=-1;e.__filtered__=true}else{e=this.clone();e.__dir__*=-1}return e}function Mr(){var e=this.__wrapped__.value(),t=this.__dir__,n=cc(e),r=t<0,i=n?e.length:0,a=ts(0,i,this.__views__),o=a.start,s=a.end,u=s-o,l=r?s:o-1,c=this.__iteratees__,f=c.length,d=0,_=Wt(u,this.__takeCount__);if(!n||!r&&i==u&&_==u)return $a(e,this.__actions__);var v=[];e:while(u--&&d<_){l+=t;var g=-1,m=e[l];while(++g<f){var p=c[g],h=p.iteratee,S=p.type,y=h(m);if(S==F)m=y;else if(!y){if(S==R)continue e;break e}}v[d++]=m}return v}Cr.prototype=xr(Er.prototype);Cr.prototype.constructor=Cr;function Rr(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Fr(){this.__data__=sn?sn(null):{};this.size=0}function jr(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t}function Lr(e){var t=this.__data__;if(sn){var n=t[e];return n===c?a:n}return dt.call(t,e)?t[e]:a}function Pr(e){var t=this.__data__;return sn?t[e]!==a:dt.call(t,e)}function Dr(e,t){var n=this.__data__;this.size+=this.has(e)?0:1;n[e]=sn&&t===a?c:t;return this}Rr.prototype.clear=Fr;Rr.prototype["delete"]=jr;Rr.prototype.get=Lr;Rr.prototype.has=Pr;Rr.prototype.set=Dr;function Nr(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function $r(){this.__data__=[];this.size=0}function Ur(e){var t=this.__data__,n=fi(t,e);if(n<0)return false;var r=t.length-1;n==r?t.pop():Et.call(t,n,1);--this.size;return true}function Br(e){var t=this.__data__,n=fi(t,e);return n<0?a:t[n][1]}function Wr(e){return fi(this.__data__,e)>-1}function zr(e,t){var n=this.__data__,r=fi(n,e);if(r<0){++this.size;n.push([e,t])}else n[r][1]=t;return this}Nr.prototype.clear=$r;Nr.prototype["delete"]=Ur;Nr.prototype.get=Br;Nr.prototype.has=Wr;Nr.prototype.set=zr;function qr(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Hr(){this.size=0;this.__data__={hash:new Rr,map:new(en||Nr),string:new Rr}}function Gr(e){var t=Ko(this,e)["delete"](e);this.size-=t?1:0;return t}function Vr(e){return Ko(this,e).get(e)}function Kr(e){return Ko(this,e).has(e)}function Yr(e,t){var n=Ko(this,e),r=n.size;n.set(e,t);this.size+=n.size==r?0:1;return this}qr.prototype.clear=Hr;qr.prototype["delete"]=Gr;qr.prototype.get=Vr;qr.prototype.has=Kr;qr.prototype.set=Yr;function Qr(e){var t=-1,n=null==e?0:e.length;this.__data__=new qr;while(++t<n)this.add(e[t])}function Jr(e){this.__data__.set(e,c);return this}function Xr(e){return this.__data__.has(e)}Qr.prototype.add=Qr.prototype.push=Jr;Qr.prototype.has=Xr;function Zr(e){var t=this.__data__=new Nr(e);this.size=t.size}function ei(){this.__data__=new Nr;this.size=0}function ti(e){var t=this.__data__,n=t["delete"](e);this.size=t.size;return n}function ni(e){return this.__data__.get(e)}function ri(e){return this.__data__.has(e)}function ii(e,t){var n=this.__data__;if(n instanceof Nr){var r=n.__data__;if(!en||r.length<s-1){r.push([e,t]);this.size=++n.size;return this}n=this.__data__=new qr(r)}n.set(e,t);this.size=n.size;return this}Zr.prototype.clear=ei;Zr.prototype["delete"]=ti;Zr.prototype.get=ni;Zr.prototype.has=ri;Zr.prototype.set=ii;function ai(e,t){var n=cc(e),r=!n&&lc(e),i=!n&&!r&&gc(e),a=!n&&!r&&!i&&Wc(e),o=n||r||i||a,s=o?Yn(e.length,at):[],u=s.length;for(var l in e)!t&&!dt.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ls(l,u))||s.push(l);return s}function oi(e){var t=e.length;return t?e[ha(0,t-1)]:a}function si(e,t){return Ms(oo(e),pi(t,0,e.length))}function ui(e){return Ms(oo(e))}function li(e,t,n){(n===a||oc(e[t],n))&&(n!==a||t in e)||gi(e,t,n)}function ci(e,t,n){var r=e[t];dt.call(e,t)&&oc(r,n)&&(n!==a||t in e)||gi(e,t,n)}function fi(e,t){var n=e.length;while(n--)if(oc(e[n][0],t))return n;return-1}function di(e,t,n,r){wi(e,function(e,i,a){t(r,e,n(e),a)});return r}function _i(e,t){return e&&so(t,xf(t),e)}function vi(e,t){return e&&so(t,Ef(t),e)}function gi(e,t,n){"__proto__"==t&&It?It(e,t,{configurable:true,enumerable:true,value:n,writable:true}):e[t]=n}function mi(e,t){var r=-1,i=t.length,o=n(i),s=null==e;while(++r<i)o[r]=s?a:Sf(e,t[r]);return o}function pi(e,t,n){if(e===e){n!==a&&(e=e<=n?e:n);t!==a&&(e=e>=t?e:t)}return e}function hi(e,t,n,r,i,o){var s,u=t&_,l=t&v,c=t&g;n&&(s=i?n(e,r,i,o):n(e));if(s!==a)return s;if(!Ec(e))return e;var f=cc(e);if(f){s=is(e);if(!u)return oo(e,s)}else{var d=es(e),m=d==Q||d==J;if(gc(e))return Ka(e,u);if(d==te||d==z||m&&!i){s=l||m?{}:as(e);if(!u)return l?lo(e,vi(s,e)):uo(e,_i(s,e))}else{if(!Xt[d])return i?e:{};s=os(e,d,hi,u)}}o||(o=new Zr);var p=o.get(e);if(p)return p;o.set(e,s);var h=c?l?zo:Wo:l?Ef:xf;var S=f?a:h(e);kn(S||e,function(r,i){if(S){i=r;r=e[i]}ci(s,i,hi(r,t,n,i,e,o))});return s}function Si(e){var t=xf(e);return function(n){return yi(n,e,t)}}function yi(e,t,n){var r=n.length;if(null==e)return!r;e=rt(e);while(r--){var i=n[r],o=t[i],s=e[i];if(s===a&&!(i in e)||!o(s))return false}return true}function Ti(e,t,n){if("function"!=typeof e)throw new ot(l);return Os(function(){e.apply(a,n)},t)}function bi(e,t,n,r){var i=-1,a=Cn,o=true,u=e.length,l=[],c=t.length;if(!u)return l;n&&(t=In(t,Jn(n)));if(r){a=An;o=false}else if(t.length>=s){a=Zn;o=false;t=new Qr(t)}e:while(++i<u){var f=e[i],d=null==n?f:n(f);f=r||0!==f?f:0;if(o&&d===d){var _=c;while(_--)if(t[_]===d)continue e;l.push(f)}else a(t,d,r)||l.push(f)}return l}var wi=_o(Ri);var ki=_o(Fi,true);function xi(e,t){var n=true;wi(e,function(e,r,i){n=!!t(e,r,i);return n});return n}function Ei(e,t,n){var r=-1,i=e.length;while(++r<i){var o=e[r],s=t(o);if(null!=s&&(u===a?s===s&&!Bc(s):n(s,u)))var u=s,l=o}return l}function Oi(e,t,n,r){var i=e.length;n=Qc(n);n<0&&(n=-n>i?0:i+n);r=r===a||r>i?i:Qc(r);r<0&&(r+=i);r=n>r?0:Jc(r);while(n<r)e[n++]=t;return e}function Ci(e,t){var n=[];wi(e,function(e,r,i){t(e,r,i)&&n.push(e)});return n}function Ai(e,t,n,r,i){var a=-1,o=e.length;n||(n=us);i||(i=[]);while(++a<o){var s=e[a];t>0&&n(s)?t>1?Ai(s,t-1,n,r,i):Mn(i,s):r||(i[i.length]=s)}return i}var Ii=vo();var Mi=vo(true);function Ri(e,t){return e&&Ii(e,t,xf)}function Fi(e,t){return e&&Mi(e,t,xf)}function ji(e,t){return On(t,function(t){return wc(e[t])})}function Li(e,t){t=qa(t,e);var n=0,r=t.length;while(null!=e&&n<r)e=e[Fs(t[n++])];return n&&n==r?e:a}function Pi(e,t,n){var r=t(e);return cc(e)?r:Mn(r,n(e))}function Di(e){if(null==e)return e===a?ue:ee;return At&&At in rt(e)?Jo(e):bs(e)}function Ni(e,t){return e>t}function $i(e,t){return null!=e&&dt.call(e,t)}function Ui(e,t){return null!=e&&t in rt(e)}function Bi(e,t,n){return e>=Wt(t,n)&&e<Bt(t,n)}function Wi(e,t,r){var i=r?An:Cn,o=e[0].length,s=e.length,u=s,l=n(s),c=Infinity,f=[];while(u--){var d=e[u];u&&t&&(d=In(d,Jn(t)));c=Wt(d.length,c);l[u]=!r&&(t||o>=120&&d.length>=120)?new Qr(u&&d):a}d=e[0];var _=-1,v=l[0];e:while(++_<o&&f.length<c){var g=d[_],m=t?t(g):g;g=r||0!==g?g:0;if(!(v?Zn(v,m):i(f,m,r))){u=s;while(--u){var p=l[u];if(!(p?Zn(p,m):i(e[u],m,r)))continue e}v&&v.push(m);f.push(g)}}return f}function zi(e,t,n,r){Ri(e,function(e,i,a){t(r,n(e),i,a)});return r}function qi(e,t,n){t=qa(t,e);e=ks(e,t);var r=null==e?e:e[Fs(su(t))];return null==r?a:bn(r,e,n)}function Hi(e){return Oc(e)&&Di(e)==z}function Gi(e){return Oc(e)&&Di(e)==fe}function Vi(e){return Oc(e)&&Di(e)==V}function Ki(e,t,n,r,i){if(e===t)return true;if(null==e||null==t||!Oc(e)&&!Oc(t))return e!==e&&t!==t;return Yi(e,t,n,r,Ki,i)}function Yi(e,t,n,r,i,a){var o=cc(e),s=cc(t),u=o?q:es(e),l=s?q:es(t);u=u==z?te:u;l=l==z?te:l;var c=u==te,f=l==te,d=u==l;if(d&&gc(e)){if(!gc(t))return false;o=true;c=false}if(d&&!c){a||(a=new Zr);return o||Wc(e)?No(e,t,n,r,i,a):$o(e,t,u,n,r,i,a)}if(!(n&m)){var _=c&&dt.call(e,"__wrapped__"),v=f&&dt.call(t,"__wrapped__");if(_||v){var g=_?e.value():e,p=v?t.value():t;a||(a=new Zr);return i(g,p,n,r,a)}}if(!d)return false;a||(a=new Zr);return Uo(e,t,n,r,i,a)}function Qi(e){return Oc(e)&&es(e)==X}function Ji(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;e=rt(e);while(i--){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return false}while(++i<o){u=n[i];var l=u[0],c=e[l],f=u[1];if(s&&u[2]){if(c===a&&!(l in e))return false}else{var d=new Zr;if(r)var _=r(c,f,l,e,t,d);if(!(_===a?Ki(f,c,m|p,r,d):_))return false}}return true}function Xi(e){if(!Ec(e)||vs(e))return false;var t=wc(e)?ht:Qe;return t.test(js(e))}function Zi(e){return Oc(e)&&Di(e)==ie}function ea(e){return Oc(e)&&es(e)==ae}function ta(e){return Oc(e)&&xc(e.length)&&!!Jt[Di(e)]}function na(e){if("function"==typeof e)return e;if(null==e)return Fd;if("object"==typeof e)return cc(e)?ua(e[0],e[1]):sa(e);return Gd(e)}function ra(e){if(!ms(e))return Ut(e);var t=[];for(var n in rt(e))dt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ia(e){if(!Ec(e))return Ts(e);var t=ms(e),n=[];for(var r in e)"constructor"==r&&(t||!dt.call(e,r))||n.push(r);return n}function aa(e,t){return e<t}function oa(e,t){var r=-1,i=dc(e)?n(e.length):[];wi(e,function(e,n,a){i[++r]=t(e,n,a)});return i}function sa(e){var t=Yo(e);if(1==t.length&&t[0][2])return hs(t[0][0],t[0][1]);return function(n){return n===e||Ji(n,e,t)}}function ua(e,t){if(fs(e)&&ps(t))return hs(Fs(e),t);return function(n){var r=Sf(n,e);return r===a&&r===t?Tf(n,e):Ki(t,r,m|p)}}function la(e,t,n,r,i){if(e===t)return;Ii(t,function(o,s){if(Ec(o)){i||(i=new Zr);ca(e,t,s,n,la,r,i)}else{var u=r?r(e[s],o,s+"",e,t,i):a;u===a&&(u=o);li(e,s,u)}},Ef)}function ca(e,t,n,r,i,o,s){var u=e[n],l=t[n],c=s.get(l);if(c){li(e,n,c);return}var f=o?o(u,l,n+"",e,t,s):a;var d=f===a;if(d){var _=cc(l),v=!_&&gc(l),g=!_&&!v&&Wc(l);f=l;if(_||v||g)if(cc(u))f=u;else if(_c(u))f=oo(u);else if(v){d=false;f=Ka(l,true)}else if(g){d=false;f=to(l,true)}else f=[];else if(Pc(l)||lc(l)){f=u;lc(u)?f=Zc(u):(!Ec(u)||r&&wc(u))&&(f=as(l))}else d=false}if(d){s.set(l,f);i(f,l,r,o,s);s["delete"](l)}li(e,n,f)}function fa(e,t){var n=e.length;if(!n)return;t+=t<0?n:0;return ls(t,n)?e[t]:a}function da(e,t,n){var r=-1;t=In(t.length?t:[Fd],Jn(Vo()));var i=oa(e,function(e,n,i){var a=In(t,function(t){return t(e)});return{criteria:a,index:++r,value:e}});return Vn(i,function(e,t){return ro(e,t,n)})}function _a(e,t){return va(e,t,function(t,n){return Tf(e,n)})}function va(e,t,n){var r=-1,i=t.length,a={};while(++r<i){var o=t[r],s=Li(e,o);n(s,o)&&ka(a,qa(o,e),s)}return a}function ga(e){return function(t){return Li(t,e)}}function ma(e,t,n,r){var i=r?Bn:Un,a=-1,o=t.length,s=e;e===t&&(t=oo(t));n&&(s=In(e,Jn(n)));while(++a<o){var u=0,l=t[a],c=n?n(l):l;while((u=i(s,c,u,r))>-1){s!==e&&Et.call(s,u,1);Et.call(e,u,1)}}return e}function pa(e,t){var n=e?t.length:0,r=n-1;while(n--){var i=t[n];if(n==r||i!==a){var a=i;ls(i)?Et.call(e,i,1):Pa(e,i)}}return e}function ha(e,t){return e+Lt(Vt()*(t-e+1))}function Sa(e,t,r,i){var a=-1,o=Bt(jt((t-e)/(r||1)),0),s=n(o);while(o--){s[i?o:++a]=e;e+=r}return s}function ya(e,t){var n="";if(!e||t<1||t>P)return n;do{t%2&&(n+=e);t=Lt(t/2);t&&(e+=e)}while(t);return n}function Ta(e,t){return Cs(ws(e,t,Fd),e+"")}function ba(e){return oi(qf(e))}function wa(e,t){var n=qf(e);return Ms(n,pi(t,0,n.length))}function ka(e,t,n,r){if(!Ec(e))return e;t=qa(t,e);var i=-1,o=t.length,s=o-1,u=e;while(null!=u&&++i<o){var l=Fs(t[i]),c=n;if(i!=s){var f=u[l];c=r?r(f,l,u):a;c===a&&(c=Ec(f)?f:ls(t[i+1])?[]:{})}ci(u,l,c);u=u[l]}return e}var xa=ln?function(e,t){ln.set(e,t);return e}:Fd;var Ea=It?function(e,t){return It(e,"toString",{configurable:true,enumerable:false,value:Ad(t),writable:true})}:Fd;function Oa(e){return Ms(qf(e))}function Ca(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t);r=r>a?a:r;r<0&&(r+=a);a=t>r?0:r-t>>>0;t>>>=0;var o=n(a);while(++i<a)o[i]=e[i+t];return o}function Aa(e,t){var n;wi(e,function(e,r,i){n=t(e,r,i);return!n});return!!n}function Ia(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=B){while(r<i){var a=r+i>>>1,o=e[a];null!==o&&!Bc(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return Ma(e,t,Fd,n)}function Ma(e,t,n,r){t=n(t);var i=0,o=null==e?0:e.length,s=t!==t,u=null===t,l=Bc(t),c=t===a;while(i<o){var f=Lt((i+o)/2),d=n(e[f]),_=d!==a,v=null===d,g=d===d,m=Bc(d);if(s)var p=r||g;else p=c?g&&(r||_):u?g&&_&&(r||!v):l?g&&_&&!v&&(r||!m):!v&&!m&&(r?d<=t:d<t);p?i=f+1:o=f}return Wt(o,U)}function Ra(e,t){var n=-1,r=e.length,i=0,a=[];while(++n<r){var o=e[n],s=t?t(o):o;if(!n||!oc(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function Fa(e){if("number"==typeof e)return e;if(Bc(e))return N;return+e}function ja(e){if("string"==typeof e)return e;if(cc(e))return In(e,ja)+"";if(Bc(e))return Tr?Tr.call(e):"";var t=e+"";return"0"==t&&1/e==-L?"-0":t}function La(e,t,n){var r=-1,i=Cn,a=e.length,o=true,u=[],l=u;if(n){o=false;i=An}else if(a>=s){var c=t?null:Ro(e);if(c)return _r(c);o=false;i=Zn;l=new Qr}else l=t?[]:u;e:while(++r<a){var f=e[r],d=t?t(f):f;f=n||0!==f?f:0;if(o&&d===d){var _=l.length;while(_--)if(l[_]===d)continue e;t&&l.push(d);u.push(f)}else if(!i(l,d,n)){l!==u&&l.push(d);u.push(f)}}return u}function Pa(e,t){t=qa(t,e);e=ks(e,t);return null==e||delete e[Fs(su(t))]}function Da(e,t,n,r){return ka(e,t,n(Li(e,t)),r)}function Na(e,t,n,r){var i=e.length,a=r?i:-1;while((r?a--:++a<i)&&t(e[a],a,e));return n?Ca(e,r?0:a,r?a+1:i):Ca(e,r?a+1:0,r?i:a)}function $a(e,t){var n=e;n instanceof Cr&&(n=n.value());return Rn(t,function(e,t){return t.func.apply(t.thisArg,Mn([e],t.args))},n)}function Ua(e,t,r){var i=e.length;if(i<2)return i?La(e[0]):[];var a=-1,o=n(i);while(++a<i){var s=e[a],u=-1;while(++u<i)u!=a&&(o[a]=bi(o[a]||s,e[u],t,r))}return La(Ai(o,1),t,r)}function Ba(e,t,n){var r=-1,i=e.length,o=t.length,s={};while(++r<i){var u=r<o?t[r]:a;n(s,e[r],u)}return s}function Wa(e){return _c(e)?e:[]}function za(e){return"function"==typeof e?e:Fd}function qa(e,t){if(cc(e))return e;return fs(e,t)?[e]:Rs(tf(e))}var Ha=Ta;function Ga(e,t,n){var r=e.length;n=n===a?r:n;return!t&&n>=r?e:Ca(e,t,n)}var Va=Mt||function(e){return un.clearTimeout(e)};function Ka(e,t){if(t)return e.slice();var n=e.length,r=bt?bt(n):new e.constructor(n);e.copy(r);return r}function Ya(e){var t=new e.constructor(e.byteLength);new Tt(t).set(new Tt(e));return t}function Qa(e,t){var n=t?Ya(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Ja(e,t,n){var r=t?n(cr(e),_):cr(e);return Rn(r,yn,new e.constructor)}function Xa(e){var t=new e.constructor(e.source,Ve.exec(e));t.lastIndex=e.lastIndex;return t}function Za(e,t,n){var r=t?n(_r(e),_):_r(e);return Rn(r,Tn,new e.constructor)}function eo(e){return yr?rt(yr.call(e)):{}}function to(e,t){var n=t?Ya(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function no(e,t){if(e!==t){var n=e!==a,r=null===e,i=e===e,o=Bc(e);var s=t!==a,u=null===t,l=t===t,c=Bc(t);if(!u&&!c&&!o&&e>t||o&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||u&&n&&i||!s&&i||!l)return-1}return 0}function ro(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;while(++r<o){var u=no(i[r],a[r]);if(u){if(r>=s)return u;var l=n[r];return u*("desc"==l?-1:1)}}return e.index-t.index}function io(e,t,r,i){var a=-1,o=e.length,s=r.length,u=-1,l=t.length,c=Bt(o-s,0),f=n(l+c),d=!i;while(++u<l)f[u]=t[u];while(++a<s)(d||a<o)&&(f[r[a]]=e[a]);while(c--)f[u++]=e[a++];return f}function ao(e,t,r,i){var a=-1,o=e.length,s=-1,u=r.length,l=-1,c=t.length,f=Bt(o-u,0),d=n(f+c),_=!i;while(++a<f)d[a]=e[a];var v=a;while(++l<c)d[v+l]=t[l];while(++s<u)(_||a<o)&&(d[v+r[s]]=e[a++]);return d}function oo(e,t){var r=-1,i=e.length;t||(t=n(i));while(++r<i)t[r]=e[r];return t}function so(e,t,n,r){var i=!n;n||(n={});var o=-1,s=t.length;while(++o<s){var u=t[o];var l=r?r(n[u],e[u],u,n,e):a;l===a&&(l=e[u]);i?gi(n,u,l):ci(n,u,l)}return n}function uo(e,t){return so(e,Xo(e),t)}function lo(e,t){return so(e,Zo(e),t)}function co(e,t){return function(n,r){var i=cc(n)?wn:di,a=t?t():{};return i(n,e,Vo(r,2),a)}}function fo(e){return Ta(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:a,s=i>2?n[2]:a;o=e.length>3&&"function"==typeof o?(i--,o):a;if(s&&cs(n[0],n[1],s)){o=i<3?a:o;i=1}t=rt(t);while(++r<i){var u=n[r];u&&e(t,u,r,o)}return t})}function _o(e,t){return function(n,r){if(null==n)return n;if(!dc(n))return e(n,r);var i=n.length,a=t?i:-1,o=rt(n);while(t?a--:++a<i)if(false===r(o[a],a,o))break;return n}}function vo(e){return function(t,n,r){var i=-1,a=rt(t),o=r(t),s=o.length;while(s--){var u=o[e?s:++i];if(false===n(a[u],u,a))break}return t}}function go(e,t,n){var r=t&h,i=ho(e);function a(){var t=this&&this!==un&&this instanceof a?i:e;return t.apply(r?n:this,arguments)}return a}function mo(e){return function(t){t=tf(t);var n=sr(t)?hr(t):a;var r=n?n[0]:t.charAt(0);var i=n?Ga(n,1).join(""):t.slice(1);return r[e]()+i}}function po(e){return function(t){return Rn(kd(Jf(t).replace(zt,"")),e,"")}}function ho(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=xr(e.prototype),r=e.apply(n,t);return Ec(r)?r:n}}function So(e,t,r){var i=ho(e);function o(){var s=arguments.length,u=n(s),l=s,c=Go(o);while(l--)u[l]=arguments[l];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:dr(u,c);s-=f.length;if(s<r)return Io(e,t,bo,o.placeholder,a,u,f,a,a,r-s);var d=this&&this!==un&&this instanceof o?i:e;return bn(d,this,u)}return o}function yo(e){return function(t,n,r){var i=rt(t);if(!dc(t)){var o=Vo(n,3);t=xf(t);n=function(e){return o(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:a}}function To(e){return Bo(function(t){var n=t.length,r=n,i=Or.prototype.thru;e&&t.reverse();while(r--){var o=t[r];if("function"!=typeof o)throw new ot(l);if(i&&!s&&"wrapper"==Ho(o))var s=new Or([],true)}r=s?r:n;while(++r<n){o=t[r];var u=Ho(o),c="wrapper"==u?qo(o):a;s=c&&_s(c[0])&&c[1]==(x|T|w|E)&&!c[4].length&&1==c[9]?s[Ho(c[0])].apply(s,c[3]):1==o.length&&_s(o)?s[u]():s.thru(o)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&cc(r))return s.plant(r).value();var i=0,a=n?t[i].apply(this,e):r;while(++i<n)a=t[i].call(this,a);return a}})}function bo(e,t,r,i,o,s,u,l,c,f){var d=t&x,_=t&h,v=t&S,g=t&(T|b),m=t&O,p=v?a:ho(e);function y(){var a=arguments.length,h=n(a),S=a;while(S--)h[S]=arguments[S];if(g)var T=Go(y),b=nr(h,T);i&&(h=io(h,i,o,g));s&&(h=ao(h,s,u,g));a-=b;if(g&&a<f){var w=dr(h,T);return Io(e,t,bo,y.placeholder,r,h,w,l,c,f-a)}var k=_?r:this,x=v?k[e]:e;a=h.length;l?h=xs(h,l):m&&a>1&&h.reverse();d&&c<a&&(h.length=c);this&&this!==un&&this instanceof y&&(x=p||ho(x));return x.apply(k,h)}return y}function wo(e,t){return function(n,r){return zi(n,e,t(r),{})}}function ko(e,t){return function(n,r){var i;if(n===a&&r===a)return t;n!==a&&(i=n);if(r!==a){if(i===a)return r;if("string"==typeof n||"string"==typeof r){n=ja(n);r=ja(r)}else{n=Fa(n);r=Fa(r)}i=e(n,r)}return i}}function xo(e){return Bo(function(t){t=In(t,Jn(Vo()));return Ta(function(n){var r=this;return e(t,function(e){return bn(e,r,n)})})})}function Eo(e,t){t=t===a?" ":ja(t);var n=t.length;if(n<2)return n?ya(t,e):t;var r=ya(t,jt(e/pr(t)));return sr(t)?Ga(hr(r),0,e).join(""):r.slice(0,e)}function Oo(e,t,r,i){var a=t&h,o=ho(e);function s(){var t=-1,u=arguments.length,l=-1,c=i.length,f=n(c+u),d=this&&this!==un&&this instanceof s?o:e;while(++l<c)f[l]=i[l];while(u--)f[l++]=arguments[++t];return bn(d,a?r:this,f)}return s}function Co(e){return function(t,n,r){r&&"number"!=typeof r&&cs(t,n,r)&&(n=r=a);t=Yc(t);if(n===a){n=t;t=0}else n=Yc(n);r=r===a?t<n?1:-1:Yc(r);return Sa(t,n,r,e)}}function Ao(e){return function(t,n){if(!("string"==typeof t&&"string"==typeof n)){t=Xc(t);n=Xc(n)}return e(t,n)}}function Io(e,t,n,r,i,o,s,u,l,c){var f=t&T,d=f?s:a,_=f?a:s,v=f?o:a,g=f?a:o;t|=f?w:k;t&=~(f?k:w);t&y||(t&=~(h|S));var m=[e,t,i,v,d,g,_,u,l,c];var p=n.apply(a,m);_s(e)&&Es(p,m);p.placeholder=r;return As(p,e,t)}function Mo(e){var t=nt[e];return function(e,n){e=Xc(e);n=null==n?0:Wt(Qc(n),292);if(n){var r=(tf(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));r=(tf(i)+"e").split("e");return+(r[0]+"e"+(+r[1]-n))}return t(e)}}var Ro=nn&&1/_r(new nn([,-0]))[1]==L?function(e){return new nn(e)}:Bd;function Fo(e){return function(t){var n=es(t);if(n==X)return cr(t);if(n==ae)return vr(t);return Qn(t,e(t))}}function jo(e,t,n,r,i,o,s,u){var c=t&S;if(!c&&"function"!=typeof e)throw new ot(l);var f=r?r.length:0;if(!f){t&=~(w|k);r=i=a}s=s===a?s:Bt(Qc(s),0);u=u===a?u:Qc(u);f-=i?i.length:0;if(t&k){var d=r,_=i;r=i=a}var v=c?a:qo(e);var g=[e,t,n,r,i,d,_,o,s,u];v&&ys(g,v);e=g[0];t=g[1];n=g[2];r=g[3];i=g[4];u=g[9]=g[9]===a?c?0:e.length:Bt(g[9]-f,0);!u&&t&(T|b)&&(t&=~(T|b));if(t&&t!=h)m=t==T||t==b?So(e,t,u):t!=w&&t!=(h|w)||i.length?bo.apply(a,g):Oo(e,t,n,r);else var m=go(e,t,n);var p=v?xa:Es;return As(p(m,g),e,t)}function Lo(e,t,n,r){if(e===a||oc(e,lt[n])&&!dt.call(r,n))return t;return e}function Po(e,t,n,r,i,o){if(Ec(e)&&Ec(t)){o.set(t,e);la(e,t,a,Po,o);o["delete"](t)}return e}function Do(e){return Pc(e)?a:e}function No(e,t,n,r,i,o){var s=n&m,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return false;var c=o.get(e);if(c&&o.get(t))return c==t;var f=-1,d=true,_=n&p?new Qr:a;o.set(e,t);o.set(t,e);while(++f<u){var v=e[f],g=t[f];if(r)var h=s?r(g,v,f,t,e,o):r(v,g,f,e,t,o);if(h!==a){if(h)continue;d=false;break}if(_){if(!jn(t,function(e,t){if(!Zn(_,t)&&(v===e||i(v,e,n,r,o)))return _.push(t)})){d=false;break}}else if(!(v===g||i(v,g,n,r,o))){d=false;break}}o["delete"](e);o["delete"](t);return d}function $o(e,t,n,r,i,a,o){switch(n){case de:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return false;e=e.buffer;t=t.buffer;case fe:if(e.byteLength!=t.byteLength||!a(new Tt(e),new Tt(t)))return false;return true;case G:case V:case Z:return oc(+e,+t);case Y:return e.name==t.name&&e.message==t.message;case ie:case oe:return e==t+"";case X:var s=cr;case ae:var u=r&m;s||(s=_r);if(e.size!=t.size&&!u)return false;var l=o.get(e);if(l)return l==t;r|=p;o.set(e,t);var c=No(s(e),s(t),r,i,a,o);o["delete"](e);return c;case se:if(yr)return yr.call(e)==yr.call(t)}return false}function Uo(e,t,n,r,i,o){var s=n&m,u=Wo(e),l=u.length,c=Wo(t),f=c.length;if(l!=f&&!s)return false;var d=l;while(d--){var _=u[d];if(!(s?_ in t:dt.call(t,_)))return false}var v=o.get(e);if(v&&o.get(t))return v==t;var g=true;o.set(e,t);o.set(t,e);var p=s;while(++d<l){_=u[d];var h=e[_],S=t[_];if(r)var y=s?r(S,h,_,t,e,o):r(h,S,_,e,t,o);if(!(y===a?h===S||i(h,S,n,r,o):y)){g=false;break}p||(p="constructor"==_)}if(g&&!p){var T=e.constructor,b=t.constructor;T!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof T&&T instanceof T&&"function"==typeof b&&b instanceof b)&&(g=false)}o["delete"](e);o["delete"](t);return g}function Bo(e){return Cs(ws(e,a,Qs),e+"")}function Wo(e){return Pi(e,xf,Xo)}function zo(e){return Pi(e,Ef,Zo)}var qo=ln?function(e){return ln.get(e)}:Bd;function Ho(e){var t=e.name+"",n=cn[t],r=dt.call(cn,t)?n.length:0;while(r--){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function Go(e){var t=dt.call(wr,"placeholder")?wr:e;return t.placeholder}function Vo(){var e=wr.iteratee||jd;e=e===jd?na:e;return arguments.length?e(arguments[0],arguments[1]):e}function Ko(e,t){var n=e.__data__;return ds(t)?n["string"==typeof t?"string":"hash"]:n.map}function Yo(e){var t=xf(e),n=t.length;while(n--){var r=t[n],i=e[r];t[n]=[r,i,ps(i)]}return t}function Qo(e,t){var n=or(e,t);return Xi(n)?n:a}function Jo(e){var t=dt.call(e,At),n=e[At];try{e[At]=a;var r=true}catch(e){}var i=gt.call(e);r&&(t?e[At]=n:delete e[At]);return i}var Xo=Pt?function(e){if(null==e)return[];e=rt(e);return On(Pt(e),function(t){return xt.call(e,t)})}:Qd;var Zo=Pt?function(e){var t=[];while(e){Mn(t,Xo(e));e=wt(e)}return t}:Qd;var es=Di;(Zt&&es(new Zt(new ArrayBuffer(1)))!=de||en&&es(new en)!=X||tn&&es(tn.resolve())!=ne||nn&&es(new nn)!=ae||on&&es(new on)!=le)&&(es=function(e){var t=Di(e),n=t==te?e.constructor:a,r=n?js(n):"";if(r)switch(r){case dn:return de;case _n:return X;case Ln:return ne;case Pn:return ae;case Hn:return le}return t});function ts(e,t,n){var r=-1,i=n.length;while(++r<i){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Wt(t,e+o);break;case"takeRight":e=Bt(e,t-o);break}}return{start:e,end:t}}function ns(e){var t=e.match(We);return t?t[1].split(ze):[]}function rs(e,t,n){t=qa(t,e);var r=-1,i=t.length,a=false;while(++r<i){var o=Fs(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}if(a||++r!=i)return a;i=null==e?0:e.length;return!!i&&xc(i)&&ls(o,i)&&(cc(e)||lc(e))}function is(e){var t=e.length,n=e.constructor(t);if(t&&"string"==typeof e[0]&&dt.call(e,"index")){n.index=e.index;n.input=e.input}return n}function as(e){return"function"!=typeof e.constructor||ms(e)?{}:xr(wt(e))}function os(e,t,n,r){var i=e.constructor;switch(t){case fe:return Ya(e);case G:case V:return new i(+e);case de:return Qa(e,r);case _e:case ve:case ge:case me:case pe:case he:case Se:case ye:case Te:return to(e,r);case X:return Ja(e,r,n);case Z:case oe:return new i(e);case ie:return Xa(e);case ae:return Za(e,r,n);case se:return eo(e)}}function ss(e,t){var n=t.length;if(!n)return e;var r=n-1;t[r]=(n>1?"& ":"")+t[r];t=t.join(n>2?", ":" ");return e.replace(Be,"{\n/* [wrapped with "+t+"] */\n")}function us(e){return cc(e)||lc(e)||!!(Ot&&e&&e[Ot])}function ls(e,t){t=null==t?P:t;return!!t&&("number"==typeof e||Xe.test(e))&&e>-1&&e%1==0&&e<t}function cs(e,t,n){if(!Ec(n))return false;var r=typeof t;if("number"==r?dc(n)&&ls(t,n.length):"string"==r&&t in n)return oc(n[t],e);return false}function fs(e,t){if(cc(e))return false;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||Bc(e))return true;return Fe.test(e)||!Re.test(e)||null!=t&&e in rt(t)}function ds(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function _s(e){var t=Ho(e),n=wr[t];if("function"!=typeof n||!(t in Cr.prototype))return false;if(e===n)return true;var r=qo(n);return!!r&&e===r[0]}function vs(e){return!!vt&&vt in e}var gs=ct?wc:Jd;function ms(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||lt;return e===n}function ps(e){return e===e&&!Ec(e)}function hs(e,t){return function(n){if(null==n)return false;return n[e]===t&&(t!==a||e in rt(n))}}function Ss(e){var t=Wl(e,function(e){n.size===f&&n.clear();return e});var n=t.cache;return t}function ys(e,t){var n=e[1],r=t[1],i=n|r,a=i<(h|S|x);var o=r==x&&n==T||r==x&&n==E&&e[7].length<=t[8]||r==(x|E)&&t[7].length<=t[8]&&n==T;if(!(a||o))return e;if(r&h){e[2]=t[2];i|=n&h?0:y}var s=t[3];if(s){var u=e[3];e[3]=u?io(u,s,t[4]):s;e[4]=u?dr(e[3],d):t[4]}s=t[5];if(s){u=e[5];e[5]=u?ao(u,s,t[6]):s;e[6]=u?dr(e[5],d):t[6]}s=t[7];s&&(e[7]=s);r&x&&(e[8]=null==e[8]?t[8]:Wt(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0];e[1]=i;return e}function Ts(e){var t=[];if(null!=e)for(var n in rt(e))t.push(n);return t}function bs(e){return gt.call(e)}function ws(e,t,r){t=Bt(t===a?e.length-1:t,0);return function(){var i=arguments,a=-1,o=Bt(i.length-t,0),s=n(o);while(++a<o)s[a]=i[t+a];a=-1;var u=n(t+1);while(++a<t)u[a]=i[a];u[t]=r(s);return bn(e,this,u)}}function ks(e,t){return t.length<2?e:Li(e,Ca(t,0,-1))}function xs(e,t){var n=e.length,r=Wt(t.length,n),i=oo(e);while(r--){var o=t[r];e[r]=ls(o,n)?i[o]:a}return e}var Es=Is(xa);var Os=Ft||function(e,t){return un.setTimeout(e,t)};var Cs=Is(Ea);function As(e,t,n){var r=t+"";return Cs(e,ss(r,Ls(ns(r),n)))}function Is(e){var t=0,n=0;return function(){var r=Ht(),i=M-(r-n);n=r;if(i>0){if(++t>=I)return arguments[0]}else t=0;return e.apply(a,arguments)}}function Ms(e,t){var n=-1,r=e.length,i=r-1;t=t===a?r:t;while(++n<t){var o=ha(n,i),s=e[o];e[o]=e[n];e[n]=s}e.length=t;return e}var Rs=Ss(function(e){var t=[];je.test(e)&&t.push("");e.replace(Le,function(e,n,r,i){t.push(r?i.replace(He,"$1"):n||e)});return t});function Fs(e){if("string"==typeof e||Bc(e))return e;var t=e+"";return"0"==t&&1/e==-L?"-0":t}function js(e){if(null!=e){try{return ft.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ls(e,t){kn(W,function(n){var r="_."+n[0];t&n[1]&&!Cn(e,r)&&e.push(r)});return e.sort()}function Ps(e){if(e instanceof Cr)return e.clone();var t=new Or(e.__wrapped__,e.__chain__);t.__actions__=oo(e.__actions__);t.__index__=e.__index__;t.__values__=e.__values__;return t}function Ds(e,t,r){t=(r?cs(e,t,r):t===a)?1:Bt(Qc(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];var o=0,s=0,u=n(jt(i/t));while(o<i)u[s++]=Ca(e,o,o+=t);return u}function Ns(e){var t=-1,n=null==e?0:e.length,r=0,i=[];while(++t<n){var a=e[t];a&&(i[r++]=a)}return i}function $s(){var e=arguments.length;if(!e)return[];var t=n(e-1),r=arguments[0],i=e;while(i--)t[i-1]=arguments[i];return Mn(cc(r)?oo(r):[r],Ai(t,1))}var Us=Ta(function(e,t){return _c(e)?bi(e,Ai(t,1,_c,true)):[]});var Bs=Ta(function(e,t){var n=su(t);_c(n)&&(n=a);return _c(e)?bi(e,Ai(t,1,_c,true),Vo(n,2)):[]});var Ws=Ta(function(e,t){var n=su(t);_c(n)&&(n=a);return _c(e)?bi(e,Ai(t,1,_c,true),a,n):[]});function zs(e,t,n){var r=null==e?0:e.length;if(!r)return[];t=n||t===a?1:Qc(t);return Ca(e,t<0?0:t,r)}function qs(e,t,n){var r=null==e?0:e.length;if(!r)return[];t=n||t===a?1:Qc(t);t=r-t;return Ca(e,0,t<0?0:t)}function Hs(e,t){return e&&e.length?Na(e,Vo(t,3),true,true):[]}function Gs(e,t){return e&&e.length?Na(e,Vo(t,3),true):[]}function Vs(e,t,n,r){var i=null==e?0:e.length;if(!i)return[];if(n&&"number"!=typeof n&&cs(e,t,n)){n=0;r=i}return Oi(e,t,n,r)}function Ks(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Qc(n);i<0&&(i=Bt(r+i,0));return $n(e,Vo(t,3),i)}function Ys(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;if(n!==a){i=Qc(n);i=n<0?Bt(r+i,0):Wt(i,r-1)}return $n(e,Vo(t,3),i,true)}function Qs(e){var t=null==e?0:e.length;return t?Ai(e,1):[]}function Js(e){var t=null==e?0:e.length;return t?Ai(e,L):[]}function Xs(e,t){var n=null==e?0:e.length;if(!n)return[];t=t===a?1:Qc(t);return Ai(e,t)}function Zs(e){var t=-1,n=null==e?0:e.length,r={};while(++t<n){var i=e[t];r[i[0]]=i[1]}return r}function eu(e){return e&&e.length?e[0]:a}function tu(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Qc(n);i<0&&(i=Bt(r+i,0));return Un(e,t,i)}function nu(e){var t=null==e?0:e.length;return t?Ca(e,0,-1):[]}var ru=Ta(function(e){var t=In(e,Wa);return t.length&&t[0]===e[0]?Wi(t):[]});var iu=Ta(function(e){var t=su(e),n=In(e,Wa);t===su(n)?t=a:n.pop();return n.length&&n[0]===e[0]?Wi(n,Vo(t,2)):[]});var au=Ta(function(e){var t=su(e),n=In(e,Wa);t="function"==typeof t?t:a;t&&n.pop();return n.length&&n[0]===e[0]?Wi(n,a,t):[]});function ou(e,t){return null==e?"":$t.call(e,t)}function su(e){var t=null==e?0:e.length;return t?e[t-1]:a}function uu(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;if(n!==a){i=Qc(n);i=i<0?Bt(r+i,0):Wt(i,r-1)}return t===t?mr(e,t,i):$n(e,Wn,i,true)}function lu(e,t){return e&&e.length?fa(e,Qc(t)):a}var cu=Ta(fu);function fu(e,t){return e&&e.length&&t&&t.length?ma(e,t):e}function du(e,t,n){return e&&e.length&&t&&t.length?ma(e,t,Vo(n,2)):e}function _u(e,t,n){return e&&e.length&&t&&t.length?ma(e,t,a,n):e}var vu=Bo(function(e,t){var n=null==e?0:e.length,r=mi(e,t);pa(e,In(t,function(e){return ls(e,n)?+e:e}).sort(no));return r});function gu(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,i=[],a=e.length;t=Vo(t,3);while(++r<a){var o=e[r];if(t(o,r,e)){n.push(o);i.push(r)}}pa(e,i);return n}function mu(e){return null==e?e:Kt.call(e)}function pu(e,t,n){var r=null==e?0:e.length;if(!r)return[];if(n&&"number"!=typeof n&&cs(e,t,n)){t=0;n=r}else{t=null==t?0:Qc(t);n=n===a?r:Qc(n)}return Ca(e,t,n)}function hu(e,t){return Ia(e,t)}function Su(e,t,n){return Ma(e,t,Vo(n,2))}function yu(e,t){var n=null==e?0:e.length;if(n){var r=Ia(e,t);if(r<n&&oc(e[r],t))return r}return-1}function Tu(e,t){return Ia(e,t,true)}function bu(e,t,n){return Ma(e,t,Vo(n,2),true)}function wu(e,t){var n=null==e?0:e.length;if(n){var r=Ia(e,t,true)-1;if(oc(e[r],t))return r}return-1}function ku(e){return e&&e.length?Ra(e):[]}function xu(e,t){return e&&e.length?Ra(e,Vo(t,2)):[]}function Eu(e){var t=null==e?0:e.length;return t?Ca(e,1,t):[]}function Ou(e,t,n){if(!(e&&e.length))return[];t=n||t===a?1:Qc(t);return Ca(e,0,t<0?0:t)}function Cu(e,t,n){var r=null==e?0:e.length;if(!r)return[];t=n||t===a?1:Qc(t);t=r-t;return Ca(e,t<0?0:t,r)}function Au(e,t){return e&&e.length?Na(e,Vo(t,3),false,true):[]}function Iu(e,t){return e&&e.length?Na(e,Vo(t,3)):[]}var Mu=Ta(function(e){return La(Ai(e,1,_c,true))});var Ru=Ta(function(e){var t=su(e);_c(t)&&(t=a);return La(Ai(e,1,_c,true),Vo(t,2))});var Fu=Ta(function(e){var t=su(e);t="function"==typeof t?t:a;return La(Ai(e,1,_c,true),a,t)});function ju(e){return e&&e.length?La(e):[]}function Lu(e,t){return e&&e.length?La(e,Vo(t,2)):[]}function Pu(e,t){t="function"==typeof t?t:a;return e&&e.length?La(e,a,t):[]}function Du(e){if(!(e&&e.length))return[];var t=0;e=On(e,function(e){if(_c(e)){t=Bt(e.length,t);return true}});return Yn(t,function(t){return In(e,qn(t))})}function Nu(e,t){if(!(e&&e.length))return[];var n=Du(e);if(null==t)return n;return In(n,function(e){return bn(t,a,e)})}var $u=Ta(function(e,t){return _c(e)?bi(e,t):[]});var Uu=Ta(function(e){return Ua(On(e,_c))});var Bu=Ta(function(e){var t=su(e);_c(t)&&(t=a);return Ua(On(e,_c),Vo(t,2))});var Wu=Ta(function(e){var t=su(e);t="function"==typeof t?t:a;return Ua(On(e,_c),a,t)});var zu=Ta(Du);function qu(e,t){return Ba(e||[],t||[],ci)}function Hu(e,t){return Ba(e||[],t||[],ka)}var Gu=Ta(function(e){var t=e.length,n=t>1?e[t-1]:a;n="function"==typeof n?(e.pop(),n):a;return Nu(e,n)});function Vu(e){var t=wr(e);t.__chain__=true;return t}function Ku(e,t){t(e);return e}function Yu(e,t){return t(e)}var Qu=Bo(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return mi(t,e)};if(t>1||this.__actions__.length||!(r instanceof Cr)||!ls(n))return this.thru(i);r=r.slice(n,+n+(t?1:0));r.__actions__.push({func:Yu,args:[i],thisArg:a});return new Or(r,this.__chain__).thru(function(e){t&&!e.length&&e.push(a);return e})});function Ju(){return Vu(this)}function Xu(){return new Or(this.value(),this.__chain__)}function Zu(){this.__values__===a&&(this.__values__=Kc(this.value()));var e=this.__index__>=this.__values__.length,t=e?a:this.__values__[this.__index__++];return{done:e,value:t}}function el(){return this}function tl(e){var t,n=this;while(n instanceof Er){var r=Ps(n);r.__index__=0;r.__values__=a;t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}i.__wrapped__=e;return t}function nl(){var e=this.__wrapped__;if(e instanceof Cr){var t=e;this.__actions__.length&&(t=new Cr(this));t=t.reverse();t.__actions__.push({func:Yu,args:[mu],thisArg:a});return new Or(t,this.__chain__)}return this.thru(mu)}function rl(){return $a(this.__wrapped__,this.__actions__)}var il=co(function(e,t,n){dt.call(e,n)?++e[n]:gi(e,n,1)});function al(e,t,n){var r=cc(e)?En:xi;n&&cs(e,t,n)&&(t=a);return r(e,Vo(t,3))}function ol(e,t){var n=cc(e)?On:Ci;return n(e,Vo(t,3))}var sl=yo(Ks);var ul=yo(Ys);function ll(e,t){return Ai(hl(e,t),1)}function cl(e,t){return Ai(hl(e,t),L)}function fl(e,t,n){n=n===a?1:Qc(n);return Ai(hl(e,t),n)}function dl(e,t){var n=cc(e)?kn:wi;return n(e,Vo(t,3))}function _l(e,t){var n=cc(e)?xn:ki;return n(e,Vo(t,3))}var vl=co(function(e,t,n){dt.call(e,n)?e[n].push(t):gi(e,n,[t])});function gl(e,t,n,r){e=dc(e)?e:qf(e);n=n&&!r?Qc(n):0;var i=e.length;n<0&&(n=Bt(i+n,0));return Uc(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Un(e,t,n)>-1}var ml=Ta(function(e,t,r){var i=-1,a="function"==typeof t,o=dc(e)?n(e.length):[];wi(e,function(e){o[++i]=a?bn(t,e,r):qi(e,t,r)});return o});var pl=co(function(e,t,n){gi(e,n,t)});function hl(e,t){var n=cc(e)?In:oa;return n(e,Vo(t,3))}function Sl(e,t,n,r){if(null==e)return[];cc(t)||(t=null==t?[]:[t]);n=r?a:n;cc(n)||(n=null==n?[]:[n]);return da(e,t,n)}var yl=co(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function Tl(e,t,n){var r=cc(e)?Rn:Gn,i=arguments.length<3;return r(e,Vo(t,4),n,i,wi)}function bl(e,t,n){var r=cc(e)?Fn:Gn,i=arguments.length<3;return r(e,Vo(t,4),n,i,ki)}function wl(e,t){var n=cc(e)?On:Ci;return n(e,zl(Vo(t,3)))}function kl(e){var t=cc(e)?oi:ba;return t(e)}function xl(e,t,n){t=(n?cs(e,t,n):t===a)?1:Qc(t);var r=cc(e)?si:wa;return r(e,t)}function El(e){var t=cc(e)?ui:Oa;return t(e)}function Ol(e){if(null==e)return 0;if(dc(e))return Uc(e)?pr(e):e.length;var t=es(e);if(t==X||t==ae)return e.size;return ra(e).length}function Cl(e,t,n){var r=cc(e)?jn:Aa;n&&cs(e,t,n)&&(t=a);return r(e,Vo(t,3))}var Al=Ta(function(e,t){if(null==e)return[];var n=t.length;n>1&&cs(e,t[0],t[1])?t=[]:n>2&&cs(t[0],t[1],t[2])&&(t=[t[0]]);return da(e,Ai(t,1),[])});var Il=Rt||function(){return un.Date.now()};function Ml(e,t){if("function"!=typeof t)throw new ot(l);e=Qc(e);return function(){if(--e<1)return t.apply(this,arguments)}}function Rl(e,t,n){t=n?a:t;t=e&&null==t?e.length:t;return jo(e,x,a,a,a,a,t)}function Fl(e,t){var n;if("function"!=typeof t)throw new ot(l);e=Qc(e);return function(){--e>0&&(n=t.apply(this,arguments));e<=1&&(t=a);return n}}var jl=Ta(function(e,t,n){var r=h;if(n.length){var i=dr(n,Go(jl));r|=w}return jo(e,r,t,n,i)});var Ll=Ta(function(e,t,n){var r=h|S;if(n.length){var i=dr(n,Go(Ll));r|=w}return jo(t,r,e,n,i)});function Pl(e,t,n){t=n?a:t;var r=jo(e,T,a,a,a,a,a,t);r.placeholder=Pl.placeholder;return r}function Dl(e,t,n){t=n?a:t;var r=jo(e,b,a,a,a,a,a,t);r.placeholder=Dl.placeholder;return r}function Nl(e,t,n){var r,i,o,s,u,c,f=0,d=false,_=false,v=true;if("function"!=typeof e)throw new ot(l);t=Xc(t)||0;if(Ec(n)){d=!!n.leading;_="maxWait"in n;o=_?Bt(Xc(n.maxWait)||0,t):o;v="trailing"in n?!!n.trailing:v}function g(t){var n=r,o=i;r=i=a;f=t;s=e.apply(o,n);return s}function m(e){f=e;u=Os(S,t);return d?g(e):s}function p(e){var n=e-c,r=e-f,i=t-n;return _?Wt(i,o-r):i}function h(e){var n=e-c,r=e-f;return c===a||n>=t||n<0||_&&r>=o}function S(){var e=Il();if(h(e))return y(e);u=Os(S,p(e))}function y(e){u=a;if(v&&r)return g(e);r=i=a;return s}function T(){u!==a&&Va(u);f=0;r=c=i=u=a}function b(){return u===a?s:y(Il())}function w(){var e=Il(),n=h(e);r=arguments;i=this;c=e;if(n){if(u===a)return m(c);if(_){u=Os(S,t);return g(c)}}u===a&&(u=Os(S,t));return s}w.cancel=T;w.flush=b;return w}var $l=Ta(function(e,t){return Ti(e,1,t)});var Ul=Ta(function(e,t,n){return Ti(e,Xc(t)||0,n)});function Bl(e){return jo(e,O)}function Wl(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ot(l);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);n.cache=a.set(i,o)||a;return o};n.cache=new(Wl.Cache||qr);return n}Wl.Cache=qr;function zl(e){if("function"!=typeof e)throw new ot(l);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function ql(e){return Fl(2,e)}var Hl=Ha(function(e,t){t=1==t.length&&cc(t[0])?In(t[0],Jn(Vo())):In(Ai(t,1),Jn(Vo()));var n=t.length;return Ta(function(r){var i=-1,a=Wt(r.length,n);while(++i<a)r[i]=t[i].call(this,r[i]);return bn(e,this,r)})});var Gl=Ta(function(e,t){var n=dr(t,Go(Gl));return jo(e,w,a,t,n)});var Vl=Ta(function(e,t){var n=dr(t,Go(Vl));return jo(e,k,a,t,n)});var Kl=Bo(function(e,t){return jo(e,E,a,a,a,t)});function Yl(e,t){if("function"!=typeof e)throw new ot(l);t=t===a?t:Qc(t);return Ta(e,t)}function Ql(e,t){if("function"!=typeof e)throw new ot(l);t=null==t?0:Bt(Qc(t),0);return Ta(function(n){var r=n[t],i=Ga(n,0,t);r&&Mn(i,r);return bn(e,this,i)})}function Jl(e,t,n){var r=true,i=true;if("function"!=typeof e)throw new ot(l);if(Ec(n)){r="leading"in n?!!n.leading:r;i="trailing"in n?!!n.trailing:i}return Nl(e,t,{leading:r,maxWait:t,trailing:i})}function Xl(e){return Rl(e,1)}function Zl(e,t){return Gl(za(t),e)}function ec(){if(!arguments.length)return[];var e=arguments[0];return cc(e)?e:[e]}function tc(e){return hi(e,g)}function nc(e,t){t="function"==typeof t?t:a;return hi(e,g,t)}function rc(e){return hi(e,_|g)}function ic(e,t){t="function"==typeof t?t:a;return hi(e,_|g,t)}function ac(e,t){return null==t||yi(e,t,xf(t))}function oc(e,t){return e===t||e!==e&&t!==t}var sc=Ao(Ni);var uc=Ao(function(e,t){return e>=t});var lc=Hi(function(){return arguments}())?Hi:function(e){return Oc(e)&&dt.call(e,"callee")&&!xt.call(e,"callee")};var cc=n.isArray;var fc=vn?Jn(vn):Gi;function dc(e){return null!=e&&xc(e.length)&&!wc(e)}function _c(e){return Oc(e)&&dc(e)}function vc(e){return true===e||false===e||Oc(e)&&Di(e)==G}var gc=Dt||Jd;var mc=gn?Jn(gn):Vi;function pc(e){return Oc(e)&&1===e.nodeType&&!Pc(e)}function hc(e){if(null==e)return true;if(dc(e)&&(cc(e)||"string"==typeof e||"function"==typeof e.splice||gc(e)||Wc(e)||lc(e)))return!e.length;var t=es(e);if(t==X||t==ae)return!e.size;if(ms(e))return!ra(e).length;for(var n in e)if(dt.call(e,n))return false;return true}function Sc(e,t){return Ki(e,t)}function yc(e,t,n){n="function"==typeof n?n:a;var r=n?n(e,t):a;return r===a?Ki(e,t,a,n):!!r}function Tc(e){if(!Oc(e))return false;var t=Di(e);return t==Y||t==K||"string"==typeof e.message&&"string"==typeof e.name&&!Pc(e)}function bc(e){return"number"==typeof e&&Nt(e)}function wc(e){if(!Ec(e))return false;var t=Di(e);return t==Q||t==J||t==H||t==re}function kc(e){return"number"==typeof e&&e==Qc(e)}function xc(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=P}function Ec(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Oc(e){return null!=e&&"object"==typeof e}var Cc=mn?Jn(mn):Qi;function Ac(e,t){return e===t||Ji(e,t,Yo(t))}function Ic(e,t,n){n="function"==typeof n?n:a;return Ji(e,t,Yo(t),n)}function Mc(e){return Lc(e)&&e!=+e}function Rc(e){if(gs(e))throw new i(u);return Xi(e)}function Fc(e){return null===e}function jc(e){return null==e}function Lc(e){return"number"==typeof e||Oc(e)&&Di(e)==Z}function Pc(e){if(!Oc(e)||Di(e)!=te)return false;var t=wt(e);if(null===t)return true;var n=dt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ft.call(n)==mt}var Dc=pn?Jn(pn):Zi;function Nc(e){return kc(e)&&e>=-P&&e<=P}var $c=hn?Jn(hn):ea;function Uc(e){return"string"==typeof e||!cc(e)&&Oc(e)&&Di(e)==oe}function Bc(e){return"symbol"==typeof e||Oc(e)&&Di(e)==se}var Wc=Sn?Jn(Sn):ta;function zc(e){return e===a}function qc(e){return Oc(e)&&es(e)==le}function Hc(e){return Oc(e)&&Di(e)==ce}var Gc=Ao(aa);var Vc=Ao(function(e,t){return e<=t});function Kc(e){if(!e)return[];if(dc(e))return Uc(e)?hr(e):oo(e);if(Ct&&e[Ct])return lr(e[Ct]());var t=es(e),n=t==X?cr:t==ae?_r:qf;return n(e)}function Yc(e){if(!e)return 0===e?e:0;e=Xc(e);if(e===L||e===-L){var t=e<0?-1:1;return t*D}return e===e?e:0}function Qc(e){var t=Yc(e),n=t%1;return t===t?n?t-n:t:0}function Jc(e){return e?pi(Qc(e),0,$):0}function Xc(e){if("number"==typeof e)return e;if(Bc(e))return N;if(Ec(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ec(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ne,"");var n=Ye.test(e);return n||Je.test(e)?an(e.slice(2),n?2:8):Ke.test(e)?N:+e}function Zc(e){return so(e,Ef(e))}function ef(e){return e?pi(Qc(e),-P,P):0===e?e:0}function tf(e){return null==e?"":ja(e)}var nf=fo(function(e,t){if(ms(t)||dc(t)){so(t,xf(t),e);return}for(var n in t)dt.call(t,n)&&ci(e,n,t[n])});var rf=fo(function(e,t){so(t,Ef(t),e)});var af=fo(function(e,t,n,r){so(t,Ef(t),e,r)});var of=fo(function(e,t,n,r){so(t,xf(t),e,r)});var sf=Bo(mi);function uf(e,t){var n=xr(e);return null==t?n:_i(n,t)}var lf=Ta(function(e){e.push(a,Lo);return bn(af,a,e)});var cf=Ta(function(e){e.push(a,Po);return bn(If,a,e)});function ff(e,t){return Nn(e,Vo(t,3),Ri)}function df(e,t){return Nn(e,Vo(t,3),Fi)}function _f(e,t){return null==e?e:Ii(e,Vo(t,3),Ef)}function vf(e,t){return null==e?e:Mi(e,Vo(t,3),Ef)}function gf(e,t){return e&&Ri(e,Vo(t,3))}function mf(e,t){return e&&Fi(e,Vo(t,3))}function pf(e){return null==e?[]:ji(e,xf(e))}function hf(e){return null==e?[]:ji(e,Ef(e))}function Sf(e,t,n){var r=null==e?a:Li(e,t);return r===a?n:r}function yf(e,t){return null!=e&&rs(e,t,$i)}function Tf(e,t){return null!=e&&rs(e,t,Ui)}var bf=wo(function(e,t,n){e[t]=n},Ad(Fd));var wf=wo(function(e,t,n){dt.call(e,t)?e[t].push(n):e[t]=[n]},Vo);var kf=Ta(qi);function xf(e){return dc(e)?ai(e):ra(e)}function Ef(e){return dc(e)?ai(e,true):ia(e)}function Of(e,t){var n={};t=Vo(t,3);Ri(e,function(e,r,i){gi(n,t(e,r,i),e)});return n}function Cf(e,t){var n={};t=Vo(t,3);Ri(e,function(e,r,i){gi(n,r,t(e,r,i))});return n}var Af=fo(function(e,t,n){la(e,t,n)});var If=fo(function(e,t,n,r){la(e,t,n,r)});var Mf=Bo(function(e,t){var n={};if(null==e)return n;var r=false;t=In(t,function(t){t=qa(t,e);r||(r=t.length>1);return t});so(e,zo(e),n);r&&(n=hi(n,_|v|g,Do));var i=t.length;while(i--)Pa(n,t[i]);return n});function Rf(e,t){return jf(e,zl(Vo(t)))}var Ff=Bo(function(e,t){return null==e?{}:_a(e,t)});function jf(e,t){if(null==e)return{};var n=In(zo(e),function(e){return[e]});t=Vo(t);return va(e,n,function(e,n){return t(e,n[0])})}function Lf(e,t,n){t=qa(t,e);var r=-1,i=t.length;if(!i){i=1;e=a}while(++r<i){var o=null==e?a:e[Fs(t[r])];if(o===a){r=i;o=n}e=wc(o)?o.call(e):o}return e}function Pf(e,t,n){return null==e?e:ka(e,t,n)}function Df(e,t,n,r){r="function"==typeof r?r:a;return null==e?e:ka(e,t,n,r)}var Nf=Fo(xf);var $f=Fo(Ef);function Uf(e,t,n){var r=cc(e),i=r||gc(e)||Wc(e);t=Vo(t,4);if(null==n){var a=e&&e.constructor;n=i?r?new a:[]:Ec(e)&&wc(a)?xr(wt(e)):{}}(i?kn:Ri)(e,function(e,r,i){return t(n,e,r,i)});return n}function Bf(e,t){return null==e||Pa(e,t)}function Wf(e,t,n){return null==e?e:Da(e,t,za(n))}function zf(e,t,n,r){r="function"==typeof r?r:a;return null==e?e:Da(e,t,za(n),r)}function qf(e){return null==e?[]:Xn(e,xf(e))}function Hf(e){return null==e?[]:Xn(e,Ef(e))}function Gf(e,t,n){if(n===a){n=t;t=a}if(n!==a){n=Xc(n);n=n===n?n:0}if(t!==a){t=Xc(t);t=t===t?t:0}return pi(Xc(e),t,n)}function Vf(e,t,n){t=Yc(t);if(n===a){n=t;t=0}else n=Yc(n);e=Xc(e);return Bi(e,t,n)}function Kf(e,t,n){n&&"boolean"!=typeof n&&cs(e,t,n)&&(t=n=a);if(n===a)if("boolean"==typeof t){n=t;t=a}else if("boolean"==typeof e){n=e;e=a}if(e===a&&t===a){e=0;t=1}else{e=Yc(e);if(t===a){t=e;e=0}else t=Yc(t)}if(e>t){var r=e;e=t;t=r}if(n||e%1||t%1){var i=Vt();return Wt(e+i*(t-e+rn("1e-"+((i+"").length-1))),t)}return ha(e,t)}var Yf=po(function(e,t,n){t=t.toLowerCase();return e+(n?Qf(t):t)});function Qf(e){return wd(tf(e).toLowerCase())}function Jf(e){e=tf(e);return e&&e.replace(Ze,rr).replace(qt,"")}function Xf(e,t,n){e=tf(e);t=ja(t);var r=e.length;n=n===a?r:pi(Qc(n),0,r);var i=n;n-=t.length;return n>=0&&e.slice(n,i)==t}function Zf(e){e=tf(e);return e&&Ce.test(e)?e.replace(Ee,ir):e}function ed(e){e=tf(e);return e&&De.test(e)?e.replace(Pe,"\\$&"):e}var td=po(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});var nd=po(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()});var rd=mo("toLowerCase");function id(e,t,n){e=tf(e);t=Qc(t);var r=t?pr(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Eo(Lt(i),n)+e+Eo(jt(i),n)}function ad(e,t,n){e=tf(e);t=Qc(t);var r=t?pr(e):0;return t&&r<t?e+Eo(t-r,n):e}function od(e,t,n){e=tf(e);t=Qc(t);var r=t?pr(e):0;return t&&r<t?Eo(t-r,n)+e:e}function sd(e,t,n){n||null==t?t=0:t&&(t=+t);return Gt(tf(e).replace($e,""),t||0)}function ud(e,t,n){t=(n?cs(e,t,n):t===a)?1:Qc(t);return ya(tf(e),t)}function ld(){var e=arguments,t=tf(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var cd=po(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function fd(e,t,n){n&&"number"!=typeof n&&cs(e,t,n)&&(t=n=a);n=n===a?$:n>>>0;if(!n)return[];e=tf(e);if(e&&("string"==typeof t||null!=t&&!Dc(t))){t=ja(t);if(!t&&sr(e))return Ga(hr(e),0,n)}return e.split(t,n)}var dd=po(function(e,t,n){return e+(n?" ":"")+wd(t)});function _d(e,t,n){e=tf(e);n=null==n?0:pi(Qc(n),0,e.length);t=ja(t);return e.slice(n,n+t.length)==t}function vd(e,t,n){var r=wr.templateSettings;n&&cs(e,t,n)&&(t=a);e=tf(e);t=af({},t,r,Lo);var i=af({},t.imports,r.imports,Lo),o=xf(i),s=Xn(i,o);var u,l,c=0,f=t.interpolate||et,d="__p += '";var _=it((t.escape||et).source+"|"+f.source+"|"+(f===Me?Ge:et).source+"|"+(t.evaluate||et).source+"|$","g");var v="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Qt+"]")+"\n";e.replace(_,function(t,n,r,i,a,o){r||(r=i);d+=e.slice(c,o).replace(tt,ar);if(n){u=true;d+="' +\n__e("+n+") +\n'"}if(a){l=true;d+="';\n"+a+";\n__p += '"}r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'");c=o+t.length;return t});d+="';\n";var g=t.variable;g||(d="with (obj) {\n"+d+"\n}\n");d=(l?d.replace(be,""):d).replace(we,"$1").replace(ke,"$1;");d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=xd(function(){return qe(o,v+"return "+d).apply(a,s)});m.source=d;if(Tc(m))throw m;return m}function gd(e){return tf(e).toLowerCase()}function md(e){return tf(e).toUpperCase()}function pd(e,t,n){e=tf(e);if(e&&(n||t===a))return e.replace(Ne,"");if(!e||!(t=ja(t)))return e;var r=hr(e),i=hr(t),o=er(r,i),s=tr(r,i)+1;return Ga(r,o,s).join("")}function hd(e,t,n){e=tf(e);if(e&&(n||t===a))return e.replace(Ue,"");if(!e||!(t=ja(t)))return e;var r=hr(e),i=tr(r,hr(t))+1;return Ga(r,0,i).join("")}function Sd(e,t,n){e=tf(e);if(e&&(n||t===a))return e.replace($e,"");if(!e||!(t=ja(t)))return e;var r=hr(e),i=er(r,hr(t));return Ga(r,i).join("")}function yd(e,t){var n=C,r=A;if(Ec(t)){var i="separator"in t?t.separator:i;n="length"in t?Qc(t.length):n;r="omission"in t?ja(t.omission):r}e=tf(e);var o=e.length;if(sr(e)){var s=hr(e);o=s.length}if(n>=o)return e;var u=n-pr(r);if(u<1)return r;var l=s?Ga(s,0,u).join(""):e.slice(0,u);if(i===a)return l+r;s&&(u+=l.length-u);if(Dc(i)){if(e.slice(u).search(i)){var c,f=l;i.global||(i=it(i.source,tf(Ve.exec(i))+"g"));i.lastIndex=0;while(c=i.exec(f))var d=c.index;l=l.slice(0,d===a?u:d)}}else if(e.indexOf(ja(i),u)!=u){var _=l.lastIndexOf(i);_>-1&&(l=l.slice(0,_))}return l+r}function Td(e){e=tf(e);return e&&Oe.test(e)?e.replace(xe,Sr):e}var bd=po(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()});var wd=mo("toUpperCase");function kd(e,t,n){e=tf(e);t=n?a:t;if(t===a)return ur(e)?br(e):Dn(e);return e.match(t)||[]}var xd=Ta(function(e,t){try{return bn(e,a,t)}catch(e){return Tc(e)?e:new i(e)}});var Ed=Bo(function(e,t){kn(t,function(t){t=Fs(t);gi(e,t,jl(e[t],e))});return e});function Od(e){var t=null==e?0:e.length,n=Vo();e=t?In(e,function(e){if("function"!=typeof e[1])throw new ot(l);return[n(e[0]),e[1]]}):[];return Ta(function(n){var r=-1;while(++r<t){var i=e[r];if(bn(i[0],this,n))return bn(i[1],this,n)}})}function Cd(e){return Si(hi(e,_))}function Ad(e){return function(){return e}}function Id(e,t){return null==e||e!==e?t:e}var Md=To();var Rd=To(true);function Fd(e){return e}function jd(e){return na("function"==typeof e?e:hi(e,_))}function Ld(e){return sa(hi(e,_))}function Pd(e,t){return ua(e,hi(t,_))}var Dd=Ta(function(e,t){return function(n){return qi(n,e,t)}});var Nd=Ta(function(e,t){return function(n){return qi(e,n,t)}});function $d(e,t,n){var r=xf(t),i=ji(t,r);if(null==n&&!(Ec(t)&&(i.length||!r.length))){n=t;t=e;e=this;i=ji(t,xf(t))}var a=!(Ec(n)&&"chain"in n)||!!n.chain,o=wc(e);kn(i,function(n){var r=t[n];e[n]=r;o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=oo(this.__actions__);i.push({func:r,args:arguments,thisArg:e});n.__chain__=t;return n}return r.apply(e,Mn([this.value()],arguments))})});return e}function Ud(){un._===this&&(un._=pt);return this}function Bd(){}function Wd(e){e=Qc(e);return Ta(function(t){return fa(t,e)})}var zd=xo(In);var qd=xo(En);var Hd=xo(jn);function Gd(e){return fs(e)?qn(Fs(e)):ga(e)}function Vd(e){return function(t){return null==e?a:Li(e,t)}}var Kd=Co();var Yd=Co(true);function Qd(){return[]}function Jd(){return false}function Xd(){return{}}function Zd(){return""}function e_(){return true}function t_(e,t){e=Qc(e);if(e<1||e>P)return[];var n=$,r=Wt(e,$);t=Vo(t);e-=$;var i=Yn(r,t);while(++n<e)t(n);return i}function n_(e){if(cc(e))return In(e,Fs);return Bc(e)?[e]:oo(Rs(tf(e)))}function r_(e){var t=++_t;return tf(e)+t}var i_=ko(function(e,t){return e+t},0);var a_=Mo("ceil");var o_=ko(function(e,t){return e/t},1);var s_=Mo("floor");function u_(e){return e&&e.length?Ei(e,Fd,Ni):a}function l_(e,t){return e&&e.length?Ei(e,Vo(t,2),Ni):a}function c_(e){return zn(e,Fd)}function f_(e,t){return zn(e,Vo(t,2))}function d_(e){return e&&e.length?Ei(e,Fd,aa):a}function __(e,t){return e&&e.length?Ei(e,Vo(t,2),aa):a}var v_=ko(function(e,t){return e*t},1);var g_=Mo("round");var m_=ko(function(e,t){return e-t},0);function p_(e){return e&&e.length?Kn(e,Fd):0}function h_(e,t){return e&&e.length?Kn(e,Vo(t,2)):0}wr.after=Ml;wr.ary=Rl;wr.assign=nf;wr.assignIn=rf;wr.assignInWith=af;wr.assignWith=of;wr.at=sf;wr.before=Fl;wr.bind=jl;wr.bindAll=Ed;wr.bindKey=Ll;wr.castArray=ec;wr.chain=Vu;wr.chunk=Ds;wr.compact=Ns;wr.concat=$s;wr.cond=Od;wr.conforms=Cd;wr.constant=Ad;wr.countBy=il;wr.create=uf;wr.curry=Pl;wr.curryRight=Dl;wr.debounce=Nl;wr.defaults=lf;wr.defaultsDeep=cf;wr.defer=$l;wr.delay=Ul;wr.difference=Us;wr.differenceBy=Bs;wr.differenceWith=Ws;wr.drop=zs;wr.dropRight=qs;wr.dropRightWhile=Hs;wr.dropWhile=Gs;wr.fill=Vs;wr.filter=ol;wr.flatMap=ll;wr.flatMapDeep=cl;wr.flatMapDepth=fl;wr.flatten=Qs;wr.flattenDeep=Js;wr.flattenDepth=Xs;wr.flip=Bl;wr.flow=Md;wr.flowRight=Rd;wr.fromPairs=Zs;wr.functions=pf;wr.functionsIn=hf;wr.groupBy=vl;wr.initial=nu;wr.intersection=ru;wr.intersectionBy=iu;wr.intersectionWith=au;wr.invert=bf;wr.invertBy=wf;wr.invokeMap=ml;wr.iteratee=jd;wr.keyBy=pl;wr.keys=xf;wr.keysIn=Ef;wr.map=hl;wr.mapKeys=Of;wr.mapValues=Cf;wr.matches=Ld;wr.matchesProperty=Pd;wr.memoize=Wl;wr.merge=Af;wr.mergeWith=If;wr.method=Dd;wr.methodOf=Nd;wr.mixin=$d;wr.negate=zl;wr.nthArg=Wd;wr.omit=Mf;wr.omitBy=Rf;wr.once=ql;wr.orderBy=Sl;wr.over=zd;wr.overArgs=Hl;wr.overEvery=qd;wr.overSome=Hd;wr.partial=Gl;wr.partialRight=Vl;wr.partition=yl;wr.pick=Ff;wr.pickBy=jf;wr.property=Gd;wr.propertyOf=Vd;wr.pull=cu;wr.pullAll=fu;wr.pullAllBy=du;wr.pullAllWith=_u;wr.pullAt=vu;wr.range=Kd;wr.rangeRight=Yd;wr.rearg=Kl;wr.reject=wl;wr.remove=gu;wr.rest=Yl;wr.reverse=mu;wr.sampleSize=xl;wr.set=Pf;wr.setWith=Df;wr.shuffle=El;wr.slice=pu;wr.sortBy=Al;wr.sortedUniq=ku;wr.sortedUniqBy=xu;wr.split=fd;wr.spread=Ql;wr.tail=Eu;wr.take=Ou;wr.takeRight=Cu;wr.takeRightWhile=Au;wr.takeWhile=Iu;wr.tap=Ku;wr.throttle=Jl;wr.thru=Yu;wr.toArray=Kc;wr.toPairs=Nf;wr.toPairsIn=$f;wr.toPath=n_;wr.toPlainObject=Zc;wr.transform=Uf;wr.unary=Xl;wr.union=Mu;wr.unionBy=Ru;wr.unionWith=Fu;wr.uniq=ju;wr.uniqBy=Lu;wr.uniqWith=Pu;wr.unset=Bf;wr.unzip=Du;wr.unzipWith=Nu;wr.update=Wf;wr.updateWith=zf;wr.values=qf;wr.valuesIn=Hf;wr.without=$u;wr.words=kd;wr.wrap=Zl;wr.xor=Uu;wr.xorBy=Bu;wr.xorWith=Wu;wr.zip=zu;wr.zipObject=qu;wr.zipObjectDeep=Hu;wr.zipWith=Gu;wr.entries=Nf;wr.entriesIn=$f;wr.extend=rf;wr.extendWith=af;$d(wr,wr);wr.add=i_;wr.attempt=xd;wr.camelCase=Yf;wr.capitalize=Qf;wr.ceil=a_;wr.clamp=Gf;wr.clone=tc;wr.cloneDeep=rc;wr.cloneDeepWith=ic;wr.cloneWith=nc;wr.conformsTo=ac;wr.deburr=Jf;wr.defaultTo=Id;wr.divide=o_;wr.endsWith=Xf;wr.eq=oc;wr.escape=Zf;wr.escapeRegExp=ed;wr.every=al;wr.find=sl;wr.findIndex=Ks;wr.findKey=ff;wr.findLast=ul;wr.findLastIndex=Ys;wr.findLastKey=df;wr.floor=s_;wr.forEach=dl;wr.forEachRight=_l;wr.forIn=_f;wr.forInRight=vf;wr.forOwn=gf;wr.forOwnRight=mf;wr.get=Sf;wr.gt=sc;wr.gte=uc;wr.has=yf;wr.hasIn=Tf;wr.head=eu;wr.identity=Fd;wr.includes=gl;wr.indexOf=tu;wr.inRange=Vf;wr.invoke=kf;wr.isArguments=lc;wr.isArray=cc;wr.isArrayBuffer=fc;wr.isArrayLike=dc;wr.isArrayLikeObject=_c;wr.isBoolean=vc;wr.isBuffer=gc;wr.isDate=mc;wr.isElement=pc;wr.isEmpty=hc;wr.isEqual=Sc;wr.isEqualWith=yc;wr.isError=Tc;wr.isFinite=bc;wr.isFunction=wc;wr.isInteger=kc;wr.isLength=xc;wr.isMap=Cc;wr.isMatch=Ac;wr.isMatchWith=Ic;wr.isNaN=Mc;wr.isNative=Rc;wr.isNil=jc;wr.isNull=Fc;wr.isNumber=Lc;wr.isObject=Ec;wr.isObjectLike=Oc;wr.isPlainObject=Pc;wr.isRegExp=Dc;wr.isSafeInteger=Nc;wr.isSet=$c;wr.isString=Uc;wr.isSymbol=Bc;wr.isTypedArray=Wc;wr.isUndefined=zc;wr.isWeakMap=qc;wr.isWeakSet=Hc;wr.join=ou;wr.kebabCase=td;wr.last=su;wr.lastIndexOf=uu;wr.lowerCase=nd;wr.lowerFirst=rd;wr.lt=Gc;wr.lte=Vc;wr.max=u_;wr.maxBy=l_;wr.mean=c_;wr.meanBy=f_;wr.min=d_;wr.minBy=__;wr.stubArray=Qd;wr.stubFalse=Jd;wr.stubObject=Xd;wr.stubString=Zd;wr.stubTrue=e_;wr.multiply=v_;wr.nth=lu;wr.noConflict=Ud;wr.noop=Bd;wr.now=Il;wr.pad=id;wr.padEnd=ad;wr.padStart=od;wr.parseInt=sd;wr.random=Kf;wr.reduce=Tl;wr.reduceRight=bl;wr.repeat=ud;wr.replace=ld;wr.result=Lf;wr.round=g_;wr.runInContext=e;wr.sample=kl;wr.size=Ol;wr.snakeCase=cd;wr.some=Cl;wr.sortedIndex=hu;wr.sortedIndexBy=Su;wr.sortedIndexOf=yu;wr.sortedLastIndex=Tu;wr.sortedLastIndexBy=bu;wr.sortedLastIndexOf=wu;wr.startCase=dd;wr.startsWith=_d;wr.subtract=m_;wr.sum=p_;wr.sumBy=h_;wr.template=vd;wr.times=t_;wr.toFinite=Yc;wr.toInteger=Qc;wr.toLength=Jc;wr.toLower=gd;wr.toNumber=Xc;wr.toSafeInteger=ef;wr.toString=tf;wr.toUpper=md;wr.trim=pd;wr.trimEnd=hd;wr.trimStart=Sd;wr.truncate=yd;wr.unescape=Td;wr.uniqueId=r_;wr.upperCase=bd;wr.upperFirst=wd;wr.each=dl;wr.eachRight=_l;wr.first=eu;$d(wr,function(){var e={};Ri(wr,function(t,n){dt.call(wr.prototype,n)||(e[n]=t)});return e}(),{chain:false});wr.VERSION=o;kn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){wr[e].placeholder=wr});kn(["drop","take"],function(e,t){Cr.prototype[e]=function(n){n=n===a?1:Bt(Qc(n),0);var r=this.__filtered__&&!t?new Cr(this):this.clone();r.__filtered__?r.__takeCount__=Wt(n,r.__takeCount__):r.__views__.push({size:Wt(n,$),type:e+(r.__dir__<0?"Right":"")});return r};Cr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}});kn(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==R||n==j;Cr.prototype[e]=function(e){var t=this.clone();t.__iteratees__.push({iteratee:Vo(e,3),type:n});t.__filtered__=t.__filtered__||r;return t}});kn(["head","last"],function(e,t){var n="take"+(t?"Right":"");Cr.prototype[e]=function(){return this[n](1).value()[0]}});kn(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Cr.prototype[e]=function(){return this.__filtered__?new Cr(this):this[n](1)}});Cr.prototype.compact=function(){return this.filter(Fd)};Cr.prototype.find=function(e){return this.filter(e).head()};Cr.prototype.findLast=function(e){return this.reverse().find(e)};Cr.prototype.invokeMap=Ta(function(e,t){if("function"==typeof e)return new Cr(this);return this.map(function(n){return qi(n,e,t)})});Cr.prototype.reject=function(e){return this.filter(zl(Vo(e)))};Cr.prototype.slice=function(e,t){e=Qc(e);var n=this;if(n.__filtered__&&(e>0||t<0))return new Cr(n);e<0?n=n.takeRight(-e):e&&(n=n.drop(e));if(t!==a){t=Qc(t);n=t<0?n.dropRight(-t):n.take(t-e)}return n};Cr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()};Cr.prototype.toArray=function(){return this.take($)};Ri(Cr.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=wr[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);if(!i)return;wr.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Cr,l=s[0],c=u||cc(t);var f=function(e){var t=i.apply(wr,Mn([e],s));return r&&d?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=false);var d=this.__chain__,_=!!this.__actions__.length,v=o&&!d,g=u&&!_;if(!o&&c){t=g?t:new Cr(this);var m=e.apply(t,s);m.__actions__.push({func:Yu,args:[f],thisArg:a});return new Or(m,d)}if(v&&g)return e.apply(this,s);m=this.thru(f);return v?r?m.value()[0]:m.value():m}});kn(["pop","push","shift","sort","splice","unshift"],function(e){var t=st[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);wr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(cc(i)?i:[],e)}return this[n](function(n){return t.apply(cc(n)?n:[],e)})}});Ri(Cr.prototype,function(e,t){var n=wr[t];if(n){var r=n.name+"",i=cn[r]||(cn[r]=[]);i.push({name:t,func:n})}});cn[bo(a,S).name]=[{name:"wrapper",func:a}];Cr.prototype.clone=Ar;Cr.prototype.reverse=Ir;Cr.prototype.value=Mr;wr.prototype.at=Qu;wr.prototype.chain=Ju;wr.prototype.commit=Xu;wr.prototype.next=Zu;wr.prototype.plant=tl;wr.prototype.reverse=nl;wr.prototype.toJSON=wr.prototype.valueOf=wr.prototype.value=rl;wr.prototype.first=wr.prototype.head;Ct&&(wr.prototype[Ct]=el);return wr};var kr=wr();true;un._=kr;!(i=function(){return kr}.call(t,n,t,r),i!==a&&(r.exports=i))}).call(this)}).call(t,n(7),n(57)(e))},91:function(e,t,n){"use strict";t["a"]=C;n.d(t,"b",function(){return A});n.d(t,"c",function(){return I});n.d(t,"e",function(){return M});n.d(t,"d",function(){return R});var r=n(72);var i=n.n(r);var a=n(73);var o=n.n(a);var s=n(942);var u=n.n(s);var l=n(189);var c=n.n(l);var f=n(43);var d=n(115);var _=n(3044);var v=n(78);var g=n(606);var m=n(398);var p=[];var h=3e4;var S=5e3;var y=2e3;var T=1e3;var b=function e(t){var n=Object(_["getEnvironment"])(t);var r="https://";var i="/clog/track/";switch(n.env){case _["DEVELOPMENT"]:case _["QA"]:return""+r+n.envSubdomain+".slack.com"+i;case _["STAGING"]:return""+r+n.env+".slack.com"+i;case _["PRODUCTION"]:default:return r+"slack.com"+i}};var w=function e(t,n,r,i,a,o,s){var u=s||null;"string"===typeof u&&(u=Object(v["queryStringParse"])(s,","));var l={tstamp:Date.now(),event:t,args:u};r&&(l.user_id=r);i&&(l.team_id=i);a&&(l.enterprise_id=a);if(l.args){l.args.team_id&&(l.team_id=l.args.team_id);l.args.user_id&&(l.user_id=l.args.user_id);l.args.enterprise_id&&(l.enterprise_id=l.args.enterprise_id)}o&&(l.i18n_locale=o);n.push(l);Object(d["g"])(T)&&Object(d["c"])(T,"Event called:",t,s)};var k=function e(t,n,r){var i=function e(t){return n+"?logs="+encodeURIComponent(JSON.stringify(t))};var a=[];var o=[];for(var s=0,u=t.length;s<u;s++){var l=t[s];var c=i(o.concat(l));if(c.length<=r)o.push(l);else{a.push(i(o));o=[l]}}o.length>0&&a.push(i(o));Object(d["g"])(T)&&Object(d["c"])(T,"URLs:",a);return a};var x=function e(t,n){var r=t.getAttribute("data-clog-event");if(!r){Object(f["warn"])("Logging clicks with data-clog-click requires a data-clog-event attribute");return null}var i={};var a={};var o=Object(v["queryStringParse"])(t.getAttribute("data-clog-params"),",");var s=t.getAttribute("data-clog-ui-action");if(s){c()(a,{ui_element:t.getAttribute("data-clog-ui-element"),action:t.getAttribute("data-clog-ui-action"),step:t.getAttribute("data-clog-ui-step"),ui_component:t.getAttribute("data-clog-ui-component")});i={contexts:{ui_context:a}}}switch(r.toUpperCase()){case"WEBSITE_CLICK":o.page_url=n;break;default:break}c()(i,o);return i};var E=function e(t){var n=void 0;if(m["isDesktop"]&&"object"===("undefined"===typeof t?"undefined":u()(t))){n=c()({},t);n.contexts=n.contexts||{};n.contexts.desktop=n.contexts.desktop||Object(m["getDesktopContext"])()}return n||t};var O=function(){function e(){i()(this,e);this.userId=null;this.teamId=null;this.enterpriseId=null;this.i18nLocale=null}o()(e,[{key:"setUser",value:function e(t){this.userId=t||this.userId;return this}},{key:"setTeam",value:function e(t){this.teamId=t||this.teamId;return this}},{key:"setEnterprise",value:function e(t){this.enterpriseId=t||this.enterpriseId;return this}},{key:"setLocale",value:function e(t){this.i18nLocale=t||this.i18nLocale;return this}},{key:"start",value:function e(){setInterval(this.sendDataAndEmptyQueue,h+Math.floor(Math.random()*S));this.addEventListeners();this.sendDataAndEmptyQueue()}},{key:"addEventListeners",value:function e(){window.addEventListener("beforeunload",this.sendDataAndEmptyQueue);window.addEventListener("pagehide",this.sendDataAndEmptyQueue);var t=this;Object(g["a"])("body","click",'[data-clog-click="true"], [data-clog-ui-action="click"], [data-clog-event=WEBSITE_CLICK]',function e(){var n=this;var r=x(n,location.href);if(null!==r){var i=this.getAttribute("data-clog-event");t.track(i,r)}})}},{key:"track",value:function e(t,n){w(t,p,this.userId,this.teamId,this.enterpriseId,this.i18nLocale,E(n))}},{key:"trackClick",value:function e(t,n,r){var i=this;var a=document.querySelector(t);if(null===a){Object(f["warn"])("Could not find node with selector '"+t+"' - cannot track click for this element");return null}a.addEventListener("click",function(){w(n,p,i.userId,i.teamId,i.enterpriseId,i.i18nLocale,E(r))});return true}},{key:"trackForm",value:function e(t,n,r){var i=this;var a=document.querySelector(t);if(null===a){Object(f["warn"])("Could not find node with selector '"+t+"' - cannot track form submit for this element");return null}a.addEventListener("submit",function(){w(n,p,i.userId,i.teamId,i.enterpriseId,i.i18nLocale,E(r))});return true}},{key:"trackClickWithContext",value:function e(t){if(!t||!t.event)return;var n={};t.element&&c()(n,{ui_context:{action:"click",ui_element:t.element}});t.contexts&&c()(n,t.contexts);this.track(t.event,{contexts:n})}},{key:"sendDataAndEmptyQueue",value:function e(){if(0===p.length)return;if(Object(d["g"])(T)){Object(d["c"])(T,"Sending clog data, emptying queue");Object(d["c"])(T,"Logs: ",p)}var t=k(p,b(location.host),y);for(var n=0,r=t.length;n<r;n++){var i=new Image;i.src=t[n];Object(d["g"])(T)&&Object(d["c"])(T,"Logged event: "+t[n])}p=[]}},{key:"getLogs",value:function e(){return p}},{key:"flushLogs",value:function e(){p=[]}}]);return e}();O.instance=null;function C(){null===O.instance&&(O.instance=new O);return O.instance}var A=C().track.bind(O.instance);var I=C().trackClick.bind(O.instance);var M=C().trackForm.bind(O.instance);var R=C().trackClickWithContext.bind(O.instance)},942:function(e,t,n){"use strict";t.__esModule=true;var r=n(1336);var i=u(r);var a=n(1348);var o=u(a);var s="function"===typeof o.default&&"symbol"===typeof i.default?function(e){return typeof e}:function(e){return e&&"function"===typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function u(e){return e&&e.__esModule?e:{default:e}}t.default="function"===typeof o.default&&"symbol"===s(i.default)?function(e){return"undefined"===typeof e?"undefined":s(e)}:function(e){return e&&"function"===typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":"undefined"===typeof e?"undefined":s(e)}}},[2574]);