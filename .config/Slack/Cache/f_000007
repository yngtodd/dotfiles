webpackJsonp([25,273,260],{1336:function(e,n,t){e.exports={default:t(7359),__esModule:true}},1348:function(e,n,t){e.exports={default:t(7370),__esModule:true}},236:function(e,n){(function(){TS.registerModule("i18n",{onStart:function e(){TS.interop.i18n.getReverseKeyCodeMap();if(TS.prefs){TS.prefs.keyboard_changed_sig.add(i);setTimeout(t,0)}TS.generic_notification_banner&&!TS.boot_data.modernized_banners&&TS.generic_notification_banner.banner_to_show_sig.add(r);window.signals?TS.i18n.keyboard_changed_sig=new signals.Signal:TS.i18n.keyboard_changed_sig={add:function e(){},remove:function e(){},dispatch:function e(){}};if(TS.model&&TS.model.is_our_app&&TS.interop.desktop.canAutoGetKeyboard()){var n=desktop.app.getLocaleInformation().currentKeyboardLayout;n&&TS.interop.clog.track("I18N_KEYBOARD",{keyboard:n})}},keyboard:function n(){if(!e)if(TS.interop.desktop.canAutoGetKeyboard()){e=TS.interop.i18n.normalizeKeyboardFromDesktop(desktop.app.getLocaleInformation().currentKeyboardLayout);desktop.app.onDidChangeKeyboardLayout(o)}else{if(!TS.prefs.prefs_loaded)return"en-US";e=TS.prefs.getPref("keyboard")||"en-US"}return e},sendButtonEnabled:function e(){return(TS.interop.i18n.localeSupportsSendButton()||TS.boot_data.feature_send_button_for_everyone)&&TS.prefs&&TS.prefs.getPref("msg_input_send_btn")},setUpStaticTranslations:function e(){return a()},getStaticTranslation:function e(n,t){if(!s())return null;var r=TS.storage.fetchStaticTranslations();var a=_.get(r,"data."+t);if(!a||!a[n])return null;return a[n]}});var e;var n=0;var t=function e(){if(TS.client&&!TS.prefs.getPref("seen_locale_change_message")){if(window.desktop&&void 0===window.teamId&&n<100){n+=1;setTimeout(e,50);return}if(!window.desktop||window.desktop.reduxHelper&&window.desktop.reduxHelper.isSelectedTeam&&window.desktop.reduxHelper.isSelectedTeam())TS.interop.api.call("slackbot.sendLocalizationMessage");else{TS.prefs.setPrefLocal("seen_locale_change_message",2);TS.prefs.setPrefByAPI({name:"seen_locale_change_message",value:2})}}};var r=function e(n){if("i18n_japan_beta_send_btn_banner"===n.name){var t=function e(){var n=TS.generic_notification_banner.getPref("i18n_japan_beta_send_btn_banner_cta_count")+1;var t=Math.floor(Date.now()/1e3);TS.generic_notification_banner.setPrefs({i18n_japan_beta_send_btn_banner_cta_count:n,i18n_japan_beta_send_btn_banner_cta_last_ts:t});TS.prefs.msg_input_send_btn_changed_sig.remove(e);TS.prefs.msg_input_send_btn_auto_set_changed_sig.remove(e);TS.generic_notification_banner.is_showing&&TS.generic_notification_banner.close()};TS.prefs.msg_input_send_btn_changed_sig.add(t);TS.prefs.msg_input_send_btn_auto_set_changed_sig.add(t);var r=TS.interop.i18n.t("Just for Japan: a button for sending","send_btn")();var a=TS.interop.i18n.t('Send a message with a quick click, or by pressing {keys}</br>\t\t\tDon\u2018t like the change? You can always switch back in <button id="send_btn_link_prefs" class="{class}">your preferences</button>.',"send_btn","a24238c9e64b0da0daa15baf2c6d29478d3f1e8f")({keys:TS.interop.i18n.safeString('<span class="c-keyboard_key c-keyboard_key--slim">'+(TS.model.is_mac?"\u2318":"Ctrl")+'</span>\n\t\t\t<span class="c-keyboard_key c-keyboard_key--slim">Enter</span>'),class:"btn_link"});TS.generic_notification_banner.start({h1_copy:r,h2_copy:a,show_go_button:true,go_button_text:TS.interop.i18n.t("Got It","send_btn")(),onGo:t,show_go_link_button:false,show_close_button:false});$("#send_btn_link_prefs").on("click",function(){TS.ui.prefs_dialog.start("advanced","#msg_input_send_btn_label");t()})}};var a=function e(){if(s())return Promise.resolve();return TS.interop.api.call("i18n.translations.get").then(function(e){var n=e.data;if(!n||!n.ok){TS.error("Failed to fetch static i18n translations, recieved this response: ",e);return}TS.model.static_translations_cache_ts=n.cache_ts;TS.storage.storeStaticTranslations({data:n,cache_ts:TS.model.static_translations_cache_ts,locale:n.locale})})};var o=function n(t){e=TS.interop.i18n.normalizeKeyboardFromDesktop(t);TS.i18n.keyboard_changed_sig.dispatch();TS.interop.clog.track("I18N_KEYBOARD_CHANGE",{keyboard:t})};var i=function n(){if(!TS.model.is_our_app){e=TS.prefs.getPref("keyboard");TS.i18n.keyboard_changed_sig.dispatch()}};var s=function e(){var n=TS.storage.fetchStaticTranslations();if(!n)return false;if(TS.model.static_translations_cache_ts!==n.cache_ts)return false;if(TS.interop.i18n.locale!==n.locale)return false;return true}})()},2453:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:true});var r=t(2454);var a=t(2455);var o=t.n(a);var i=t(2456);var s=t.n(i);var l=t(2473);var c=t.n(l);var _=t(2457);var u=t.n(_);var d=t(2458);var f=t.n(d);var m=t(236);var p=t.n(m);var g=t(2459);var S=t.n(g);var h=t(2460);var T=t.n(h);var v=t(357);var b=t.n(v);var w=t(646);var y=t(2461);var k=t(2462);var j=t.n(k);var x=t(2463);var O=t.n(x)},2454:function(e,n,t){"use strict";var r=t(942);var a=t.n(r);(function(){var e=function e(n,t){var r=_.get(window,"TS.model.team.id")||_.get(window,"TS.boot_data.team_id","none");var a=_.get(window,"TS.model.user.id")||_.get(window,"TS.boot_data.user_id","none");var o={description:t,error_json:JSON.stringify(n),team:r,user:a,version:TS.boot_data.version_ts};$.post(TS.boot_data.beacon_error_url,o)};var n=function e(n,t,r){if(!window.console||!console[n])return;var a=TS.qs_args.clean_log;var i=null!==t;r=Array.prototype.slice.call(r);if(i){if(!TS.console.shouldLog(t))return;r.splice(0,1)}r=_.map(r,function(e){return o(e)});var s=true;var l=r.length;while(s&&l){l-=1;s="string"===typeof r[l]}if(a&&"error"!==n&&(t!==parseInt(TS.qs_args.pri,10)||!i))return;if(s){var c=TS.makeLogDate();i&&!a&&(c+="[** "+t+" **]");r.unshift(c);console[n](r.join(" "))}else console[n].apply(console,r)};window.TS||(window.TS={});TS.console={onStart:function e(){TS.console.setAppropriatePri(true);TS.console.watchForErrors()},count:function e(){n("count",null,arguments)},dir:function e(n,t,r){if(!window.console||!console.dir)return;if(n&&!TS.shouldLog(n))return;r=r||"";t=o(t);var a=parseInt(TS.qs_args.dir_json,10);if(a){var i=1==a?"2000":a;try{var s=JSON.stringify(t,null,"  ");if(s.length>i)throw new Error("too long");console.info(TS.makeLogDate()+"[** "+n+" **] "+r+" "+s);return}catch(e){if("too long"!==e){console.info(TS.makeLogDate()+"[** "+n+" **] "+r+" "+t);return}}}try{var l=_.cloneDeep(t);console.info(TS.makeLogDate()+"[** "+n+" **] "+r+" \ud83d\udc47");console.dir(l)}catch(e){TS.warn("could not dir ob:"+t+" err:"+e)}},error:function e(){n("error",null,arguments)},group:function e(){n("group",null,arguments)},groupCollapsed:function e(){n("groupCollapsed",null,arguments)},groupEnd:function e(){n("groupEnd",null,arguments)},maybeError:function e(t){n("error",t,arguments)},getStackTrace:function e(){var n="dev"===_.get(TS,"boot_data.version_ts")||_.get(TS,"qs_args.js_path");var t=(new Error).stack;if(n){var r=new Error;var a=Promise.resolve();if(_.isFunction(a._attachExtraTrace)){a._attachExtraTrace(r);t=r.stack||"";var o=t.split("\n");if(o.length&&o.indexOf("From previous event:")>=0){var i=o.indexOf("From previous event:")+1;t=[o[0]].concat(o.slice(i)).join("\n")}}}var s;s=t?t.split&&t.split("\n")||["[could not parse stack]",t]:["no stacktrace available"];s=_.filter(s,function(e){if(0===e.indexOf("Error"))return false;return e.trim().length&&-1===e.indexOf("StackTrace")});s=_.map(s,function(e){return e.trim()});var l=s.join("\n");return l},info:function e(){n("info",null,arguments)},log:function e(t){n("log",t,arguments)},logError:function n(t,r,a,o){var i=t instanceof Error?t:new Error;var s={subtype:a||"none",message:t instanceof Error?t.message||t.description:JSON.stringify(t),fileName:i.fileName||i.sourceURL,lineNumber:i.lineNumber||i.line,stack:i.stack||i.backtrace||i.stacktrace};var l=JSON.stringify(s);e(s,r);!o&&window.console&&console.error&&console.error(TS.makeLogDate()+"logging error: "+l)},logStackTrace:function e(n){var t=_.isUndefined(n)?"":n+"\n";TS.console.info(t+"Stacktrace: \u21b4\n",TS.console.getStackTrace())},logStackTraceToBackEnd:function n(t,r,a){if(!r||!t||_.isUndefined(a)){TS.console.warn("Invalid parameters, will not log stack trace");return}var o=TS.console.getStackTrace();var i=_.get(o.split("\n"),"[1]")||"(unknown)";TS.metrics.count(r+"_v"+a);var s={message:t+". Immediate caller: "+i,stack:o};var l=i.match(/\((.+):(\d+:\d+)\)/);if(l&&3==l.length){s.fileName=l[1];s.lineNumber=l[2]}var c=r+"_caller_v"+a;e(s,c)},profile:function e(){n("profile",null,arguments)},profileEnd:function e(){n("profileEnd",null,arguments)},replaceConsoleFunction:function e(t){var r=n;n=t;return r},setAppropriatePri:function e(n){var r="";TS.qs_args.pri&&(r+=TS.qs_args.pri);if(n&&TS.boot_data.client_logs_pri){""!==r&&(r+=",");r+=TS.boot_data.client_logs_pri}if(TS.model&&TS.prefs&&TS.prefs.prefs_loaded&&TS.prefs.getPref("client_logs_pri")){""!==r&&(r+=",");r+=TS.prefs.getPref("client_logs_pri")}""!==r&&(r+=",");r+="0";TS.pri=_.uniq(r.split(",")).join(",");t()},shouldLog:function e(n){var t=String(TS.pri).split(",");if(-1!==t.indexOf("all")||-1!==t.indexOf("*"))return true;if(-1!==t.indexOf(String(n)))return true;return"undefined"!==typeof TS.has_pri[n]},table:function e(){n("table",null,arguments)},time:function e(){n("time",null,arguments)},timeEnd:function e(){n("timeEnd",null,arguments)},timeStamp:function e(){n("timeStamp",null,arguments)},warn:function e(){n("warn",null,arguments)},maybeWarn:function e(t){n("warn",t,arguments)},watchForErrors:function e(){if(!TS.boot_data||!TS.boot_data.feature_beacon_js_errors)return;var n=true;var t=_.throttle(s,1e4);window.addEventListener("error",t,n)},trace:function e(){n("trace",null,arguments)},maybeTrace:function e(t){n("trace",t,arguments)},test:function e(){return{_maybeRedactFields:o,_windowErrorHandler:s}}};var t=function e(){var n=String(TS.pri).split(",");TS.has_pri=_(Object.keys(TS.boot_data.client_logs||{})).filter(function(e){var t=TS.boot_data.client_logs[e];return n.some(function(e){if("*"===e)return true;if(t.numbers.indexOf(parseInt(e,10))>-1)return true;if(t.name&&t.name.indexOf(e)>-1)return true;if(t.owner&&t.owner.indexOf(e)>-1)return true;return false})}).map(function(e){if(parseInt(e,10)>=0)return parseInt(e,10);return e}).keyBy(function(e){return e}).value()};var r={name:1,_name_lc:1,real_name:1,_real_name_lc:1,real_name_normalized:1,_real_name_normalized_lc:1,display_name:1,_display_name_lc:1,display_name_normalized:1,_display_name_normalized_lc:1,first_name:1,_first_name_lc:1,last_name:1,_last_name_lc:1,preferred_name:1,full_name:1,email:1,skype:1,status_text:1,title:1,src:1,text:1,msgs:1};var o=function e(n,t){if(!TS.boot_data||TS.boot_data.feature_tinyspeck||"dev"===TS.boot_data.version_ts)return n;if(!n||!_.isObject(n))return n;t?t+=1:t=1;if(t>=10)return n;var a;a=_.isArray(n)?[]:{};_.each(n,function(n,o){r[o]?a[o]="[redacted "+i(n)+"]":a[o]=e(n,t)});return a};var i=function(e){var n={};return function(t){var r="undefined"===typeof t?"undefined":a()(t);if(null===t)return"null";if(t===e)return"global";if("object"!==r)return r;if(t.nodeType)return"DOM node";var o=n[r={}.toString.call(t)]||(n[r]=r.slice(8,-1).toLowerCase());return o}}(this);var s=function e(){var n=arguments&&arguments[0];var t;var r="";var a;var o=true;if(!n)return;r="";t=n.srcElement||n.target;if(t&&t.nodeName)if("SCRIPT"===t.nodeName)r=(n.type||"error")+" from script at "+t.src+" (failed to load?)";else if("IMG"===t.nodeName){TS.pri&&TS.console&&TS.console.warn&&TS.console.warn("<img> fired error with url = "+(t.src||t.currentSrc||"unkonwn"));return}n.error&&n.error.stack?r+=n.error.stack:n.filename&&(r=" from "+n.filename+(n.lineno?" @ line "+n.lineno+", col "+n.colno:""));a=(n.error&&n.error.stack?"":n.message||"")+" "+r;a&&a.replace&&(a=a.replace(/\s+/g," ").trim());if(!a||!a.length){a=t?"error event from node of "+(t.nodeName||"unknown")+", no message provided?":"error event fired, no relevant message or node found";o=false}a="\ud83d\udc1e "+a;(window.TS&&TS.console&&TS.console.error||window.console.error||function(){})(a);if(window.TS&&TS.console&&o){var i="js_runtime_error";var s=false;TS.console.logError(n.error||n,a,i,s)}t=null;a=null}})()},2455:function(e,n){(function(){var e=window.TS&&TS.raw_templates;var n=window.TS&&TS.console;var t=0;var r;var a;window.TSM&&window.TSM.interop||console.error("TSM.interop not found, app almost certainly will not boot properly");window.TS={boot_data:{},qs_args:{},pri:0,has_pri:{},console:n,ms:{},interop:window.TSM&&window.TSM.interop,boot:function e(n){if("serviceWorker"in navigator&&window&&"undefined"!==typeof window.caches){TS.metrics.count("sw_mess_will_check");navigator.serviceWorker.getRegistration("/service-worker.js").then(function(e){TS.metrics.count("sw_mess_did_check");if(!e){TS.metrics.count("sw_mess_noop");return false}return e.unregister().then(function(e){e?TS.metrics.count("sw_mess_unreg_ok"):TS.metrics.count("sw_mess_unreg_fail");return e})})}window.TSSSB&&TSSSB.encounteredServiceWorkerBug&&TS.interop.environment.isSSB()&&TS.metrics.count("sw_mess_ssb_bug");O();a=new Promise(function(e){r=e});TS.boot_data=n;TS.qs_args.js_path&&(TS.boot_data.version_ts="local_js");TS.console.onStart();TS.client&&TS.client.setClientLoadWatchdogTimer();TS.model.api_url=TS.boot_data.api_url;TS.model.async_api_url=TS.boot_data.async_api_url;TS.model.api_token=TS.boot_data.api_token;TS.model.webhook_url=TS.boot_data.webhook_url;TS.boot_data.page_needs_enterprise&&(TS.model.enterprise_api_token=TS.boot_data.enterprise_api_token);TS.interop.console.info("BOOT","booted! pri:"+TS.pri+" version:"+TS.boot_data.version_ts+" start_ms:"+TS.boot_data.start_ms+" ("+(Date.now()-TS.boot_data.start_ms)+"ms ago)");TS.web&&TS.web.space&&TS.web.space.showFastPreview();if(TS.incremental_boot.shouldIncrementalBoot()){TS.interop.console.info("BOOT","Starting incremental boot (early)");h=TS.incremental_boot.startIncrementalBoot()}TS.redux.onStart();TS.redux.onStart=_.noop;TS.interop.clog.instance.setUser(TS.boot_data.user_id).setTeam(TS.boot_data.team_id).setEnterprise(TS.boot_data.enterprise_id).setLocale(TS.interop.i18n&&TS.interop.i18n.locale).start();$(document).ready(B)},useReactMessages:function e(){return true},useReactLFS:function e(){return TS.boot_data.feature_react_lfs},useGlobalNav:function e(){return TS.boot_data.feature_global_nav&&"treatment"===TS.experiment.getGroup("global_nav")},registerModule:function e(n,t,r){z(t);if(v)return TS.error('module "'+n+'" must be registered on before dom ready');if(E[n])return TS.error('module "'+n+'" already exists');var a=o(n,t,"module");if(void 0===a){r?TS.error('module "'+n+'" cannot be registered after delay; "'+n.split(".").slice(0,-1).join(".")+'" is not registered'):C[n]=t;return}t._name=n;E[n]=t},registerComponent:function e(n,r){if(v)return TS.error('component "'+n+'" must be registered on before dom ready');if(A[n])return TS.error('component "'+n+'" already exists');"function"===typeof r&&(r=r());if("function"!==typeof r.destroy)return TS.error('component "'+n+'" cannot be registered as it does not have a destroy method');var a=function e(){this._constructor&&this._constructor.apply(this,arguments);if(!this.id){this.id=n+"_auto_guid_"+t;t+=1}this.test&&i()?this.test=void 0:"function"===typeof this.test&&(this.test=this.test());e._add(this.id,this)};var s=o(n,a,"component");if(void 0===s){M[n]=r;return}var l=r.destroy;r.destroy=function(){a._remove(this.id);l.call(this)};a.prototype=Object.create(r);a.instances={};a._name=n;A[n]=a;a._add=function(e,t){A[n].instances[e]&&TS.warn("A "+n+" component with the instance id "+e+"already exists");A[n].instances[e]=t};a._remove=function(e){A[n].instances[e]=null};a.get=function(e){return A[n].instances[e]};a.getAll=function(){return A[n].instances}},makeLogDate:function e(){if(window.TSMakeLogDate)return TSMakeLogDate();return"(TSMakeLogDate not loaded) "},shouldLog:function e(n){return TS.console.shouldLog(n)},replaceConsoleFunction:function e(n){return TS.console.replaceConsoleFunction(n)},log:function e(n){if(TS.shouldLog(n)){var t=G(n,"log");var r=V(n,arguments);TS.interop.console.info(t,[].slice.call(r,0))}},info:function e(){TS.interop.console.info("info",[].slice.call(arguments,0))},maybeWarn:function e(n){TS.console.maybeWarn.apply(this,[].slice.call(arguments,0))},warn:function e(){TS.interop.console.warn([].slice.call(arguments,0))},dir:function e(n,t,r){TS.console.dir.apply(this,[].slice.call(arguments,0))},maybeError:function e(n){TS.console.maybeError.apply(this,[].slice.call(arguments,0))},error:function e(){TS.interop.console.error([].slice.call(arguments,0))},logError:function e(n,t,r,a){TS.console.logError.apply(this,[].slice.call(arguments,0))},getQsArgsForUrl:function e(n){if(!n&&b)return b;b="";for(var t in TS.qs_args){if("export_test"===t)continue;b+="&"+t+"="+encodeURIComponent(TS.qs_args[t])}return b},getOtherAccountsCount:function e(){var n=0;if(!TS.boot_data.other_accounts)return n;n=Object.keys(TS.boot_data.other_accounts).length;return n},refreshTeams:function e(){if(!TS.boot_data)return;if(!TS.model)return;if(!TS.model.team)return;if(!TS.model.user)return;TS.interop.api.call("auth.currentSessions").then(function(e){var n=e.data;TS.boot_data.other_accounts={};for(var t in n.accounts){if(t==TS.model.user.id)continue;TS.boot_data.other_accounts[t]=n.accounts[t]}}).catch(function(e){if(TS.console&&TS.console.warn&&TS.console.error){TS.warn(8675309,"unable to do anything with refreshTeams rsp");TS.error(8675309,e)}})},reload:function e(n,t,r){if(n){TS.info("TS.reload called: "+n);TS.generic_dialog.start({title:TS.interop.i18n.t("Reloading!","ts")(),body:n,show_cancel_button:false,esc_for_ok:true,onGo:function e(){TS.reload()}});return}t&&(t=JSON.stringify(t));TS.info("TS.reload() called: "+(t||"no reason specified"));TS.console&&TS.console.logStackTrace();window.location.reload(r)},reloadIfLoggedInAndShouldReload:function e(n){if(TS.model.ms_logged_in_once&&n.should_reload){TS.reload(null,"rtm.shouldReload said so");return true}return false},reloadIfVersionsChanged:function e(n){if(TS.model.ms_logged_in_once&&n.min_version_ts&&"dev"!==TS.boot_data.version_ts&&parseInt(TS.boot_data.version_ts,10)<parseInt(n.min_version_ts,10)){TS.reload(null,"parseInt(TS.boot_data.version_ts) < parseInt(data.min_version_ts)");return true}if(TS.model.ms_logged_in_once&&n.cache_version&&n.cache_version!=TS.storage.msgs_version){TS.reload(null,"data.cache_version "+n.cache_version+" != TS.storage.msgs_version "+TS.storage.msgs_version);return true}return false},isPartiallyBooted:function e(){return!!(TS._incremental_boot||TS._did_incremental_boot&&!TS._did_full_boot)},ensureFullyBooted:function e(){return a},test:function e(){var e={_registerDelayedComponentsAndModules:I,_deleteModule:function e(n){delete TS[n];delete E[n]},_deleteComponent:function e(n){delete TS[n];delete A[n]}};return e}};delete window.TSM;var o=function e(n,t,r){var a=n;var o=TS;var i=a.split(".");var s=i.length-1;if(s>=3)TS.error(r+' "'+a+'" cannot be registered, as we only support a depth of two sub modules right now');else if(s){a=i[s];var l=0;for(l;l<s;l+=1){i[l]||TS.error(r+' "'+n+'" cannot be registered because of a bad name');o=o[i[l]];if(void 0===o)return o}}void 0!==o[a]?TS.error(r+' "'+n+'" cannot be registered; "'+a+'" already exists on "'+(o._name||"TS")+'"'):o[a]=t;return o};if(e){TS.raw_templates=e;e=null}var i=function e(){return!("undefined"!==typeof window.jasmine||"dev"===TS.boot_data.version_ts&&TS.qs_args.export_test)};var s=function e(){var n=c();T=n;if(!h){TS.info("Starting non-incremental boot");return l(n)}var t=h;h=void 0;return t.then(function(e){e.data.emoji_cache_ts=_.get(TS.storage.fetchCustomEmoji(),"cache_ts");e.data.apps_cache_ts=_.get(TS.storage.fetchApps(),"cache_ts");e.data.commands_cache_ts=_.get(TS.storage.fetchCmds(),"cache_ts");e.data.translations_cache_ts=_.get(TS.storage.fetchStaticTranslations(),"cache_ts");return e}).catch(function(){TS.info("Recovering from incremental boot error");T=void 0;return l(n)})};var l=function e(n){return n.catch(function(e){d(e);throw e})};var c=function e(){if(TS.qs_args.no_rtm_start)return new Promise(function(n,t){TS.resumeRTMStart=function(){delete TS.resumeRTMStart;delete TS.qs_args.no_rtm_start;e().then(function(e){n(e)}).catch(t)}});if(TS.boot_data.rtm_start_response&&!TS.qs_args.no_rtm_start_response){var n=Promise.resolve({ok:true,args:TS.boot_data.rtm_start_response.args,data:TS.boot_data.rtm_start_response.data});delete TS.boot_data.rtm_start_response;return n}return k().then(function(e){TS.has_pri[W]&&TS.log(W,"Flannel: got rtm.start response \ud83d\udc95");return{ok:true,args:{},data:e}})};var u=function e(n){switch(n){case"user_removed_from_team":TS.warn("You have been removed from the "+TS.interop.rules.teams.getTeamDisplayName(TS.model.team)+" team.");TS.client&&TS.client.userRemovedFromTeam(TS.model.team.id);break;case"account_inactive":case"team_disabled":case"invalid_auth":TS.interop.desktop.invalidateAuth();TS.reload(null,"Reloading due to error "+n);break;case"force_reload":var t=true;TS.reload(null,"Reloading because Flannel told us to",t);break;case"clear_cache":case"org_login_required":case"team_added_to_org":var r=true;TS.storage.flush(r);TS.reload(null,"Flushing storage and reloading due to '"+n+"' error");break;case"ratelimited":R();break;default:TS.logError(new Error("Unexpected start error: "+n),JSON.stringify({error:n,host:window.location.hostname,path:window.location.pathname}),"flannel_start_error")}};var d=function e(n){var t=n.data&&n.data.error;t&&u()};var f=function e(n){TS.boot_data.feature_tinyspeck&&TS.interop.console.info("BOOT","Got rtm.start login data");TS.model.emoji_cache_ts=n.data.emoji_cache_ts;TS.model.apps_cache_ts=n.data.apps_cache_ts;TS.model.commands_cache_ts=n.data.commands_cache_ts;TS.model.static_translations_cache_ts=n.data.translations_cache_ts;if(!n.data.self){TS.error("No self?");return}if(!n.data.team){TS.error("No team?");return}TS.boot_data.feature_tinyspeck&&TS.interop.console.info("BOOT","Setting up model");return N(n.data,n.args).then(function(){TS.boot_data.feature_tinyspeck&&TS.interop.console.info("BOOT","Model did set up; setting up apps");TS.apps.setUp();TS.boot_data.feature_tinyspeck&&TS.interop.console.info("BOOT","Setting up commands");TS.cmd_handlers.setUpCmds();TS.boot_data.feature_tinyspeck&&TS.interop.console.info("BOOT","Setting up static translations");TS.i18n.setUpStaticTranslations();TS.boot_data.feature_tinyspeck&&TS.interop.console.info("BOOT","Setting up UI");m();TS.boot_data.feature_tinyspeck&&TS.interop.console.info("BOOT","Finding initial channel");TS.client&&TS.client.calculateInitialCid();TS.boot_data.feature_tinyspeck&&TS.interop.console.info("BOOT","Setting up emoji and shared channels");if(TS.model.user.is_restricted){var e=_([n.data.mpims,n.data.ims]).flatten().map(function(e){return e.members||[e.user]}).flatten().concat(TS.model.guest_accessible_user_ids,TS.model.user.id).compact().uniq().value();var t=true;TS.members.legacySetAccessibleUserIds(e,t);TS.members.legacyMaybeFetchAccessibleUserIds()}TS.emoji.bootEmoji()}).then(function(){TS.boot_data.feature_tinyspeck&&TS.interop.console.info("BOOT","Nearly there! Finalizing...");TS.model.ms_logged_in_once||p(n.data);TS.client&&TS.client.onEveryLoginMS(n.data);TS.web&&TS.web.onEveryLoginMS(n.data);S();J(n.data);var e;e=TS._did_incremental_boot?TS.model.ms_logged_in_once:!TS.model.ms_logged_in_once;if(e&&r){TS.boot_data.feature_tinyspeck&&TS.interop.console.info("BOOT","Divine clementine, we are finalizing a full boot!");r();r=null;TS.interop.desktop.didFinishLoading();L&&TS.interop.console.info("BOOT","Finished first boot "+Math.ceil(performance.now()-L)+" ms after DOM ready")}TS.model.ms_logged_in_once=true;TS.boot_data.feature_tinyspeck&&TS.interop.console.info("BOOT","Holy guacamole, we\u2019re all done!");TS.log(123,"User id: "+_.get(TS.boot_data,"user_id")+", team id: "+_.get(TS.model,"team.id"))}).catch(function(e){TS.error("_setUpModel failed with err: "+(e?e.message:"no err provided"));TS.dir(e);TS.info(e.stack);TS._last_boot_error=e})};var m=function e(){TS.ui.setThemeClasses();TS.client&&TS.client.updateTeamIcon()};var p=function e(n){TS.boot_data.feature_tinyspeck&&TS.interop.console.info("BOOT","_finalizeFirstBoot");if(TS.model.ms_logged_in_once){TS.warn("_finalizeFirstBoot called, but we have already done this before. This is a progamming error.");return}if(TS.client){TS.client.onFirstLoginMS(n);if(TS.isPartiallyBooted()){g(T);T=void 0}else TS.incremental_boot.afterFullBoot();TS.has_pri["1996"]=true}TS.web&&TS.web.onFirstLoginMS(n)};var g=function e(n){TS.interop.console.info("BOOT","Finalizing incremental boot");TS.incremental_boot.beforeFullBoot();l(n).then(function(e){f(e);TS.incremental_boot.afterFullBoot();TS.interop.console.info("BOOT","Completed incremental boot")}).catch(function(e){TS.error("Tried to finalize incremental boot, but rtm.start failed. Will recover when we reconnect.");throw e})};var S=function e(){if(TS.isPartiallyBooted()){TS.boot_data.feature_tinyspeck&&TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS not connecting to MS until we complete incremental boot");return}if(!TS.interop.Flannel.useSocket()){TS.boot_data.feature_tinyspeck&&TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS will not connect to MS");return}TS.boot_data.feature_tinyspeck&&TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS wants to connect to MS");if(TS.redux.socket.isProvisionallyConnected()){TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS will finalize SocketManager");try{TS.interop.SocketManager.finalizeProvisionalConnection();TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS did finalize SocketManager")}catch(e){TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS failed to finalize SocketManager");var n=true;TS.console.logError(e,"sm_finalize_failed_2",void 0,n);TS.interop.SocketManager.disconnect()}}else{TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS wanted to finalize SocketManager but it had no provisional connection");if(TS.redux.socket.hasNeverConnected()){"calls"===TS.boot_data.app?TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS: opening our SocketManager connection now"):TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS: we have never had a connection. This should not happen!");k().then(function(e){f({ok:true,args:{},data:e})})}else if(!TS.redux.socket.wasPreviouslyConnected()){TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS: we had a connection but it is gone for some reason; wait for it to come back");TS.redux.socket.provisionallyConnectedSig.addOnce(function(){return e()})}}TS.boot_data.feature_tinyspeck&&TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS did connect to MS")};var h;var T;TS.qs_args=function(){var e=location.search.substring(1);var n={};var t;t=e.split("&");for(var r=0;r<t.length;r+=1){var a=t[r].indexOf("=");if(-1!=a){var o=t[r].substring(0,a);var i=t[r].substring(a+1);n[o]=unescape(i)}else t[r].length&&(n[t[r]]="")}return n}();TS.pri=TS.qs_args.pri?TS.qs_args.pri+",0":TS.pri;_.each(TS.pri&&TS.pri.split(","),function(e){e&&(TS.has_pri[e]=true)});var v=false;var b;var w=function e(){TS.redux.socket.connectedSig.addOnce(function(){TS.redux.socket.provisionallyConnectedSig.add(function(e){y(e).then(function(e){TS.info("Successfully hydrated start data from Socket Manager; processing it");f({ok:true,args:{},data:e})})})})};var y=function e(n){return n.then(function(e){TS.info("Got start data from Socket Manager; hydrating it");return TS.redux.dispatch(TS.interop.boot.data.hydrateStartData({startData:e}))})};var k=function e(){if(!TS.redux.socket.hasNeverConnected()){var n=new Error("_connectAndFetchStartDataWithSocketManager can only be called if Socket Manager has never connected");TS.console.logError(n,"_connectAndFetchStartDataWithSocketManager called too many times");return Promise.reject(n)}TS.redux.socket.socketErrorMessageReceivedSig.add(u);var t=new Promise(function(e){function n(t){y(t).then(function(t){TS.redux.socket.connectedSig.addOnce(function(){TS.redux.socket.provisionallyConnectedSig.remove(n)});e(t)}).catch(function(e){TS.warn("Unable to get start data from socket");TS.logError(e)})}TS.redux.socket.provisionallyConnectedSig.add(n)});TS.has_pri["1996"]=true;TS.interop.Eventlog.createInstanceForTeam(TS.boot_data.team_id);TS.interop.SocketManager.start(TS.boot_data.api_token);return t};var j=function e(n){TS.interop.Flannel.useSocket()&&w();P();v=true;TS.model.is_our_app&&U();TS.ui.setUpWindowUnloadHandlers();"client"===TS.boot_data.app?TS.client.gogogo():"web"!==TS.boot_data.app&&"space"!==TS.boot_data.app&&"calls"!==TS.boot_data.app||TS.web.gogogo();if(TS.boot_data.no_login){TS.info("running without a user");TS.web&&TS.web.no_login_complete_sig.dispatch()}else n?f(n):TS.error("_initialDataFetchesComplete expected to receive rtm.start data; we cannot continue.")};var x=function e(){if(!window.sessionStorage)return;try{var n=TS.client?"session_load_count_client":"session_load_count_web";var t=parseInt(sessionStorage.getItem(n)||0,10)+1;sessionStorage.setItem(n,t);TS.log(123,n+": "+t);TS.metrics.store(n,t,{is_count:true})}catch(e){TS.warn("could not log session load count: "+e)}};var O=function e(){window.devtoolsFormatters=window.devtoolsFormatters||[];window.devtoolsFormatters.push({header:function e(n){if(!n||!n._is_interop_channel_object||!window._)return null;var t=_.omitBy(_.assign({},n),_.isNil);return["object",{object:t}]},hasBody:function e(){return false}})};var E={};var C={};var A={};var M={};var L;var B=function e(){L=performance.now();TS.log(123,"_onDOMReady");x();if(TS.qs_args.ws_flakiness)try{var n=parseFloat(TS.qs_args.ws_flakiness);TS.interop.SocketManager.debugSetSocketConnectFlakiness(n)}catch(e){}if(window.desktop&&desktop.downloads){TS.model.supports_downloads=true;TS.model.flex_names.push("downloads")}TS.client||TS.info("no TS.client on page:"+document.location.href);soundManager.ignoreFlash=true;soundManager.setup({url:"/img/sm/",debugMode:false});TS.storage.onStart();I();TS.redux.members.onStart();TS.redux.members.onStart=_.noop;TS.interop.setTeamIdForToken(TS.boot_data.api_token,TS.boot_data.team_id);if(TS.interop&&TS.interop.console&&TS.interop.console.setRedactionEnabled){var t=!TS.boot_data.feature_tinyspeck;TS.interop.console.setRedactionEnabled(t)}var r=TS.boot_data.no_login?Promise.resolve():s();var a=[F(),r];TS.boot_data.page_needs_enterprise&&!TS.boot_data.no_login&&a.push(TS.redux.enterprise.getEnterpriseOrgInfo());Promise.all(a).then(function(){r.then(j);return null})};var F=function e(){if(window.TS&&TS.raw_templates&&Object.keys(TS.raw_templates).length>0)return Promise.resolve();var n;n=TS.boot_data.hbs_templates_version&&"dev"!==TS.boot_data.version_ts?TS.boot_data.hbs_templates_version:"dev"===TS.boot_data.version_ts?Date.now():TS.boot_data.version_ts;var t="/templates.php?cb="+n+TS.getQsArgsForUrl();TS.boot_data.template_groups&&(t+="&template_groups="+TS.boot_data.template_groups);TS.boot_data.template_exclude_feature_flagged&&(t+="&template_exclude_feature_flagged=1");if(/&locale=[a-zA-Z-]/.test(t)){t=t.replace(/\?locale=[a-zA-Z-]*&/,"?").replace(/[?|&]locale=[a-zA-Z-]*/,"");t=t.replace(/&locale=[a-zA-Z-]/,"")}TS.interop.i18n.locale&&TS.interop.i18n.locale!==TS.interop.i18n.DEFAULT_LOCALE&&(t+="&locale="+TS.interop.i18n.locale);var r=0;function a(){r+=1;return new Promise(function(e){if(window.TS&&TS.raw_templates&&Object.keys(TS.raw_templates).length>0){e();return}TS.utility.getCachedScript(t).done(function(){if(0==Object.keys(TS.raw_templates).length){TS.error(t+" returned no templates D:");return}e()}).fail(function(e,n,o){var i=Math.min(1e3*r,1e4);TS.warn("loading "+t+" failed (textStatus:"+n+" errorThrown:"+o+" attempts:"+r+"), trying again in "+i+"ms");setTimeout(a,i)})})}return a()};var I=function e(){_.sortBy(Object.keys(C),"length").forEach(function(e){TS.registerModule(e,C[e],true)});_.sortBy(Object.keys(M),"length").forEach(function(e){TS.registerComponent(e,M[e],true)})};var P=function e(){TS.log(Date.now()-TS.boot_data.start_ms+"ms from first html to calling onStarts()");if("client"===TS.boot_data.app){TS.client.onStart();TS.client.onStart=_.noop}else if("web"===TS.boot_data.app||"space"===TS.boot_data.app||"calls"===TS.boot_data.app){TS.web.onStart();TS.web.onStart=_.noop}else{if("test"===TS.boot_data.app)return;if("api"!==TS.boot_data.app&&"oauth"!==TS.boot_data.app){TS.error("WTF app? "+TS.boot_data.app);return}}var n;var t=!TS.qs_args.keep_onstart;try{_.forOwn(E,function(e){if(!e.onStart)return;n=e._name;e.onStart();t&&(e.onStart=_.noop)})}catch(e){TS.error("TS."+n+".onStart encountered an error:");TS.logError(e);window.TSBeacon&&window.TSBeacon("call_onstarts_error",1);throw e}t&&(P=_.noop)};var N=function e(n,t){return new Promise(function(e,r){var a=!TS.model.ms_logged_in_once;n.team.activity=[];n.team.url=n.url;TS.team.upsertTeam(n.team);TS.boot_data.page_needs_enterprise&&void 0!==n.can_manage_shared_channels&&TS.prefs.setTeamPrefLocal("can_user_manage_shared_channels",n.can_manage_shared_channels);if(!TS.model.last_team_name){TS.model.last_team_name=TS.model.team.name;TS.model.last_team_domain=TS.model.team.domain}if(a){TS.model.read_only_channels=[];if(TS.boot_data.feature_default_shared_channels){TS.model.thread_only_channels=[];TS.model.non_threadable_channels=[]}}else{var o=TS._did_incremental_boot&&!TS._did_full_boot;o||TS.refreshTeams()}TS.prefs.setPrefs(n.self.prefs);delete n.self.prefs;var i;var s;var l;var c=function e(n){TS.model.user=_.assign(n,{is_self:true})};var u=["args.cache_ts:"+t.cache_ts];var d=_.clone(t);d.token&&(d.token="REDACTED");try{u.push("api args: "+JSON.stringify(d))}catch(e){u.push("api args: "+d)}TS.members.legacyUpsertAndSignal(n.self);TS.members.legacyStartBatchUpsert();var f=n.users||[];var m=n.bots||[];var p={};if(!TS._did_incremental_boot||TS._incremental_boot||TS._did_full_boot)for(i=0;i<f.length;i+=1)p[f[i].id]=true;else;for(i=0;i<f.length;i+=1){s=TS.members.legacyUpsertAndSignal(f[i]);l=s.member;TS.has_pri[D]&&TS.log(D,"upsert from DATA: "+l.id+" "+s.status);l.id==n.self.id&&c(s.member)}var g={};for(i=0;i<m.length;i+=1)g[m[i].id]=true;TS.redux.bots.bulkUpsertBots(m);u.push("members from updated_users in rtm.start:"+f.length+" (slackbot will always be here)");u.push("bots from updated_bots in rtm.start:"+m.length);f.length<TS.model.members.length/20&&(TS.model.did_we_load_with_user_cache=true);var S;TS.qs_args.debug_slackbot&&(S=true);S&&TS.info("debug_slackbot: _setUpModel(): data_user_list, data_bot_list",f,m);g=null;p=null;TS.log(123,u.join("\n"));if(!TS.model.user){TS.error("No TS.model.user - Expected user with id: "+_.get(n,"self.id","#"));TS.log(u.join("\n"));r(Error("No TS.model.user"));return}TS.members.legacyFinishBatchUpsert();TS.prefs.setHighlightWords(TS.prefs.getPref("highlight_words"));if(n.subteams){TS.user_groups.legacyStartBatchUpsert();n.subteams.all.forEach(function(e){TS.user_groups.upsertUserGroup(e)});TS.user_groups.legacyFinishBatchUpsert();n.subteams.self.forEach(function(e){TS.user_groups.upsertSelfUserGroup(e)})}S&&TS.info("debug_slackbot: _setUpModel(): data.ims",n.ims);n.read_only_channels&&(TS.model.read_only_channels=n.read_only_channels);TS.boot_data.feature_default_shared_channels&&n.non_threadable_channels&&(TS.model.non_threadable_channels=n.non_threadable_channels);TS.boot_data.feature_default_shared_channels&&n.thread_only_channels&&(TS.model.thread_only_channels=n.thread_only_channels);TS.model.initial_msgs_cnt=42;if(TS.qs_args.api_count){var h=parseInt(TS.qs_args.api_count,10)||TS.model.initial_msgs_cnt;TS.model.initial_msgs_cnt=Math.min(TS.model.initial_msgs_cnt,h)}var T=TS.model.hard_msg_limit;TS.model.subsequent_msgs_cnt=Math.min(T,2*TS.model.initial_msgs_cnt);TS.model.special_initial_msgs_cnt=Math.min(T,2*TS.model.initial_msgs_cnt);TS.log(123,"initial_msgs_cnt:"+TS.model.initial_msgs_cnt+" subsequent_msgs_cnt:"+TS.model.subsequent_msgs_cnt+" special_initial_msgs_cnt:"+TS.model.special_initial_msgs_cnt);var v=function e(){var t=1==TS.qs_args.just_general;TS.utility.msgs.startBatchUnreadCalc();TS.metrics.mark("upsert_channels_start");var r=true;var a=_.map(n.channels,function(e){if(t&&!e.is_general)return;var a=false;var o=false;var i=false;n.read_only_channels&&(a=n.read_only_channels.indexOf(e.id)>-1);TS.boot_data.feature_default_shared_channels&&n.thread_only_channels&&(o=n.thread_only_channels.indexOf(e.id)>-1);TS.boot_data.feature_default_shared_channels&&n.non_threadable_channels&&(i=n.non_threadable_channels.indexOf(e.id)>-1);e=_.assign(e,{is_read_only:a,is_thread_only:o,is_non_threadable:i});return TS.interop.channels.upsertChannel(e,r)});TS.metrics.measureAndClear("upsert_channels","upsert_channels_start");S&&TS.info("debug_slackbot: completeModelObSetup(): data.ims",n.ims);var o=_.map(n.ims,function(e){if(t&&"USLACKBOT"!==e.user)return;return TS.interop.channels.upsertChannel(e,r)});TS.metrics.mark("upsert_groups_start");if(!TS.isPartiallyBooted()){var i=_.map(TS.model.groups,"id");var s=_.map(n.groups,"id");var l=false;_.difference(i,s).forEach(function(e){var n=false;var t=TS.interop.channels.getGroupById(e,n);TS.redux.dispatch(TS.interop.redux.models.channels.removeChannels({ids:[e]}));TS.channels.left_sig.dispatch(t);l=true});l&&TS.members.invalidateMembersUserCanSeeArrayCaches()}var c=_.map(n.groups,function(e){if(t)return;var a=false;var o=false;var i=false;n.read_only_channels&&(a=n.read_only_channels.indexOf(e.id)>-1);TS.boot_data.feature_default_shared_channels&&n.thread_only_channels&&(o=n.thread_only_channels.indexOf(e.id)>-1);TS.boot_data.feature_default_shared_channels&&n.non_threadable_channels&&(i=n.non_threadable_channels.indexOf(e.id)>-1);e=_.assign(e,{is_read_only:a,is_thread_only:o,is_non_threadable:i});return TS.interop.channels.upsertChannel(e,r)});TS.metrics.measureAndClear("upsert_groups","upsert_groups_start");if(n.mpims){S&&TS.info("debug_slackbot: completeModelObSetup(): data.mpims",n.mpims);var u=_.map(n.mpims,function(e){if(t)return;return TS.interop.channels.upsertChannel(e,r)})}var d=_.compact(a.concat(o).concat(c).concat(u));TS.redux.channels.bulkAddEntities(d);TS.interop&&TS.interop.ChannelSidebar&&TS.interop.ChannelSidebar.ensureRowInView();TS.utility.msgs.finishBatchUnreadCalc();TS.model.user.is_restricted&&!TS._incremental_boot&&TS._did_incremental_boot&&TS.members.invalidateMembersUserCanSeeArrayCaches();if(S){var f=TS.redux.channels.getImByMemberId("USLACKBOT");var m=TS.interop.members.getMemberById("USLACKBOT");TS.info("debug_slackbot: "+(TS._incremental_boot?"incremental boot":"non-incremental boot")+"\nTS.redux.channels.getImByMemberId('USLACKBOT') => "+(f?"OK \ud83c\udf89":"NOT FOUND \ud83d\udc7b")+"\nTS.interop.members.getMemberById('USLACKBOT') => "+(m?"OK \ud83c\udf89":"NOT FOUND \ud83d\udc7b"));f&&TS.info("debug_slackbot: slackbot_im",f.toJSON&&f.toJSON()||f);m&&TS.info("debug_slackbot: slackbot_member",m.toJSON&&m.toJSON()||m);TS._incremental_boot||f||TS.warn("debug_slackbot: TS.redux.channels.getImByMemberId(`USLACKBOT`): No IM found?")}};if(n.dnd){n.dnd.dnd_enabled?TS.redux.dnd.updateDndScheduleForMember(n.self.id,n.dnd.next_dnd_start_ts,n.dnd.next_dnd_end_ts):TS.redux.dnd.updateDndScheduleForMember(n.self.id,null,null);(n.dnd.snooze_enabled||n.dnd.snooze_endtime)&&TS.redux.dnd.updateSnoozeScheduleForCurrentMember(n.dnd.snooze_enabled,n.dnd.snooze_endtime)}v();e()})};var z=function e(n){if(n.test&&!n.__esModule&&i())delete n.test;else if("function"===typeof n.test){var t=n.test;Object.defineProperty(n,"test",{get:t})}};z(TS);var U=function e(){var n=false;var t=function e(){TS.info("sleep event!");n=true;TS.client&&TS.interop.SocketManager.sleep();TS.web&&TS.web.space&&TS.ds.sleep()};var r=function e(){if(!n)return;n=false;TS.info("wake event! version:"+TS.boot_data.version_ts+" start_ms:"+TS.boot_data.start_ms);TS.client&&TS.interop.SocketManager.wake();TS.web&&TS.web.space&&TS.ds.wake()};window.addEventListener("sleep",t,false);window.addEventListener("wake",r,false)};var W=1989;var D=481;var q;var R=function e(){if(q)return;q=true;TS.metrics.count("rate_limit_dialog_shown");var n="Bear with us";var t="Dismiss";var r="Lots of your teammates are connecting to Slack right now, so it\u2019s taking longer than usual. We\u2019re really sorry about this, and we\u2019ll have you online soon.";var a=TS.generic_dialog.alert(r,n,t);var o=function e(){a.isPending()&&TS.generic_dialog.cancel();q=false};TS.redux.socket.connectedSig.addOnce(o)};var G=function e(n,t){var r=t;n&&_.isNumber(n)?r=""+n:"log"===t&&(r="info");return r};var V=function e(n,t){var r=Array.prototype.slice.call(t);n&&_.isNumber(n)&&r.shift();return r};var J=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!TS.boot_data.feature_legacy_cfm)return;var t=n.channels,r=n.ims,a=n.mpims,o=n.groups,i=n.self,s=n.team;var l=_([t,r,a,o]).flatten().map("id").value();var c=[i.id];var u=[s.id];TS.interop.channels.markObjectsAsFresh(l);TS.interop.members.markObjectsAsFresh(c);TS.interop.teams.markObjectsAsFresh(u)}})()},2456:function(e,n){(function(){TS.registerModule("incremental_boot",{onStart:function e(){TS.channels.switched_sig.add(s);TS.ims.switched_sig.add(s);TS.groups.switched_sig.add(s);TS.mpims.switched_sig.add(s);TS.redux.socket.connectedSig.addOnce(s)},startIncrementalBoot:function n(){if(TS._did_incremental_boot)return Promise.reject(new Error("_startIncrementalBoot called more than once; this is a programming error."));TS._did_incremental_boot=true;var t=TS.boot_data.incremental_boot_data;delete TS.boot_data.incremental_boot_data;var r={canonical_avatars:true,include_full_users:true,count:TS.model.initial_msgs_cnt-1,ignore_replies:true,include_pin_count:true,no_members:true,name_tagging:true,no_user_profile:true};var a=l();if(a){TS.model.c_name_in_url=a;r.name=a;TS.log(123,"Performing incremental boot for channel in URL: "+a)}else{var i=localStorage[c()];if(i){r.channel=i;TS.log(123,"Performing incremental boot for channel from history: "+i)}}o(true);TS.model.change_channels_when_offline=false;var s=u("conversations.view",r);return s.then(function(n){TS._incremental_boot=true;var r=e(t,n.data);return{ok:true,data:r,args:n.args}}).catch(function(e){TS.warn("Incremental boot failed with error: "+e);TS._incremental_boot=false;TS._did_incremental_boot=false;TS.model.change_channels_when_offline=true;o(false);throw e})},beforeFullBoot:function e(){if(!TS._incremental_boot)return;if(!TS._did_incremental_boot)return;if(TS._did_full_boot)return;TS._incremental_boot=false;t=setTimeout(a,1e4);TS.client&&TS.client.ui&&TS.client.ui.$messages_input_container&&TS.client.ui.$messages_input_container.one(n,a);TS.redux.socket.connectedSig.addOnce(a)},afterFullBoot:function e(){if(TS._did_incremental_boot){TS._did_full_boot=true;TS.model.change_channels_when_offline=true}o(false);TS.redux.dispatch(TS.interop.redux.features.incrementalBoot.setFullyBooted(true))},shouldIncrementalBoot:function e(){if(TS._did_incremental_boot)return false;if(!TS.boot_data.incremental_boot_data)return false;if(TS.model.ms_logged_in_once)return false;if(false===_.get(TS.boot_data.incremental_boot_data,"self.prefs.seen_welcome_2",void 0)||false===TS.boot_data.prefs_seen_welcome_2){delete TS.boot_data.incremental_boot_data;return false}if("client"!==TS.boot_data.app||0!==location.pathname.indexOf("/messages")){delete TS.boot_data.incremental_boot_data;return false}return true},userDidInteractWithUI:function e(){TS.sounds.play("beep");a()},getInitialChannelsToUpsert:function e(){return r}});var e=function e(n,t){var r=t;r.channels=r.channels||[];r.groups=r.groups||[];r.ims=r.ims||[];r.mpims=r.mpims||[];var a=r.channel||r.group||r.im;TS.model.initial_cid=a.id;delete r.channel;delete r.group;r.history&&r.history.messages?a.msgs=r.history.messages:a.msgs=[];TS.pins&&r.history&&TS.pins.updateCount(a,r.history.pin_count);Object.keys(n).forEach(function(e){r[e]=_.merge(n[e],r[e])});if(!r.self||r.self.id!=TS.boot_data.user_id)throw new Error("Missing `self` from incremental boot data");_.find(r.users,{id:r.self.id})||r.users.push(r.self);r.users.forEach(function(e){"USLACKBOT"!==e.id&&e.id!=TS.boot_data.user_id||(e.presence="active");delete e.updated});if(a.is_channel)i(a,r.channels);else if(a.is_mpim)i(a,r.mpims);else if(a.is_group)i(a,r.groups);else{if(!a.is_im)throw new Error("Unexpected model object type from channels.view");i(a,r.ims)}return r};var n="change.incremental_boot keydown.incremental_boot paste.incremental_boot";var t;var r=[];var a=function e(){if(TS.client&&TS.client.ui&&TS.client.ui.$messages_input_container){TS.client.ui.$messages_input_container.off(n);TS.client.ui.$messages_input_container.removeClass("pretend-to-be-online")}TS.redux.socket.connectedSig.remove(e);if(t){clearTimeout(t);t=void 0}};var o=function e(n){$("#col_channels, #team_menu").toggleClass("placeholder",n);$(document.body).toggleClass("incremental_boot",n)};var i=function e(n,t){var r=_.find(t,{id:n.id});r?_.extend(r,n):t.push(n)};var s=function e(){var n=TS.shared.legacyGetActiveModelOb();try{if(n&&n.id){localStorage[c()]=n.id;localStorage[window.boot_data.api_token+"_last_model_ob_id"]=n.id}else delete localStorage[c()]}catch(e){}};var l=function e(){var n=location.pathname.match(/\/messages\/([^/]+)/);return n&&n[1]};var c=function e(){return window.boot_data.team_id+"_"+window.boot_data.user_id+"_incr_boot_last_model_ob_id_v2"};var u=function e(n,t){return new Promise(function(e,r){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4!==a.readyState)return;if(200!==a.status){r(new Error("Received non-200 response from "+n));return}var o=JSON.parse(a.responseText);if(!o.ok){r(new Error("Received not-OK from "+n));return}e({ok:true,args:t,data:o})};a.onerror=function(){r(new Error("XHR encountered an error"))};var o=new FormData;Object.keys(t).forEach(function(e){return o.append(e,t[e])});o.append("token",window.boot_data.api_token);var i=""+window.boot_data.api_url+n;a.open("POST",i,!t._synchronously);a.setRequestHeader("X-Slack-Version-Ts",TS.boot_data.version_ts);a.send(o)})}})()},2457:function(e,n){(function(){TS.registerModule("metrics",{onStart:function e(){TS.web&&TS.web.login_sig.add(TS.metrics.onLogin);TS.client&&TS.client.login_sig.add(TS.metrics.onLogin)},onLogin:function e(){TS.interop.metrics.setUser(TS.model&&TS.model.user&&TS.model.user.id||"").setTeam(TS.model&&TS.model.team&&TS.model.team.id||"").setTeamSize(TS.model&&TS.model.members&&TS.model.members.length||0).setVersionTs(TS.boot_data.version_ts).setEndpointUrl(TS.boot_data.beacon_timing_url||window.ts_endpoint_url).setLogDomNodeCount(TS.utility.enableFeatureForUser(1)).setSSBMemoryLogging(TS.boot_data.feature_electron_memory_logging&&TS.model.is_electron&&"client"===TS.boot_data.app).start()},mark:function e(n){TS.interop.metrics.mark(n)},getLatestMark:function e(n){return TS.interop.metrics.getLatestMark(n)},clearMarks:function e(n){TS.interop.metrics.clearMarks(n)},measure:function e(n,t,r,a){return TS.interop.metrics.measure(n,t,r,a)},measureAndClear:function e(n,t){return TS.interop.metrics.measureAndClear(n,t)},store:function e(n,t,r){return TS.interop.metrics.store(n,t,r)},count:function e(n,t){TS.interop.metrics.count(n,t)},flush:function e(){TS.interop.metrics.sendDataAndEmptyQueue()},reportModelSize:function e(){return TS.interop.metrics.reportModelSize(TS.model.user,TS.model.team,TS.model.channels,TS.model.members,TS.model.user_groups,TS.model.mpim,TS.model.ims,TS.model.bots,TS.model.apps,TS.model.files,_.filter(TS.model.groups,function(e){return!e.is_archived}),_.filter(TS.model.members,"is_bot"))}})})()},2458:function(e,n){(function(){TS.registerModule("statsd",{onStart:function e(){var n=3e4;var t=5e3;var r=Math.floor(Math.random()*t);setInterval(a,n+r);$(window).on("beforeunload",a)},count:function e(n,t){_.isUndefined(t)&&(t=1);r(n,"count",t)},timing:function e(n,t){r(n,"timing",t)},flush:function e(){a()},mark:function e(n){TS.metrics.mark(n)},clearMarks:function e(n){TS.metrics.clearMarks(n)},measure:function e(n,t,r){var a=TS.metrics.measure(n,t,r,{ephemeral:true});if(_.isNaN(a)||_.isUndefined(a))return;TS.statsd.timing(n,a);return a},measureAndClear:function e(n,t){var r=TS.statsd.measure(n,t);TS.statsd.clearMarks(t);return r},test:function e(){var n={getStats:function e(){return t},reset:function e(){t=[]}};Object.defineProperty(n,"_record",{get:function e(){return r},set:function e(n){r=n}});Object.defineProperty(n,"_sendDataAndEmptyQueue",{get:function e(){return a},set:function e(n){a=n}});return n}});var e=2e3;var n;var t=[];var r=function e(n,r,a){var o;if("count"===r){o=" (count)";a=_.round(a,0)}else{if("timing"!==r){TS.error("TS.statsd._record called with invalid type: "+r);return}o="ms";a=_.round(a,3)}i(n)&&TS.info("[STATSD "+r.toUpperCase()+"] "+n+": "+a+o);t.push({stat:n,type:r,value:a})};var a=function n(){if(!t.length)return;var r=[];var a=[];var s="";var l=function e(n){return o()+"?stats="+encodeURIComponent(JSON.stringify(n))};t.forEach(function(n){a.push(n);s=l(a);if(s.length>e){a.pop();r.push(l(a));a=[n]}});r.push(l(a));r.forEach(function(e){var n=new Image;n.src=e});i()&&TS.info("[STATSD] Sending data: "+JSON.stringify(t));t=[]};var o=function e(){if(n)return n;if(TS.environment.is_dev){var t=location.host.match(/^([^.]+\.)?(?:enterprise\.)?((dev|qa)[0-9]*)\.slack\.com/)[2];n="https://"+t+".slack.com/beacon/statsd"}else n=location.host.match(/staging.slack.com/)?"https://staging.slack.com/beacon/statsd":"https://slack.com/beacon/statsd";return n};var i=function e(n){if(!n)return TS.qs_args.log_timings||true===TS.statsd.log;return TS.qs_args.log_timings||TS.qs_args.log_timing===n||true===TS.statsd.log||TS.statsd.log===n||TS.statsd.log instanceof Array&&-1!==TS.statsd.log.indexOf(n)}})()},2459:function(e,n){(function(){TS.registerModule("model",{did_we_load_with_user_cache:false,did_we_load_with_emoji_cache:false,did_we_load_with_app_cache:false,did_we_load_with_cmd_cache:false,api_url:"",api_token:"",async_api_url:"",webhook_url:"",user:null,team:null,can_add_ura:null,ims:null,channels:null,groups:null,mpims:null,members:null,rooms:null,bots:null,user_groups:null,idp_groups:null,apps:{},files:[],requested_channel_joins:{},archives_and_recreated_groups:{},last_team_name:"",last_team_domain:"",initial_cid:"",enterprise:null,initial_unread_view:false,initial_threads_view:false,initial_app_space_view:false,RESERVED_USERNAMES:["all","archive","archived","archives","channel","channels","create","delete","deleted-channel","edit","everyone","general","group","groups","here","me","ms","slack","slackbot","today","you","canal","aqu\xed","todos","m\xed","grupo","hier","alle","mir","gruppe","cha\xeene","chaine","ici","tous","moi","groupe","\u30c1\u30e3\u30f3\u30cd\u30eb","\u3053\u3053","\u5168\u54e1","\u81ea\u5206","\u30b0\u30eb\u30fc\u30d7","canais","geral","eu"],RESERVED_KEYWORDS:["channel","here","everyone","slackbot","canal","aqu\xed","todos","hier","alle","cha\xeene","chaine","ici","tous","\u30c1\u30e3\u30f3\u30cd\u30eb","\u3053\u3053","\u5168\u54e1"],NAMED_VIEWS:[{id:"Vall_unreads",name:TS.interop.i18n.t("All Unreads","model")(),is_view:true},{id:"Vall_threads",name:TS.interop.i18n.t("Threads","threads")(),alt_names:[TS.boot_data.feature_threads_copy_change?TS.interop.i18n.t("Threads","threads")():TS.interop.i18n.t("All Threads","threads")(),TS.interop.i18n.t("New Threads","threads")()],is_view:true},{id:"Vapp_space",name:TS.interop.i18n.t("Apps","model")(),is_view:true}],unsent_msgs:{},display_unsent_msgs:{},inline_img_byte_limit:2097152,inline_img_pixel_limit:36152320,last_reads_set_by_client:{},ms_logged_in_once:false,ds_asleep:false,ds_connected:false,ds_connecting:false,ds_logged_in_once:false,window_unloading:false,active_cid:null,last_active_cid:null,active_group_id:null,active_channel_id:null,active_im_id:null,active_mpim_id:null,active_history:[],all_custom_emoji:[],user_hiddens:[],user_colors:{},emoji_use:{},at_channel_suppressed_channels:null,push_at_channel_suppressed_channels:null,loud_channels:null,never_channels:null,loud_channels_set:null,push_loud_channels:null,push_mention_channels:null,push_loud_channels_set:null,your_user_group_regex:{},channel_sort:"alphabetical",inline_attachments:{},inline_imgs:{},inline_videos:{},inline_others:{},inline_audios:{},expandable_state:{},native_video_embed_height:320,native_video_embed_height_flexpane:240,native_media_preload_limit_bytes:2097152,is_msg_rate_limited:false,ds_reconnect_ms:0,ds_reconnect_time:0,rtd_start_throttler:0,initial_msgs_cnt:50,subsequent_msgs_cnt:100,special_initial_msgs_cnt:100,hard_msg_limit:500,all_unread_cnt:0,all_unread_highlights_cnt:0,all_unread_cnt_to_exclude:0,all_unread_highlights_cnt_to_exclude:0,threads_has_unreads:false,threads_mention_count:0,threads_mention_counts:{},c_name_in_url:"",flex_name_in_url:"",flex_extra_in_url:"",flex_names:["files","team","search","stars","mentions","details","whats_new","convo","apps"],default_flex_name:"files",ui_state:null,input_history:null,input_history_index:-1,input_cursor_positions:{},last_net_send:0,previewed_file_id:null,last_previewed_file_id:null,previewed_member_name:null,previewed_member_id:null,last_previewed_member_id:null,previewed_user_group_id:null,last_previewed_user_group_id:null,channel_name_max_length:21,channel_purpose_max_length:250,channel_topic_max_length:250,upload_file_size_limit_bytes:1073741824,model_ob_id_length:9,msg_activity_interval:5,msg_preview_showing:false,archive_view_is_showing:false,menu_is_showing:false,overlay_is_showing:false,unread_view_is_showing:false,threads_view_is_showing:false,app_space_view_is_showing:false,seen_onboarding_this_session:false,seen_welcome_2:true,showing_welcome_2:false,cancelled_welcome_2_this_session:false,show_inline_img_size_pref_reminder:false,shown_inline_img_size_pref_reminder_once:false,last_key_down_e:null,group_prefix:"",ms_conn_log:[],ds_conn_log:[],mac_ssb_version:TSSSB.env.mac_ssb_version,mac_ssb_version_minor:TSSSB.env.mac_ssb_version_minor,mac_ssb_build:TSSSB.env.mac_ssb_build,win_ssb_version:TSSSB.env.win_ssb_version,win_ssb_version_minor:TSSSB.env.win_ssb_version_minor,lin_ssb_version:TSSSB.env.lin_ssb_version,lin_ssb_version_minor:TSSSB.env.lin_ssb_version_minor,desktop_app_version:TSSSB.env.desktop_app_version,supports_downloads:false,supports_spaces_in_windows:false,supports_growl_subtitle:false,supports_voice_calls:false,supports_video_calls:false,supports_screen_sharing:false,supports_screenhero:false,supports_mmap_minipanel_calls:false,active_file_list_filter:"all",active_file_list_member_filter:"all",file_list_types:null,shift_key_pressed:false,insert_key_pressed:false,alt_key_pressed:false,join_leave_subtypes:["channel_leave","channel_join","group_leave","group_join"],file_list_type_map:{all:TS.interop.i18n.t("All File Types","model")(),posts:TS.interop.i18n.t("Posts","model")(),spaces:TS.interop.i18n.t("Posts","model")(),docs:"Arugula",snippets:TS.interop.i18n.t("Snippets","model")(),emails:TS.interop.i18n.t("Emails","model")(),images:TS.interop.i18n.t("Images","model")(),videos:TS.interop.i18n.t("Videos","model")(),pdfs:TS.interop.i18n.t("PDF Files","model")(),spreadsheets:TS.interop.i18n.t("Spreadsheets","model")(),gdocs:TS.interop.i18n.t("Google Docs","model")()},marked_reasons:{viewed:"viewed",left:"left",esc:"esc",esc_all:"esc_all",closed:"closed",muted:"muted",back:"back",sent:"sent",clicked:"clicked",deleted:"deleted",none_qualify:"none_qualify"},welcome_model_ob:{},change_channels_when_offline:true,ampersands_are_inconsistent_in_from_urls:true,ui:{cached_file_preview_scroller_rect:null,cached_msgs_scroller_rect:null,cached_msgs_scroll_result:null,cached_search_scroller_rect:null,cached_archives_scroller_rect:null,cached_archive_scroll_result:null,cached_convo_scroller_rect:null,cached_unread_scroller_rect:null,cached_threads_scroller_rect:null,is_window_focused:!!(document.hasFocus&&document.hasFocus()),is_mouse_down:false,last_flex_extra:null,active_tab_id:null,active_tab_ts:null,debug_channel_lists:true,last_top_msg:null},client:{reads:[],last_user_active_timestamp:new Date},emoji_groups:[],emoji_names:[],emoji_map:[],emoji_map_by_id:{},emoji_complex_customs:null,emoji_menu_columns:9,emoji_menu_colors:6,frecency_jumper:{},pdf_viewer_enabled:true,onStart:function e(){var n=[];TS.model.is_electron&&TS.model.is_mac&&TS.interop.desktop.isMainWindowFrameless()&&n.push("is_electron_mac");TS.model.is_electron&&n.push("is_electron");$("html").addClass(n.join(" "));TS.model.supports_growl_subtitle=!!(TS.model.mac_ssb_version&&TS.interop.environment.isSSBAndAtLeastVersion("2.2"));var t=false;Object.defineProperty(TS.model,"dialog_is_showing",{get:function e(){return t},set:function e(n){t=n},enumerable:true,configurable:true});TS.model.supports_voice_calls=TS.model.is_our_app&&TS.interop.environment.isSSBAndAtLeastVersion("2.5.2")||TS.model.is_chrome_desktop;TS.model.supports_video_calls=TS.model.supports_voice_calls;TS.model.supports_screen_sharing=TS.model.is_our_app&&TS.model.supports_voice_calls;TS.model.supports_screenhero=false;TS.model.supports_mmap_minipanel_calls=false;if(window.desktop&&desktop.calls&&desktop.calls.requestCapabilities){var r=desktop.calls.requestCapabilities();if(r){r.supports_screenhero&&!r.is_mas&&(TS.model.supports_screenhero=true);r.supports_mmap_minipanel&&(TS.model.supports_mmap_minipanel_calls=true)}}TS.model.supports_spaces_in_windows=false;window.desktop&&desktop.window&&desktop.window.list&&(TS.model.supports_spaces_in_windows=true);TS.boot_data.special_flex_panes&&_.forOwn(TS.boot_data.special_flex_panes,function(e){TS.model.flex_names.push(e.flex_name)});var a=TS.storage.fetchExpandableState();TS.model.expandable_state=a},addProfilingKeyTime:function e(n,t){if(!t||!n)return;TS.model.profiling_key_times||(TS.model.profiling_key_times=[]);TS.model.profiling_key_times.push({name:n,ms:t})},incrementUnknownIdHandled:function n(t){e[t]=e[t]||{tries:0,state:0};var r=e[t];r.tries+=1;r.state=0;r.tries>2?TS.maybeError(48,'calling the API for id: "'+t+'", try #'+r.tries):r.tries>1?TS.maybeWarn(48,'calling the API for id: "'+t+'", try #'+r.tries):TS.log(48,'calling the API for id: "'+t+'", try #'+r.tries);return r.tries},reportResultOfUnknownIdHandled:function n(t,r){var a=e[t];if(!a)return;a.state=r?1:-1;1==a.state?TS.log(48,'API call for id: "'+t+'" SUCCEEDED, try #'+a.tries):TS.maybeWarn(48,'API call for id: "'+t+'" FAILED, try #'+a.tries)},logUnknownIdsHandled:function e(n,r){var a=t(n,r);TS.info("_unknown_ids_handled: "+JSON.stringify(a,null,2))},getUnknownIdsHandled:function e(n,r){return t(n,r)},test:function e(){return{getOSXVersion:a,isWin7Plus:r,sniffUserAgent:o}},getBroadcastKeywordById:function e(n){var t=_.find(TS.interop.broadcast_keywords.getAllBroadcastKeywords(),{id:n});if(!t){TS.warn("no broadcast_keyword ob found for "+n);return}return t},getViewById:function e(n){var t=_.find(TS.model.NAMED_VIEWS,{id:n});if(!t){TS.warn("no view ob found for "+n);return}return t},isSSB:function e(){return TS.model.is_our_app},getYourUserGroupRegExp:function e(){return TS.model.your_user_group_regex}});_.merge(TS.model,o(navigator.userAgent));var e={};var n=[-1,0,1];var t=function t(r,a){r=parseInt(r,10)||1;a=_.includes(n,a)?a:"any";var o={};Object.keys(e).forEach(function(n){var t=e[n];if(r>t.tries)return;if("any"!==a&&t.state!=a)return;o[n]=e[n]});return{state:a,min_tries:r,count:Object.keys(o).length,obs:o}};function r(e){var n=e.match(/Windows NT ([0-9]+\.[0-9]+)\b/);if(!n||n.length<2)return false;return parseInt(n[1],10)>=6}function a(e){var n=e.match(/(?:Mac OS X )([0-9][0-9]_[0-9]+)(_[0-9])?/);n||(n=e.match(/(?:Mac OS X )([0-9][0-9]\.[0-9]+)(\.[0-9])?/));if(!n||!n[1])return 0;return n[1].replace("_",".")}function o(e){var n=/(OS X)/g.test(e);var t=-1!==e.indexOf("Windows");var o=/(WOW64|Win64)/g.test(e);var i=-1!==e.indexOf("Linux");var s=-1!==e.indexOf("CrOS");var l=/(iPad|iPhone|iPod)/g.test(e);var c=/(Android)/g.test(e);var _=/(Edge)/g.test(e);var u=/(Chrome)/g.test(e)&&!_;var d=u&&(l||c);var f=/(Slack)/g.test(e);var m=/(MSIE|Trident)/g.test(e);var p=/(Firefox)/g.test(e);var g=/(Safari)/g.test(e);var S=/(AtomShell)/g.test(e);return{is_iOS:l,is_IE:m,is_FF:p,is_edge:_,is_chrome_desktop:u&&!d&&!f,is_chrome_mobile:d,is_safari_desktop:g&&!u&&n&&!l,is_mac:n,mac_version:a(e)||void 0,is_win:t,is_win_64:o,is_win_7_plus:r(e),is_lin:i,is_cros:s,is_our_app:f,is_electron:S}}})()},2460:function(e,n){(function(){TS.registerModule("environment",{is_apple_webkit:false,is_dev:false,is_retina:false,retina_changed_sig:new signals.Signal,supports_sticky_position:false,supports_custom_scrollbar:false,slim_scrollbar:false,supports_line_clamp:false,supports_intersection_observer:false,onStart:function e(){c();o();u()},doesSupportStickyPosition:function e(){return TS.environment.supports_sticky_position},test:function e(){var n={_decoratePageWithSupport:o,_initialSetup:c};Object.defineProperty(n,"cssPropertySupported",{get:function e(){return i},set:function e(n){i=n}});Object.defineProperty(n,"cssValueSupported",{get:function e(){return s},set:function e(n){s=n}});return n}});var e=["-webkit-","-moz-","-o-","-ms-",""];var n=["Webkit","Moz","O","ms",""];var t=new RegExp("^(-*"+e.slice(0,e.length-1).join("|-*")+")");var r=new RegExp("^("+n.slice(0,n.length-1).join("|")+")");function a(){return window.devicePixelRatio>1}function o(){var e=["is_apple_webkit","supports_sticky_position","supports_custom_scrollbar","slim_scrollbar","supports_line_clamp"];var n=_.partition(e,function(e){return TS.environment[e]});var t=$("html");t.addClass(n[0].join(" "));t.removeClass(n[1].join(" "))}function i(e){if("scrollbar"===e)return d();var a=document.createElement("css_property_supported").style;e=e.replace(r,"").replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").replace(t,"").toLowerCase();e=_.camelCase(e,"-");var o=_.upperFirst(e);if(void 0!==a[e])return true;return n.some(function(n){return void 0!==a[n+o]||void 0!==a[n+e]})}function s(n,r){var a=document.createElement("css_value_supported");r=r.replace(t,"").toLowerCase();a.style.cssText=n+":"+e.join(r+";"+n+":")+r+";";return!!a.style.length}function l(){TS.environment.supports_sticky_position=s("position","sticky");"Chrome"===window.bowser.name&&parseInt(window.bowser.version,10)<57&&a()&&(TS.environment.supports_sticky_position=false);TS.redux.dispatch(TS.interop.redux.models.environment.setSupportsStickyPosition(TS.environment.supports_sticky_position))}function c(){TS.environment.is_apple_webkit=!!(TS.model.mac_ssb_version||TS.model.is_safari_desktop);TS.environment.is_dev="dev"===TS.boot_data.version_ts;TS.environment.is_retina=a();TS.environment.supports_custom_scrollbar=i("scrollbar");TS.environment.slim_scrollbar=TS.environment.supports_custom_scrollbar&&TS.boot_data.feature_slim_scrollbar;TS.environment.supports_line_clamp=i("line-clamp");TS.environment.supports_intersection_observer="function"===typeof IntersectionObserver;l()}function u(){if(window.matchMedia){var e="screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min--moz-device-pixel-ratio: 1.5), screen and (min-device-pixel-ratio: 1.5)";window.matchMedia(e).addListener(function(){var e=TS.environment.is_retina;TS.environment.is_retina=a();if(TS.environment.is_retina===e)return;TS.info("TS.environment.is_retina changed from "+e+" to "+TS.environment.is_retina);TS.environment.retina_changed_sig.dispatch(TS.environment.is_retina);l();o()})}}function d(){var e=document.createElement("div");e.id="__sb";e.style.overflow="scroll";e.style.width="40px";e.style.height="40px";e.style.position="absolute";e.style.left="-40px";e.innerHTML="&shy;<style>#__sb::-webkit-scrollbar {width:10px;}</style>";document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth===10;document.body.removeChild(e);return n}})()},2461:function(e,n,t){"use strict";var r=t(942);var a=t.n(r);(function(){TS.registerModule("ssb",{onStart:function e(){TS.files&&TS.files.team_file_deleted_sig.add(r)},openNewFileWindow:function e(n,r,a){u&&TS.log(u,"TS.ssb.openNewFileWindow url: "+r);if(TS.client)return TS.client.windows.openFileWindow(n.id,a);if(window.is_in_ssb){TS.ssb.upsertFileInSSBParentWin(n);if(document.ssb_main){if(document.ssb_main.TS)return document.ssb_main.TS.client.windows.openFileWindow(n.id,r);return true}if(window.desktop&&window.opener&&window.opener.executeJavaScript){u&&TS.log(u,"calling _executeInAtomSSBParentWin for TS.client.windows.openFileWindow");i("TS.client.windows.openFileWindow("+t(n.id)+", "+t(r)+");");return true}}return false},closeWindow:function e(){if(!window.is_in_ssb)return false;window.close();return true},setUpAtomSSBWin:function e(n){c(n,"window.is_in_ssb = true;");TS.shouldLog(438)&&!n._has_console&&(n._has_console=1)},upsertFileInSSBParentWin:function e(t){if(!TS.web)return;if(document.ssb_main)document.ssb_main.TS&&document.ssb_main.TS.files.upsertAndSignal(t,"upsertFileInSSBParentWin");else if(window.desktop&&window.opener&&window.opener.executeJavaScript){u&&TS.log(u,"calling _executeInAtomSSBParentWin for TS.files.upsertAndSignal");i("TS.files.upsertAndSignal("+n(t)+");")}},toggleMuteInWin:function n(t,r,a){u&&TS.log(u,"toggleMuteInWin called with token: "+t);if(!TS.client)return;var o=TS.client.windows.getWinByToken(t);if(!o){TS.error("toggleMuteInWin called with bad token: "+t);return}c(o,"window.toggleMute("+e(r)+");",a)},distributeMsgToWin:function e(t,r){u&&TS.log(u,"distributeMsgToWin called with token: "+t);if(!TS.client)return;var a=TS.client.windows.getWinByToken(t);if(!a){TS.error("distributeMsgToWin called with bad token: "+t);return}c(a,"TS.redux.dispatch(TS.interop.redux.features.socket.socketMessageReceived(("+n(r)+"));")}});var e=function e(n){return(!!n).toString()};var n=function e(n){return"JSON.parse('"+JSON.stringify(n||null)+"')"};var t=function e(n){n=String(n);n=n.replace(/"/g,'\\"');return'"'+n+'"'};var r=function e(n){if(!n)return;if(!TS.client)return;var r=TS.client.windows.getWinByProp("file_id",n.id);if(!r)return;setTimeout(function(){c(r,"window.TS.files.team_file_deleted_sig.dispatch(TS.files.getFileById("+t(n.id)+"));")},1e3)};var o=[];var i=function e(n,t){return TS.interop.desktop.executeJavaScriptInParentWindow({code:n,callback:t})};var s=function e(n,t){u&&TS.log(u,'CALLING _executeInAtomSSBParentWin\n\n"'+n+'"');var r=function n(){o.shift();o.length&&e.apply(null,o[0])};var i=2e3;var s=1;var l=2;var c=function e(){var o=setTimeout(function(){s+=1;if(s>l){TS.error('_executeInAtomSSBParentWin\n\n"'+n+'"\n\ndid not get a callback in '+i+"ms, bailing");r()}else{TS.error('_executeInAtomSSBParentWin\n\n"'+n+'"\n\ndid not get a callback in '+i+"ms, trying again");e()}},i);var c=TS.interop.desktop.executeJavaScriptInParentWindow({code:n,callback:function e(i,l){clearTimeout(o);if(i)TS.error('_executeInAtomSSBParentWin\n\n"'+n+'"\n\nreturned err: '+i);else{var c="object"===("undefined"===typeof l?"undefined":a()(l))?JSON.stringify(l,null,2):l;var _=1==s?438:0;TS.log(_,'_executeInAtomSSBParentWin\n\n"'+n+'"\n\nreturned data: '+c)}t&&t(i,l);setTimeout(r,0)}});u&&TS.log(u,'CALLED _executeInAtomSSBParentWin\n\n"'+n+'"\n\n ret: '+c);return c};var _=c();return!!_};var l=[];var c=function e(n,t,r){return TS.interop.desktop.executeJavaScriptInWindow({window_token:n.token,code:t,callback:r})};var _=function e(n,t,r){u&&TS.log(u,"CALLING _executeInAtomSSBWin token: "+n.token+'\n\n"'+t+'"');var o=function n(){l.shift();l.length&&e.apply(null,l[0])};var i=2e3;var s=1;var c=2;var _=function e(){var l=setTimeout(function(){s+=1;if(s>c){TS.error("_executeInAtomSSBWin token: "+n.token+'\n\n"'+t+'"\n\ndid not get a callback in '+i+"ms, bailing");o()}else{TS.error("_executeInAtomSSBWin token: "+n.token+'\n\n"'+t+'"\n\ndid not get a callback in '+i+"ms, trying again");e()}},i);var _=TS.interop.desktop.executeJavaScriptInWindow({window_token:n.token,code:t,callback:function e(i,c){clearTimeout(l);if(i)TS.error("_executeInAtomSSBWin token: "+n.token+'\n\n"'+t+'"\n\nreturned err: '+i);else{var _="object"===("undefined"===typeof c?"undefined":a()(c))?JSON.stringify(c,null,2):c;var d=1==s?438:0;u&&TS.log(d,"_executeInAtomSSBWin token: "+n.token+'\n\n"'+t+'"\n\nreturned data: '+_)}r&&r(i,c);setTimeout(o,0)}});u&&TS.log(u,"CALLED _executeInAtomSSBWin token: "+n.token+'\n\n"'+t+'"\n\n ret: '+_);return _};var d=_();return!!d};var u=438})()},2462:function(e,n){(function(){TS.registerModule("ui",{window_focus_changed_sig:new signals.Signal,window_unloaded_sig:new signals.Signal,onStart:function e(){$(window).bind("focus",TS.ui.onWindowFocus);$(window).bind("blur",TS.ui.onWindowBlur);$("html").bind("mousedown",function(){TS.model.ui.is_window_focused||TS.interop.console.info("FOCUS-EVENT","Mousedown while !is_window_focused");TS.ui.onWindowFocus({target:window})});var t=!!(document.hasFocus&&document.hasFocus());if(t){TS.ui.onWindowFocus({target:window});TS.redux.dispatch(TS.interop.redux.models.window.setLastFocusEvent(Date.now()))}else{TS.ui.onWindowBlur({target:window});TS.redux.dispatch(TS.interop.redux.models.window.setLastBlurEvent(Date.now()))}TS.model.win_ssb_version&&$("body").addClass("desktop");n()},setUpWindowUnloadHandlers:function e(){"undefined"!==typeof window.addEventListener?window.addEventListener("beforeunload",TS.ui.onWindowUnload,false):"undefined"!==typeof document.addEventListener?document.addEventListener("beforeunload",TS.ui.onWindowUnload,false):"undefined"!==typeof window.attachEvent?window.attachEvent("onbeforeunload",TS.ui.onWindowUnload):"function"===typeof window.onbeforeunload?window.onbeforeunload=function(){TS.ui.onWindowUnload();return false}:window.onbeforeunload=TS.ui.onWindowUnload},onWindowUnload:function e(){TS.client&&TS.client.markLastReadsWithAPI();TS.model.window_unloading=true;TS.ui.window_unloaded_sig.dispatch();TS.redux.dispatch(TS.interop.redux.models.window.setUnloading(true))},maybeTickleMS:function e(){if(!TS.client)return;TS.client.ui.maybeTickleMS()},handleDraghoverstartFromWinSSB:function e(){TS.ui.file_share.handleDraghoverstartFromWinSSB()},handleDraghoverendFromWinSSB:function e(){TS.ui.file_share.handleDraghoverendFromWinSSB()},handleDropFromWinSSB:function e(n){TS.ui.file_share.handleDropFromWinSSB(n)},teamSelectionChanged:function e(){if(!window.desktop||!window.desktop.reduxHelper||!_.isFunction(window.desktop.reduxHelper.isSelectedTeam))return;if(TS.interop.environment.isSSBAndAtLeastVersion("3.2.0"))return;var n=window.desktop.reduxHelper.isSelectedTeam();TS.interop.console.info("FOCUS-EVENT","Team selection changed ("+n+")");n?t():r()},onWindowFocus:function e(n){if(n.target!==window&&n.target!==document)return;TS.model.ui.is_window_focused||TS.interop.console.info("FOCUS-EVENT","Window focused");t()},onWindowBlur:function e(n){if(n.target!==window&&n.target!==document)return;TS.model.ui.is_window_focused&&TS.interop.console.info("FOCUS-EVENT","Window blurred");r()},needToShowAtChannelWarning:function e(n,t){var r;var a=TS.format.cleanMsg(t);var o=TS.interop.messages.atEveryoneRegExp.test(a);var i=TS.interop.messages.atChannelRegExp.test(a);var s=TS.interop.messages.atGroupRegExp.test(a);var l=!!TS.prefs.getPref("last_seen_at_channel_warning");var c=new Date(TS.prefs.getPref("last_seen_at_channel_warning"));var _=l&&TS.interop.datetime.isSameDay(c,new Date);if(!o&&!i&&!s)return false;r=TS.redux.channels.getEntityById(n);if(!r||r.is_im)return false;if((i||s)&&!TS.permissions.members.canAtChannelOrGroup(r.id))return false;if(r.is_general&&o&&!TS.permissions.members.canAtMentionEveryone(r.id))return false;if("never"===TS.prefs.getTeamPref("warn_before_at_channel"))return false;if("once"===TS.prefs.getTeamPref("warn_before_at_channel")&&l)return false;if("daily"===TS.prefs.getTeamPref("warn_before_at_channel")&&_)return false;return true},needToBlockAtChannelKeyword:function e(n,t,r){if(TS.interop.utility.looksLikeMemberId(r))return false;var a=TS.format.cleanMsg(n);var o=r&&TS.redux.channels.getEntityById(r);var i=o&&!o.is_im&&!o.is_mpim||t&&(t.channels.length||t.groups.length);if(!i)return false;var s=TS.interop.messages.atEveryoneRegExp.test(a);var l=TS.interop.messages.atHereRegExp.test(a);var c=TS.interop.messages.atChannelRegExp.test(a);var _=TS.interop.messages.atGroupRegExp.test(a);var u=false;if(o)u=!!o.is_general;else if(t&&0===t.groups.length&&1===t.channels.length){var d=TS.interop.channels.getPublicChannelById(t.channels[0]);u=!!d.is_general}if(TS.boot_data.feature_file_threads&&!u&&s)return"@everyone";if(u&&s&&!l&&!c&&!_&&TS.permissions.members.canAtMentionEveryone(r))return false;if(!TS.permissions.members.canAtChannelOrGroup(r)){if(l)return"@here";if(c)return"@channel";if(_)return"@group";if(s)return"@everyone"}var f=o&&o.is_general;!f&&t&&t.channels&&t.channels.forEach(function(e){var n=TS.interop.channels.getPublicChannelById(e);n&&n.is_general&&(f=true)});if(f&&!TS.permissions.members.canAtMentionEveryone(r)&&(s||l||_||c)){if(TS.boot_data.feature_file_threads){if(l)return"@here";if(c)return"@channel";if(_)return"@group";if(s)return"@everyone"}return"@everyone"}return false},startButtonSpinner:function n(t){TS.ui.resetButtonSpinner(t);var r=e(t);r.isLoading()||r.start()},stopButtonSpinner:function n(t,r){var a=e(t);if(a.isLoading()){a.stop();if(r){var o=$(t).find(".ladda-label").text();$(t).data("original_text",o);$(t).removeClass("").addClass("btn_success").find(".ladda-label").html('<i class="ts_icon ts_icon_check_circle_o small_right_margin"></i>'+TS.interop.i18n.t("Saved","ui")())}}},resetButtonSpinner:function n(t){var r=e(t);if(r.isLoading())return;var a=$(t).data("original_text");if(a){$(t).find(".ladda-label").text(a);$(t).removeData("original_text");$(t).removeClass("btn_success").addClass("")}},showVersionInfo:function e(){var n="version_info";var t=new Date(1e3*TS.boot_data.version_ts)+" (<b>"+TS.boot_data.version_ts+"</b>)";TS.generic_dialog.start({title:TS.interop.i18n.t("Version Info","ui")(),unique:n,body:TS.interop.i18n.t('<p>This version: {version_num}</p><p class="latest_version checking">Checking for updates&hellip;</p>',"ui")({version_num:TS.interop.i18n.safeString(t)}),show_cancel_button:false,go_button_class:"btn_outline",go_button_text:TS.interop.i18n.t("Close","ui")(),show_secondary_go_button:false,onSecondaryGo:function e(){TS.reload(false,"TS.ui.showVersionsInfo dialog")}});TS.interop.api.callExpedited("test.versionInfo").then(function(e){if(!TS.generic_dialog.is_showing||TS.generic_dialog.current_setting.unique!=n)return;var t=TS.generic_dialog.div.find(".latest_version");t.removeClass("checking");var r=e.data.version_ts.toString()==TS.boot_data.version_ts.toString();if(r)t.html(TS.interop.i18n.t("Your copy of Slack is up-to-date! {tada_emoji}","ui")({tada_emoji:TS.interop.i18n.safeString(TS.emoji.graphicReplace(":tada:"))}));else{TS.generic_dialog.div.find(".btn.dialog_secondary_go").removeClass("hidden").text("Update");var a=e.data.min_version_ts>TS.boot_data.version_ts;a?t.html(TS.interop.i18n.t("An important new version of Slack is available. {sparkles_emoji}","ui")({sparkles_emoji:TS.interop.i18n.safeString(TS.emoji.graphicReplace(":sparkles:"))})):t.html(TS.interop.i18n.t("A newer version of Slack is available. {sparkles_emoji}","ui")({sparkles_emoji:TS.interop.i18n.safeString(TS.emoji.graphicReplace(":sparkles:"))}))}}).catch(_.noop)},setThemeClasses:function e(){$("body").removeClass("dense_theme light_theme");if("dense"===TS.prefs.getPref("theme"))$("body").addClass("dense_theme");else{if("light"!==TS.prefs.getPref("theme")){TS.error("no theme?");return}$("body").addClass("light_theme")}TS.prefs.getPref("avatars")?$("body").removeClass("no_avatars"):$("body").addClass("no_avatars")}});var e=function e(n){var t=$(n).data("ladda");if(!t){t=Ladda.create(n);$(n).data("ladda",t)}return t};var n=function e(){$("body").on("click.plastic_date",'input[type="text"][data-plastic-type="date"]',function(e){var n=$(e.target);if(!n.pickmeup)return;var t=!!n.closest("#fs_modal").length||$(this).data("flat");n.pickmeup({flat:t,first_day:window.moment.localeData().firstDayOfWeek()||0,hide_on_select:true,min:$(this).data("min")||null,max:$(this).data("max")||null,format:$(this).data("format")||"Y-m-d",class_name:"plastic_date_picker",hide:function e(){n.trigger("input")},title_format:"ja-JP"===TS.interop.i18n.locale?"Y\u5e74B":"B Y",locale:{days:window.moment.weekdays(),daysShort:window.moment.weekdaysShort(),daysMin:window.moment.weekdaysMin(),months:window.moment.months(),monthsShort:window.moment.monthsShort()}}).pickmeup("show");if(t){var r=n.data("picker");if(!r){r=$('<div class="position_relative no_margin no_padding"></div>');n.data("picker",r)}n.after(r.append(n.find(".pickmeup").detach()))}}).on("keydown.plastic_date",'input[type="text"][data-plastic-type="date"]',function(e){var n=$(e.target);if(!n.pickmeup)return;window.document.activeElement===e.target&&n.pickmeup("hide")})};var t=function e(){if(TS.model.ui.is_window_focused)return;TS.model.shift_key_pressed=false;TS.model.insert_key_pressed=false;TS.model.ui.is_window_focused=true;TS.ui.window_focus_changed_sig.dispatch(true);TS.redux.dispatch(TS.interop.redux.models.window.updateFocus(true))};var r=function e(){if(!TS.model.ui.is_window_focused)return;TS.model.shift_key_pressed=false;TS.model.insert_key_pressed=false;TS.model.ui.is_window_focused=false;TS.ui.window_focus_changed_sig.dispatch(false);TS.redux.dispatch(TS.interop.redux.models.window.updateFocus(false))}})()},2463:function(e,n){(function(){TS.registerModule("ui.file_share",{handleDraghoverstartFromWinSSB:function e(){$(window).trigger("draghoverstart",[null,true])},handleDraghoverendFromWinSSB:function e(){$(window).trigger("draghoverend")},handleDropFromWinSSB:function e(n){TS.info("handleDropFromWinSSB called files:"+n);$("body").removeClass("drop-target");if(TS.client.ui.checkForEditing())return;if(!n||!n.length){TS.warn("handleDropFromWinSSB called with no files");return}TS.client.ui.files.validateFiles(n,TS.model.shift_key_pressed)},preselected:[],bindFileShareDropdowns:function r(i,s,l,c){var u=$("#select_share_channels");var d="60%";TS.web&&TS.web.space&&(d="100%");if(1!=u.length){alert("error: "+u.length+" $('#select_share_channels')s");return}TS.ui.file_share.preselected=l||[];n=s;t=i;var f=TS.ui.file_share.promiseToGetFileShareSelectOptions;c&&(f=o);e={append:true,single:true,data_promise:f,approx_item_height:30,tab_to_nav:true,placeholder_text:TS.interop.i18n.t("Search channels and people ...","files"),template:function e(n){return new Handlebars.SafeString(TS.templates.file_sharing_channel_row({item:n.model_ob}))},onItemAdded:a,onListHidden:function e(){$("#select_share_channels .lfs_list_container").removeClass("new_channel_container")},renderDividerFunc:function e(n,t){if(t.create_channel){n.html(TS.interop.i18n.t('<span class="new">No items matched <strong>{query}</strong></span>',"files")({query:TS.interop.i18n.safeString(_.escape(t.label))}));$("#select_share_channels .lfs_list_container").addClass("new_channel_container");return}$("#select_share_channels .lfs_list_container").removeClass("new_channel_container");n.html(_.escape(t.label)).removeClass("new_channel_not_found")},setValue:function e(n){var t;var r;var a=this.data.length;var o;for(t=0;t<a;t+=1){o=this.data[t].children.length;for(r=0;r<o;r+=1)if(this.data[t].children[r].model_ob.id===n){this.$container.find('.lfs_item[data-lfs-id="'+[t,r]+'"]').trigger("click");return}}}};u.lazyFilterSelect(e);u.css({width:d});u.one("remove",function(){t=false;$(this).lazyFilterSelect("destroy")});$("#file_sharing_div").on("keydown",function(e){13==e.keyCode&&e.stopPropagation()});u.lazyFilterSelect("getInstance").current_items_in_view_signal.add(function(e){var n=e.filter(function(e){return e.model_ob&&Object.prototype.hasOwnProperty.call(e.model_ob,"presence")}).map(function(e){return e.model_ob.id});TS.presence_manager.queryMemberPresence(n)})},promiseToGetFileShareSelectOptions:function e(n){var r=i();return TS.searcher.search(n,{members:{include_self:true},channels:{include_archived:false,can_post:true},groups:{include_archived:false},mpims:true,sort:{allow_empty_query:true}}).then(function(e){var a=false;e.all_items_fetched=true;e.filter(function(e){return TS.interop.utility.looksLikeMemberId(e.model_ob.id)?TS.permissions.members.canUserSeeMember(e.model_ob):TS.permissions.members.canPostInChannel(e.model_ob)}).forEach(function(e){e.lfs_id=e.model_ob.id;e.preselected=s(e.model_ob.id,r);e.preselected&&(a=true)});var o=false;r&&(TS.interop.utility.looksLikeMemberId(r)?o=TS.redux.channels.getImByMemberId(r):TS.interop.utility.looksLikeChannelId(r)&&(o=TS.redux.channels.getEntityById(r)));if(!n&&!a&&o)if(_.get(o,"is_im")){var i=TS.interop.members.getMemberById(o.user);e.push({preselected:true,lfs_id:i.id,model_ob:i})}else o&&TS.permissions.members.canPostInChannel(o)&&e.push({preselected:true,lfs_id:o.id,model_ob:o});if(o){TS.ui.share_message_dialog.maybeToggleSharedChannelsWarning(t,o);l(o)}var c=_(e).map("model_ob").filter(function(e){return _.get(e,"id")}).filter(TS.interop.utility.looksLikeMemberId).compact().value();TS.presence_manager.queryMemberPresence(c);return e})},bindFileShareShareToggle:function e(){$("#share_cb").bind("click.toggle_select_list",function(){$(this).prop("checked")?$(".file_share_select").prop("disabled",false):$(".file_share_select").prop("disabled",true);TS.ui.file_share.updateAtChannelWarningNote();TS.ui.file_share.updateAtChannelBlockedNote()})},bindFileShareCommentField:function e(){$("#file_comment_textarea").bind("keyup",function(){TS.ui.file_share.updateAtChannelWarningNote();TS.ui.file_share.updateAtChannelBlockedNote()})},updateAtChannelWarningNote:function e(n){var t=TS.utility.contenteditable.value($("#file_comment_textarea"));var a;var o=$("#select_share_channels").lazyFilterSelect("value")[0];var i;o&&(a=o.model_ob.id||"");var s=$("#select_share_at_channel_note");if(TS.ui.needToShowAtChannelWarning(a,t)){var l=TS.format.cleanMsg(t);var c="";var u=true;TS.interop.messages.atEveryoneRegExp.test(l)?c="everyone":TS.interop.messages.atChannelRegExp.test(l)?c="channel":TS.interop.messages.atGroupRegExp.test(l)&&(c="group");var d=TS.redux.channels.getEntityById(a);d&&!d.is_im||(u=false);if(u&&!r(d)&&!n){var f=TS.interop.memberCounts.getOrFetchMemberCounts(d.id);if(f.promise){i=0;f.promise.then(TS.ui.file_share.updateAtChannelWarningNote);u=false}else{i=_.get(f,"counts.member_count",1);i-=1}}var m=[];if(_.isUndefined(i)&&u&&d&&!d.is_im){m=_(d.members).map(function(e){return TS.interop.members.getMemberById(e)}).compact().filter(TS.utility.members.isMemberNonBotNonDeletedNonSelf).sortBy(TS.interop.members.memberSorterByName).value();m.length<1&&(u=false)}if(u){var p=TS.templates.at_channel_warning_note({keyword:c,member_count:_.isUndefined(i)?m.length:i});s.html(p);s.removeClass("hidden");return}}s.addClass("hidden")},updateAtChannelBlockedNote:function e(){var n=TS.utility.contenteditable.value($("#file_comment_textarea"));var t;var r=$("#select_share_channels").lazyFilterSelect("value")[0];var a=$("#share_cb");var o=0===a.length||a.is(":checked");r&&o&&(t=r.model_ob.id);var i=$("#select_share_at_channel_blocked_note");var s=$(".modal .btn.dialog_go");var l;TS.interop.utility.looksLikeMemberId(t)||(l=TS.ui.needToBlockAtChannelKeyword(n,null,t));if(l){i.html(TS.templates.at_channel_blocked_note({keyword:l}));i.removeClass("hidden");s.addClass("disabled")}else{i.addClass("hidden");s.removeClass("disabled")}},shouldBlockUploadDialogSubmission:function e(){var n=TS.utility.contenteditable.value($("#file_comment_textarea"));var t;var r=$("#select_share_channels").lazyFilterSelect("value")[0];var a=$("#share_cb");var o=0===a.length||a.is(":checked");r&&o&&(t=r.model_ob.id);var i;TS.interop.utility.looksLikeMemberId(t)||(i=TS.ui.needToBlockAtChannelKeyword(n,null,t));if(i){TS.info("Can't submit dialog because comment contains "+i);return true}return false},fileShowPublicUrlDialog:function e(n){var t=c(n);if(!t||!t.public_url_shared)return;var r=$('<input type="text" id="public_url" class="full_width small">').attr("value",t.permalink_public)[0].outerHTML;var a;a=TS.boot_data.feature_external_files?TS.interop.i18n.t('External link to this file <p style="display: inline-block;font-weight: 400"> (shareable with anyone) </p>',"files")():TS.interop.i18n.t("Public link to this file","files")();TS.generic_dialog.start({title:a,body:r,show_cancel_button:false,show_close_button:true,show_secondary_go_button:true,secondary_go_button_class:"btn_outline",secondary_go_button_text:TS.interop.i18n.t("Revoke","files")(),show_go_button:true,go_button_text:TS.interop.i18n.t("Done","files")(),esc_for_ok:true,onSecondaryGo:function e(){TS.ui.file_share.fileRevokePublicLink(t.id)},onGo:function e(){TS.generic_dialog.cancel()},onShow:function e(){TS.generic_dialog.div.on("shown",function e(){TS.generic_dialog.div.off("shown",e);$("#public_url").select().focus().on("keydown",function(e){e.which==TS.utility.keymap.esc&&TS.generic_dialog.cancel()})})}})},fileRevokePublicLink:function e(n){var t=TS.files.getFileById(n);if(!t)return false;var r;var a;if(TS.boot_data.feature_external_files){r=TS.interop.i18n.t("Revoke external file link","files")();a='<p class="no_bottom_margin">'+TS.interop.i18n.t("This will disable the external link for this file. Any previously shared links will stop working.<br /><br />Are you sure you want to revoke this link?","files")()+"</p>"}else{r=TS.interop.i18n.t("Revoke public file link","files")();a='<p class="no_bottom_margin">'+TS.interop.i18n.t("This will disable the Public Link for this file. This will cause any previously shared links to stop working.<br /><br />Are you sure you want to revoke this public link?","files")()+"</p>"}TS.generic_dialog.start({title:r,body:a,go_button_text:TS.interop.i18n.t("Revoke it","files")(),go_button_class:"btn_warning",onGo:function e(){TS.files.upsertAndSignal({id:t.id,public_url_shared:false},"revokePublicLink");TS.interop.api.callExpedited("files.revokePublicURL",{file:t.id})}})},test:function e(){var e={};Object.defineProperty(e,"_author",{get:function e(){return t},set:function e(n){t=n}});Object.defineProperty(e,"_populateDisabledInputMsg",{get:function e(){return l},set:function e(n){l=n}});Object.defineProperty(e,"_haveAllMembersForModelOb",{get:function e(){return r},set:function e(n){r=n}});return e}});var e={};var n=false;var t=false;var r=function e(n){if(n.is_channel&&!n.is_group)return false;var t=n.members||[n.user];var r=_.map(TS.model.members,"id");return!_.difference(t,r).length};var a=function e(n){$("#select_share_channels .lfs_input_container").removeClass("error");if(n.model_ob.create_channel){$("#select_share_channels_note").removeClass("hidden");$("#select_share_channels .lfs_value .lfs_item").addClass("new_channel_item");$(".modal .dialog_go").text(TS.interop.i18n.t("Next","files")());TS.metrics.count("share_picker_create_clicked");return}$("#select_share_channels .lfs_value .lfs_item").removeClass("new_channel_item");$(".modal .dialog_go").text(TS.interop.i18n.t("Share","files")());var r;r=n.model_ob.id;if(!r)return;$("#share_model_ob_id").val(r);$("#select_share_channel_warning, #select_share_channels_join_note").addClass("hidden");var a=n.model_ob||{};TS.interop.utility.looksLikeMemberId(a.id)&&(a=TS.redux.channels.getImByMemberId(a.id)||a);TS.ui.share_message_dialog.maybeToggleSharedChannelsWarning(t,a);l(a);var o=TS.interop.rules.channels.isExternallySharedChannel(a)||t&&TS.interop.members.isExternal(t);if(o){$('label[for="file_comment_textarea"]').addClass("subtle_silver");TS.utility.contenteditable.disable($("#file_sharing_div #file_comment_textarea"));$("#select_share_at_channel_list").addClass("subtle_silver")}else{$('label[for="file_comment_textarea"]').removeClass("subtle_silver");TS.utility.contenteditable.enable($("#file_sharing_div #file_comment_textarea"));$("#select_share_at_channel_list").removeClass("subtle_silver")}if(TS.interop.rules.channels.isExternallySharedChannel(a)&&!TS.interop.rules.channels.isPendingExternallySharedChannel(a)&&a.shared_team_ids&&a.shared_team_ids.length){$("#select_share_channel_warning").removeClass("hidden");var i=TS.interop.i18n.safeString(TS.interop.i18n.listify(_.map(a.shared_team_ids,TS.teams.getTeamNameById)).join(""));$("#select_share_channel_warning_text").html(TS.interop.i18n.t("<strong>This is a shared channel.</strong> Messages and files sent here will be seen by members of <strong>{shared_teams_list}</strong>.","shared_channels")({shared_teams_list:i}))}if(a.is_im||a.is_mpim)$("#share_context_label").text(TS.interop.i18n.t("Share with","files")());else{$("#share_context_label").text(TS.interop.i18n.t("Share in","files")());a.is_channel&&!a.is_member&&$("#select_share_channels_join_note").removeClass("hidden")}$("#share_cb").prop("checked",true);if(!o){TS.ui.file_share.updateAtChannelWarningNote();TS.ui.file_share.updateAtChannelBlockedNote()}};var o=function e(n){return TS.ui.file_share.promiseToGetFileShareSelectOptions(n).then(function(e){$("#select_share_channels .lfs_list_container").removeClass("new_channel_container");if(0===e.length){var t=TS.utility.channels.getPermissibleChannelName(n);if(t){e.push({lfs_group:true,label:n,create_channel:true,children:[{lfs_id:"c."+t,model_ob:{create_channel:true,name:t}}]});$("#select_share_channels .lfs_list_container").addClass("new_channel_container");TS.metrics.count("share_picker_create_shown")}}return e})};var i=function e(){if(TS.client&&TS.client.activeChannelIsHidden()){if(n)return n.id}else{var t=TS.shared.legacyGetActiveModelOb();if(t)return t.id}if(TS.web&&TS.web.space)return TS.web.space.getOriginChannel();return null};var s=function e(n,t){return TS.ui.file_share.preselected.length?TS.ui.file_share.preselected.indexOf(n)>-1:n===t};var l=function e(n){if(!_.isObject(n))return;TS.interop.utility.looksLikeMemberId(n.id)&&(n=TS.redux.channels.getImByMemberId(n.id)||n);var r="";r=t&&TS.interop.members.isExternal(t)?TS.interop.i18n.t("Only members of {team_name} can comment on this file.","shared_channels")({team_name:TS.teams.getTeamNameByMember(t)}):n.is_channel||n.is_group?TS.interop.i18n.t("Comments are disabled in shared channels.","shared_channels")():TS.interop.i18n.t("Comments are disabled when sharing with another\xa0workspace.","shared_channels")();$("#file_comment_textarea").attr("data-disabled-text",r)};var c=function e(n){return _.isString(n)?TS.files.getFileById(n):n}})()},2473:function(e,n){(function(){TS.registerModule("redux",{onStart:function e(){t(TS.interop.redux.configureStore({teamId:r()}))},bindSelectorToStore:function n(t){if(!t)throw new Error("bindSelectorToStore: selector is undefined.");return function(n,r,o,i,s,l,c){if(!e){TS.console.error("Attempting to use a redux selector before the redux store is initialized, returning undefined instead. Selector is: "+t);return}var _=a(t);if(!_){TS.console.error("Selector "+t+" cannot be found. Either it doesn't exist or it hasn't yet been initialized. Returning undefined instead");return}if(_&&_.length>7)throw new Error("bindSelectorToStore only supports selectors accepting up to 7 parameters. This should be more than enough for any use case");return _.call(void 0,TS.redux.getState(),n,r,o,i,s,l,c)}},getState:function n(){var t=e&&e.getState&&e.getState();if(!t){TS.error("No redux state found. The redux store must not be initialized yet");TS.console.logStackTrace("Logging a stack trace to determine what is trying to access redux too early")}return t},getStoreInstance:function n(){if(!e){TS.error("No redux store found. The redux store must not be initialized yet");TS.console.logStackTrace("Logging a stack trace to determine what is trying to access redux too early")}return e},dispatch:function n(t){if(t&&e&&e.dispatch)return e.dispatch(t);if(!t){TS.error("No action provided?");return}TS.error("No dispatch function available. The redux store must not be initialized yet");TS.console.logStackTrace("Logging a stack trace to determine what is trying to access redux too early")},test:{onStart:function e(){t(TS.interop.redux.test.createTestStore({teamId:r()}))}}});var e;var n={};function t(n){e=n;TS.boot_data.feature_m11n_experiments&&TS.boot_data.experiment_assignments&&TS.redux.dispatch(TS.interop.redux.features.experiments.bulkAddExperiments(TS.boot_data.experiment_assignments));TS.redux.dispatch(TS.interop.redux.features.bootData.setBootData(TS.boot_data))}function r(){return TS.boot_data.team_id||"NO_TEAM_ID"}function a(e){var t=n[e];if(t)return t;t=_.get(window,e);if(!t)return;n[e]=t;return t}})()},357:function(e,n){(function(){TS.registerModule("experiment",{onStart:function t(){e=!!(TS.interop&&TS.interop.api&&TS.interop.api.call);n=e?TS.interop.api.call:window.callSlackAPIUnauthed;TS.boot_data&&TS.boot_data.experiment_assignments&&l(TS.boot_data.experiment_assignments)},loadLeadAssignments:function e(n){if(void 0===n){TS.warn&&TS.warn("TS.experiment.loadLeadAssignments requires a lead_id");return Promise.resolve(false)}a||(a=s("experiments.getByLead",{lead_id:n}));return a},loadVisitorAssignments:function e(){i||(i=s("experiments.getByVisitor"));return i},loadUserAssignments:function n(){if(!e){TS.warn&&TS.warn("TS.experiment.loadUserAssignments requires a user to be logged in");return Promise.resolve(false)}o||(o=s("experiments.getByUser"));return o},getGroup:function e(n){if(TS.boot_data&&TS.boot_data.feature_m11n_experiments)return TS.interop.experiments.getGroupForUser(n);if(!t[n])return null;t[n].log_exposures&&c(n,t[n]);return t[n].group},getAllAssignmentsForDebugging:function e(){return t},test:function e(){var n={};Object.defineProperty(n,"_recordAssignments",{get:function e(){return l},set:function e(n){l=n}});return n}});var e;var n;var t={};var r={};var a;var o;var i;var s=function e(t,r){return new Promise(function(e){n(t,_.extend(TS.interop.url.queryStringParse(location.search.substring(1)),r),function(n,t){n&&t.assignments&&l(t.assignments);e(n)})})};var l=function e(n){var a;for(a in n){_.isEqual(r[a],n[a])||(r[a]=null);t[a]=n[a]}};var c=function e(n,t){if(TS.interop&&TS.interop.clog&&!_.isEqual(r[n],t)){TS.interop.clog.track("EXPERIMENT_EXPOSURE",{experiment_name:n,experiment_type:t.type,experiment_id:t.experiment_id,experiment_group:t.group,experiment_trigger:t.trigger,exposure_id:t.exposure_id});r[n]=t}}})()},646:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:true});var r=t(942);var a=t.n(r);(function(){TS.registerModule("emoji",{onStart:function e(){TS.web&&TS.web.login_sig.add(TS.emoji.onLogin);TS.client&&TS.client.login_sig.add(TS.emoji.onLogin);TS.prefs.jumbomoji_changed_sig.add(v);var n=true;T=TS.utility.throttleFunc(T,3e3,n);window._&&(k=_.debounce(k,3e3,{leading:false,trailing:n}))},onLogin:function e(){v()},isValidName:function n(t){if(!t)return false;t=TS.emoji.stripWrappingColons(t).toLowerCase();if("undefined"===typeof e[t])return false;return t},isEmojiNameSafe:function e(n){var t=_.get(g,"rx_colons.source");var r=new RegExp("^"+t+"$");var a=":"+n+":";return r.test(a)},substringMatchesName:function e(n,t){if(!n||!t||!_.isString(n)||!_.isString(t))return false;if("::"===t)return false;var r=":"===t.charAt(0);var a=":"===t.slice(-1);t=TS.emoji.stripWrappingColons(t.toLowerCase());if(!t)return true;if(r&&a)return t===n;if(r)return n.slice(0,t.length)===t;if(a)return n.slice(-1*t.length)===t;var o=-1!==n.indexOf(t);if(o)return true;return false},emojiMatchesTerm:function e(n,t,r){if(!n||!t)return false;var a=TS.emoji.nameToBaseName(n.display_name||n.name);a=TS.interop.i18n.deburr(a);t=TS.emoji.normalizeSearchTerm(t);if(TS.emoji.substringMatchesName(a,t))return true;var o=TS.interop.i18n.deburr(n.display_names||n.names);n.display_names&&n.display_names!==n.names&&(o+=" "+n.names);var i=o.split(" ");for(var s=0;s<i.length;s+=1)if(TS.emoji.substringMatchesName(TS.emoji.nameToBaseName(i[s]),t))return true;return-1!==_.indexOf(r,a)},normalizeSearchTerm:function e(n){if(!n||!_.isString(n))return;n=n.toLowerCase();n=TS.interop.i18n.deburr(n);n=n.replace(/['\u02bc\u2019]/g,"'");return n},nameToBaseName:function e(n){if(!_.isString(n))return"";n=TS.emoji.stripLocalizedSkinTone(n);n=TS.emoji.stripWrappingColons(n);return n},stripLocalizedSkinTone:function e(n){var t=/::skin-tone-[2-6]:/g;n=n.replace(t,":");if(TS.interop.i18n.locale!==TS.interop.i18n.DEFAULT_LOCALE){var r=TS.emoji.getLocalSkinToneName();t=new RegExp("::"+r+"-[2-6]:","g")}n=n.replace(t,":");return n},stripWrappingColons:function e(n){if(!n)return"";n="string"===typeof n?n:""+n;if(":"===n[0]){if(":"===n[n.length-1])return n.slice(1,n.length-1);return n.slice(1,n.length)}if(":"===n[n.length-1])return n.slice(0,n.length-1);return n},nameToCanonicalName:function e(n){n=TS.emoji.stripWrappingColons(n);if(!n)return"";n=String(n).toLowerCase();var t=function(){var e=n.split("::");if(2!=e.length)return"";n=e[0];return"::"+e[1]}();return(f()[n]||n)+t},emojiHasAliases:function e(n){return-1!==n.names.indexOf(" ")},addCustomEmoji:function e(n,t,r){y(n,t,r)},removeCustomEmoji:function e(n,t){var r;y(n,r,t)},renameCustomEmoji:function e(n,t,r,a){TS.emoji.removeCustomEmoji(n,a);TS.emoji.addCustomEmoji(t,r,a)},ingestCustoms:function e(n){TS.model.all_custom_emoji.length=0;TS.model.emoji_complex_customs={};o={};var t;var r;var i=[];_.forOwn(g.data,function(e){i.push.apply(i,e[3])});function s(e){return g.map.colons.hasOwnProperty(e)||i.indexOf(e)>=0}function l(e){var n=TS.emoji.maybeGetCanonicalEmojiName(e);return n!==e}_.forOwn(n,function(e,n){if("object"===("undefined"===typeof e?"undefined":a()(e))){TS.model.emoji_complex_customs[n]=e;g.data[n]=[[],null,null,[n],null,null,null,e.apple];g.map.colons[n]=n;TS.model.all_custom_emoji.push(n)}else{if(0===e.indexOf("alias:"))return;if(s(n)){TS.error("can't ingest custom emoji :"+n+": because that already exists");return}if(!TS.emoji.isEmojiNameSafe(n)){TS.error("can't ingest custom emoji :"+n+": because it's invalid");return}g.data[n]=[[],null,null,[n],null,null,null,e];g.map.colons[n]=n;TS.model.all_custom_emoji.push(n)}});_.forOwn(n,function(e,n){if("object"===("undefined"===typeof e?"undefined":a()(e))||0!==e.indexOf("alias:"))return;if(s(n)){TS.error("can't ingest custom emoji :"+n+": because that already exists");return}if(!TS.emoji.isEmojiNameSafe(n)){TS.error("can't ingest custom emoji :"+n+": because it's invalid");return}t=e.replace("alias:","");r=g.data.hasOwnProperty(t)&&g.data[t];if(r){r[3].push(n);g.map.colons[n]=t;return}t=g.map.colons.hasOwnProperty(t)&&g.map.colons[t];r=g.data.hasOwnProperty(t)&&g.data[t];if(r){r[3].push(n);g.map.colons[n]=t;return}TS.boot_data&&TS.boot_data.feature_tinyspeck&&TS.warn('alias for "'+n+'":"'+e+'" not recognized')});TS.interop.i18n.locale!==TS.interop.i18n.DEFAULT_LOCALE&&_.forOwn(n,function(e,n){l(n)&&(o[n]=true)});TS.model.all_custom_emoji=TS.model.all_custom_emoji.sort();if(g&&g.inits){delete g.inits.emoticons;g.init_emoticons()}d=m()},bootEmoji:function e(){r=r?r.then(TS.emoji.setUpEmoji):TS.emoji.setUpEmoji()},setUpEmoji:function e(){return new Promise(function(e){if(!g){TS.boot_data.feature_tinyspeck&&TS.log(250,"BOOT: Done setting up emoji, there was nothing to do");return e()}var n=function n(){g.buildKeywordIndex();w();TS.boot_data.feature_tinyspeck&&TS.log(250,"BOOT: Done setting up emoji");e()};b();if(!TS.boot_data.page_needs_custom_emoji)return n();if(!TS.boot_data.page_needs_custom_emoji_fresh){var t=TS.storage.fetchCustomEmoji();"calls"!==TS.boot_data.app||TS.model.emoji_cache_ts||(TS.model.emoji_cache_ts=_.get(TS.storage.fetchCustomEmoji(),"cache_ts"));if(t&&TS.model.emoji_cache_ts==t.cache_ts){TS.model.did_we_load_with_emoji_cache=true;TS.emoji.ingestCustoms(t.data);return n()}}TS.boot_data.feature_tinyspeck&&TS.log(250,"BOOT: Fetching emoji list before setting up emoji");var r=function e(t,r){if(!t||!r.emoji)return n();TS.model.emoji_cache_ts=r.cache_ts;TS.storage.storeCustomEmoji({data:r.emoji,cache_ts:TS.model.emoji_cache_ts});TS.emoji.ingestCustoms(r.emoji);n()};TS.interop.api.call("emoji.list",{include_complex_values:1}).then(function(e){var n=e.data,t=e.args,a=e.request_id;var o=true;r(o,n,t,a);return{data:n,args:t,request_id:a}}).catch(function(e){var n=e.data,t=e.args,a=e.request_id;var o=false;r(o,n,t,a);return{data:n,args:t,request_id:a}})})},resetUpEmoji:function e(){TS.storage.storeCustomEmoji("");T()},maybeRemakeMenuListsIfFrequentsChanged:function e(){if(TS.boot_data.feature_emoji_picker_frecently_used)return;var t=c();TS.utility.areSimpleObjectsEqual(t,n,"maybemakeMenuLists")||u(t)},replaceFrecentlyUsed:function e(){if(!TS.boot_data.feature_emoji_picker_frecently_used)return;var n=C();if(!n.length)return;if(!_.isEqual(n,t)){u(n);t=n}},makeMenuLists:function t(){TS.model.emoji_groups.length=0;TS.model.emoji_names.length=0;e={};var r=_.cloneDeep(h);var a=j();a&&a.length&&r.push({display_name:TS.interop.i18n.t("Custom","emoji")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_slack"></i></span>',tab_icon:"ts_icon_slack",tab_icon_name:"slack",name:"slack",emoji_names:a});n=c();r.unshift({name:"mine",display_name:TS.interop.i18n.t("Frequently Used","emoji")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_clock_o"></i></span>',tab_icon:"ts_icon_clock_o",tab_icon_name:"clock_o",emoji_names:n});var i;var s;var l=[];for(i=0;i<r.length;i+=1)l=l.concat(r[i].emoji_names);var u={};Object.keys(g.data).forEach(function(n){var t=g.data[n][3];var r=TS.emoji.isIdxSkinToneModifiable(n);t.forEach(function(t,a,o){var i=t;var s=_.compact(o);s.length!==o.length&&TS.error('Emoji "'+t+'" contains bad record(s) in "names" prop');TS.model.emoji_names.push(t);e[t]=true;if(TS.interop.i18n.locale!==TS.interop.i18n.DEFAULT_LOCALE){i=TS.emoji.maybeGetLocalizedEmojiName(t);s=o.map(function(e){return TS.emoji.maybeGetLocalizedEmojiName(e)})}u[t]={html:TS.emoji.graphicReplace(":"+t+":"),name:":"+t+":",names:":"+o.join(": :")+":",display_name:":"+i+":",display_names:":"+s.join(": :")+":"};TS.model.emoji_map.push({id:"E"+n+(a>0?"_alias_"+a:""),name:t,name_with_colons:":"+t+":",display_name:i,is_skin:r,is_emoji:true});if(r){u[t].is_skin=true;u[t].skin_tone_id="1";g.skin_tones.forEach(function(r){if(!p(n,r))return;var a=g.data[r];var l=a[3][0];var c=t+"::"+l;TS.model.emoji_names.push(c);e[c]=true;var _=":"+c+":";var d=o.map(function(e){return e+"::"+l});var f=_;var m=d;if(TS.interop.i18n.locale!==TS.interop.i18n.DEFAULT_LOCALE){var S=TS.emoji.maybeGetLocalizedEmojiName(l);f=":"+i+"::"+S+":";m=s.map(function(e){return e+"::"+S})}u[c]={is_skin:true,skin_tone_id:l.substr(-1,1),html:TS.emoji.graphicReplace(_),name:_,names:":"+d.join(": :")+":",display_name:f,display_names:":"+m.join(": :")+":"}})}})});S=u;TS.model.emoji_map=_.uniqBy(TS.model.emoji_map,"id");TS.boot_data.feature_emoji_by_id&&(TS.model.emoji_map_by_id=_.keyBy(TS.model.emoji_map,"id"));for(i=0;i<l.length;i+=1){var d=l[i];u[d]||TS.info(d+" not in cat_map?")}var f;var m;var T;var v;for(i=0;i<r.length;i+=1){f=r[i];m=[];T=null;v="";f.tab_icon_html&&(v=f.tab_icon_html);for(s=0;s<f.emoji_names.length;s+=1){T=u[f.emoji_names[s]];m.push(T);if(v)continue;f.emoji_names[s]==f.name&&(v=T.html)}T=m[0];TS.model.emoji_groups.push({name:f.name,display_name:f.display_name,tab_html:v||T.html,tab_icon:f.tab_icon,tab_icon_name:f.tab_icon_name,items:m})}var b=TS.emoji.getCurrentSheetUrl();if(O("ss_emojis")&&b){var w=new Image;w.onload=function(){w.onload=null;w.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";w=null};w.src=b}TS.model.emoji_names.sort();TS.emoji.friendlyReorder();var y=TS.model.emoji_names.indexOf("ok");var k=TS.model.emoji_names.indexOf("ok_hand");TS.model.emoji_names[y]="ok_hand";TS.model.emoji_names[k]="ok";TS.interop.i18n.locale!==TS.interop.i18n.DEFAULT_LOCALE&&_.each(o,function(e,n){var t=_.remove(TS.model.emoji_map,{name:n});TS.boot_data.feature_emoji_by_id&&t.forEach(function(e){delete TS.model.emoji_map_by_id[e.id]})})},friendlyReorder:function e(){var n=[{filter:"th",first:"thumbsup",second:"thumbsdown"},{filter:"po",first:"point_up",second:"point_down"}];n.forEach(function(e){var n=_.reduce(TS.model.emoji_names,function(n,t,r){if(0===t.indexOf(e.filter)){var a=TS.model.all_custom_emoji.indexOf(t)>-1;var o=!a&&0===t.indexOf(e.first);var i=!a&&!o&&0===t.indexOf(e.second);n.emoji.push({name:t,is_first:o,is_second:i});n.indexes.push(r)}return n},{indexes:[],emoji:[]});n.emoji=_.orderBy(n.emoji,["is_first","is_second","name"],["desc","desc","asc"]);_.forEach(n.emoji,function(e,t){var r=n.indexes[t];TS.model.emoji_names[r]=e.name})})},isIdxSkinToneModifiable:function e(n){return p(n,g.skin_tones[0])},isNameSkinToneModifiable:function e(n){n=TS.emoji.stripWrappingColons(n);n=String(n).toLowerCase();var t=g.map.colons[n];return TS.emoji.isIdxSkinToneModifiable(t)},graphicReplace:function e(n,t){if(!n)return"";t=t||{};var r=g;if(t.show_icon_for_emoji_in_as_text_mode&&TS.emoji.isValidName(n))return'<ts-icon class="emoji-sizer ts_icon_info_circle ts_icon_inherit" title="'+n.replace(/:/g,"")+'"></ts-icon>';r.init_env();var a=r.text_mode;var o=r.include_title;var i=r.include_text;var s=r.supports_css;var l=r.allow_skin_tone_squares;if(t.force_img&&t.obey_emoji_mode_pref){t.obey_emoji_mode_pref=false;TS.error("obey_emoji_mode_pref now set to FALSE because options.force_img is TRUE")}if(t.force_style&&t.obey_emoji_mode_pref){t.obey_emoji_mode_pref=false;TS.error("obey_emoji_mode_pref now set to FALSE because options.force_style is "+t.force_style)}r.text_mode=t.obey_emoji_mode_pref&&TS.interop.rules.emoji.shouldRenderEmojiAsText();if(t.force_style){TS.emoji.setEmojiMode(t.force_style);r.use_sheet=false}r.include_title=!!t.include_title;r.include_text=!!t.include_text;r.supports_css=!t.force_img;r.allow_skin_tone_squares=!t.no_skin_tone_squares;var c=r.replace_colons(n,{stop_animations:t.stop_animations});t.jumbomoji&&(c=c.replace("emoji-sizer","emoji-sizer emoji-only"));t.force_style&&TS.emoji.setEmojiMode();r.text_mode=a;r.include_title=o;r.include_text=i;r.supports_css=s;r.allow_skin_tone_squares=l;return c},replaceColons:function e(n){if(n.indexOf(":")<0)return n;return g.replace_colons(n)},maybeUnifiedReplace:function e(n){if("unified"!==g.replace_mode)return n;return g.replace_colons_with_unified(n)},replaceEmoticons:function e(n){return g.replace_emoticons_with_colons(n)},eachEmoticon:function e(n,t){n.replace(g.rx_emoticons,t)},getLocalSkinToneName:function e(){var n="skin-tone";TS.interop.i18n.locale!==TS.interop.i18n.DEFAULT_LOCALE&&(n=TSFEmoji.getLocalSkinToneName(TS.interop.i18n.locale));return n},getChosenSkinTone:function e(n){var t=parseInt(O("preferred_skin_tone"),10);if(!t||"1"==t||!_.includes([2,3,4,5,6],t))return"";var r=n?TS.emoji.getLocalSkinToneName():"skin-tone";return r+"-"+t},getChosenSkinToneModifier:function e(n){var t=TS.emoji.getChosenSkinTone(n);if(!t)return"";return":"+t+":"},setEmojiMode:function e(n){var t=["google","apple"];n=n||TS.interop.rules.emoji.getEmojiMode();g.text_mode="as_text"===n;g.do_emoticons=!!O("graphic_emoticons");g.allow_native=false;g.use_sheet=function(){if(!O("ss_emojis"))return false;return!!TS.boot_data.page_needs_custom_emoji}();var r=n;"as_text"==n&&(r=TS.interop.rules.emoji.getEmojiMode({forceDisplay:true}));g.img_set=_.includes(t,r)?r:"apple";if(!TS.model.emoji_complex_customs)return;for(var a in TS.model.emoji_complex_customs){if(!g.data[a])continue;g.data[a][7]=TS.model.emoji_complex_customs[a][g.img_set]}},getColonsRx:function e(){return g.rx_colons},getEmoticonsRx:function e(){return g.rx_emoticons},getEmojiByName:function e(n){if(!n)return;return _.find(TS.model.emoji_map,{name:n})},getEmojiById:function e(n){if(TS.boot_data.feature_emoji_by_id)return TS.model.emoji_map_by_id[n];var t=_.find(TS.model.emoji_map,{id:n});if(!t){TS.warn("no emoji ob found for "+n);return}return t},getEmojiMap:function e(){return TS.model.emoji_map},getEmoticonMap:function e(){return g.emoticons_data},getEmojiForSpaces:function e(){var n={emoticonEmojiNames:g.emoticons_data,emoji:{},sheetSize:g.sheet_size,sheetPath:TS.emoji.getCurrentSheetUrl(),replace:function e(){var n=g.colons_mode;g.colons_mode=true;var t=g.replace_unified.apply(g,arguments);TS.interop.i18n.locale!==TS.interop.i18n.DEFAULT_LOCALE&&(t=TS.emoji.maybeGetCanonicalEmojiString(t));g.colons_mode=n;return t}};TS.interop.i18n.locale!==TS.interop.i18n.DEFAULT_LOCALE&&(n.getLocalEmojiString=function(e){if(!e)return"";return TS.emoji.maybeGetLocalizedEmojiName(e)||e});Object.keys(g.data).forEach(function(e){var t=g.data[e];var r=t[3];var a=t[4];var o=t[5];var i=t[7];var s;if(null!==a&&null!==o)s=[a,o];else{if(!i){TS.error('WTF, _emoji "'+e+'" is missing coords or and a url, or something!');return}s=false===O("a11y_animations")?TS.utility.getImgProxyURLWithOptions(i,{emoji:true}):i}r.forEach(function(e){n.emoji[e]=s})});return n},getCurrentSheetUrl:function e(){return g.img_sets[g.img_set].sheet},getCurrentImagePath:function e(){return g.img_sets[g.img_set].path},hasUnifiedEmoji:function e(n){g.init_unified();return-1!==n.search(g.rx_unified)},test:function e(){return{emoji:g}},spliceSkinToneVariationsIntoAnArrayOfEmojiNames:function e(n){var t=0;n.concat().forEach(function(e,r){var a=g.map.colons[e];var o=g.data.hasOwnProperty(a)&&g.data[a];if(!o)return;g.skin_tones.forEach(function(o){if(!p(a,o))return;var i=g.data[o];var s=i[3][0];var l=e+"::"+s;if(-1!==n.indexOf(l))return;t+=1;var c=t+r;n.splice(c,0,l)})})},findByKeyword:function e(n){return g.findByKeyword(n)},getObsoletedEmojiNameFromModernEmojiName:function e(n){if(!n)return null;var t=TS.emoji.stripWrappingColons(n);var r=/(::skin-tone-[2-6])/;var a=t.match(r);var o=a?a[1]:"";var i=t.replace(r,"");var s=g.map.colons[i];if(!s)return null;var l=g.obsoletes_data[s];var c=l&&l[4]&&l[4][0];if(c&&c!=i)return c+o;return null},maybeGetCanonicalEmojiString:function e(n){if(TS.interop.i18n.locale!==TS.interop.i18n.DEFAULT_LOCALE)return TSFEmoji.translateEmojiStringToCanonical(n,TS.interop.i18n.locale,{include_emoji_5:true});return n},maybeGetLocalizedEmojiString:function e(n){if(TS.interop.i18n.locale!==TS.interop.i18n.DEFAULT_LOCALE)return TSFEmoji.translateEmojiStringToLocal(n,TS.interop.i18n.locale,{include_emoji_5:true});return n},maybeGetLocalizedEmojiName:function e(n){if(TS.interop.i18n.locale!==TS.interop.i18n.DEFAULT_LOCALE)return TSFEmoji.getLocalEmojiString(n,TS.interop.i18n.locale,{include_emoji_5:true});return n},maybeGetCanonicalEmojiName:function e(n){if(TS.interop.i18n.locale!==TS.interop.i18n.DEFAULT_LOCALE)return TSFEmoji.getCanonicalEmojiString(n,TS.interop.i18n.locale,{include_emoji_5:true});return n},MISSING_EMOJI_HTML:'<span class="emoji-outer emoji-sizer emoji-bg-contain" style="background-image: url('+cdn_url+'/ecf3e/img/emoji_missing.png);"></span>'});var e={};var n;var t;var r;var o={};var i="E";var s=36;var l=50;var c=function e(){var n;var t={};_.each(_.keys(TS.model.emoji_use),function(e){n=TS.emoji.nameToCanonicalName(e.split("::")[0]);if(TS.interop.i18n.locale!==TS.interop.i18n.DEFAULT_LOCALE&&x(n))return;t.hasOwnProperty(n)||(t[n]=0);t[n]+=TS.model.emoji_use[e]});TS.dir(777,t,"condensed emoji names:");var r=Object.keys(t).sort(function(e,n){var r=t[e];var a=t[n];if(r==a){if(e<n)return-1;if(e>n)return 1}return-(r-a)});r.length=Math.min(r.length,4*TS.model.emoji_menu_columns);var a=["slightly_smiling_face","heart","+1","100","bug"];var o;while(r.length<5&&a.length){o=a.shift();-1===r.indexOf(o)&&r.push(o)}TS.emoji.spliceSkinToneVariationsIntoAnArrayOfEmojiNames(r);return r};var u=function e(t){n=t;var r=_.find(_.get(TS.model,"emoji_groups"),{name:"mine"});r||TS.emoji.makeMenuLists();var a=[];n.forEach(function(e){var n=S[e];n&&a.push(n)});r.items=a};var d;var f=function e(){d=d||m();return d};var m=function e(){var n={};var t;Object.keys(g.data).forEach(function(e){t=g.data[e];n[t[3][0]]=null;t[3].forEach(function(e){if(n.hasOwnProperty(e))return;n[e]=t[3][0]})});return n};var p=function e(n,t){return!!(g.variations_data[n]&&g.variations_data[n][t])};var g=emoji;var S={};var h=[{name:"people",display_name:TS.interop.i18n.t("People","emoji")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_happy_smile"></i></span>',tab_icon:"ts_icon_happy_smile",tab_icon_name:"happy_smile",emoji_names:["grinning","grin","joy","rolling_on_the_floor_laughing","smiley","smile","sweat_smile","laughing","wink","blush","yum","sunglasses","heart_eyes","kissing_heart","kissing","kissing_smiling_eyes","kissing_closed_eyes","relaxed","slightly_smiling_face","hugging_face","star-struck","thinking_face","face_with_raised_eyebrow","neutral_face","expressionless","no_mouth","face_with_rolling_eyes","smirk","persevere","disappointed_relieved","open_mouth","zipper_mouth_face","hushed","sleepy","tired_face","sleeping","relieved","stuck_out_tongue","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","drooling_face","unamused","sweat","pensive","confused","upside_down_face","money_mouth_face","astonished","white_frowning_face","slightly_frowning_face","confounded","disappointed","worried","triumph","cry","sob","frowning","anguished","fearful","weary","exploding_head","grimacing","cold_sweat","scream","flushed","zany_face","dizzy_face","rage","angry","face_with_symbols_on_mouth","mask","face_with_thermometer","face_with_head_bandage","nauseated_face","face_vomiting","sneezing_face","innocent","face_with_cowboy_hat","clown_face","lying_face","shushing_face","face_with_hand_over_mouth","face_with_monocle","nerd_face","smiling_imp","imp","japanese_ogre","japanese_goblin","skull","skull_and_crossbones","ghost","alien","space_invader","robot_face","hankey","smiley_cat","smile_cat","joy_cat","heart_eyes_cat","smirk_cat","kissing_cat","scream_cat","crying_cat_face","pouting_cat","see_no_evil","hear_no_evil","speak_no_evil","baby","child","boy","girl","adult","man","woman","older_adult","older_man","older_woman","male-doctor","female-doctor","male-student","female-student","male-teacher","female-teacher","male-judge","female-judge","male-farmer","female-farmer","male-cook","female-cook","male-mechanic","female-mechanic","male-factory-worker","female-factory-worker","male-office-worker","female-office-worker","male-scientist","female-scientist","male-technologist","female-technologist","male-singer","female-singer","male-artist","female-artist","male-pilot","female-pilot","male-astronaut","female-astronaut","male-firefighter","female-firefighter","male-police-officer","female-police-officer","male-detective","female-detective","male-guard","female-guard","male-construction-worker","female-construction-worker","prince","princess","man-wearing-turban","woman-wearing-turban","man_with_gua_pi_mao","person_with_headscarf","bearded_person","blond-haired-man","blond-haired-woman","man_in_tuxedo","bride_with_veil","pregnant_woman","breast-feeding","angel","santa","mrs_claus","female_mage","male_mage","female_fairy","male_fairy","female_vampire","male_vampire","mermaid","merman","female_elf","male_elf","female_genie","male_genie","female_zombie","male_zombie","man-frowning","woman-frowning","man-pouting","woman-pouting","man-gesturing-no","woman-gesturing-no","man-gesturing-ok","woman-gesturing-ok","man-tipping-hand","woman-tipping-hand","man-raising-hand","woman-raising-hand","man-bowing","woman-bowing","face_palm","man-facepalming","woman-facepalming","shrug","man-shrugging","woman-shrugging","man-getting-massage","woman-getting-massage","man-getting-haircut","woman-getting-haircut","man-walking","woman-walking","man-running","woman-running","dancer","man_dancing","man-with-bunny-ears-partying","woman-with-bunny-ears-partying","woman_in_steamy_room","man_in_steamy_room","woman_climbing","man_climbing","woman_in_lotus_position","man_in_lotus_position","bath","sleeping_accommodation","man_in_business_suit_levitating","speaking_head_in_silhouette","bust_in_silhouette","busts_in_silhouette","fencer","horse_racing","skier","snowboarder","man-golfing","woman-golfing","man-surfing","woman-surfing","man-rowing-boat","woman-rowing-boat","man-swimming","woman-swimming","man-bouncing-ball","woman-bouncing-ball","man-lifting-weights","woman-lifting-weights","man-biking","woman-biking","man-mountain-biking","woman-mountain-biking","racing_car","racing_motorcycle","person_doing_cartwheel","man-cartwheeling","woman-cartwheeling","wrestlers","man-wrestling","woman-wrestling","water_polo","man-playing-water-polo","woman-playing-water-polo","handball","man-playing-handball","woman-playing-handball","juggling","man-juggling","woman-juggling","couple","two_men_holding_hands","two_women_holding_hands","woman-kiss-man","man-kiss-man","woman-kiss-woman","woman-heart-man","man-heart-man","woman-heart-woman","man-woman-boy","man-woman-girl","man-woman-girl-boy","man-woman-boy-boy","man-woman-girl-girl","man-man-boy","man-man-girl","man-man-girl-boy","man-man-boy-boy","man-man-girl-girl","woman-woman-boy","woman-woman-girl","woman-woman-girl-boy","woman-woman-boy-boy","woman-woman-girl-girl","man-boy","man-boy-boy","man-girl","man-girl-boy","man-girl-girl","woman-boy","woman-boy-boy","woman-girl","woman-girl-boy","woman-girl-girl","selfie","muscle","point_left","point_right","point_up","point_up_2","middle_finger","point_down","v","crossed_fingers","spock-hand","the_horns","call_me_hand","raised_hand_with_fingers_splayed","hand","ok_hand","+1","-1","fist","facepunch","left-facing_fist","right-facing_fist","raised_back_of_hand","wave","i_love_you_hand_sign","writing_hand","clap","open_hands","raised_hands","palms_up_together","pray","handshake","nail_care","ear","nose","footprints","eyes","eye","eye-in-speech-bubble","brain","tongue","lips","kiss","cupid","heart","heartbeat","broken_heart","two_hearts","sparkling_heart","heartpulse","blue_heart","green_heart","yellow_heart","orange_heart","purple_heart","black_heart","gift_heart","revolving_hearts","heart_decoration","heavy_heart_exclamation_mark_ornament","love_letter","zzz","anger","bomb","boom","sweat_drops","dash","dizzy","speech_balloon","left_speech_bubble","right_anger_bubble","thought_balloon","hole","eyeglasses","dark_sunglasses","necktie","shirt","jeans","scarf","gloves","coat","socks","dress","kimono","bikini","womans_clothes","purse","handbag","pouch","shopping_bags","school_satchel","mans_shoe","athletic_shoe","high_heel","sandal","boot","crown","womans_hat","tophat","mortar_board","billed_cap","helmet_with_white_cross","prayer_beads","lipstick","ring","gem"]},{name:"nature",display_name:TS.interop.i18n.t("Nature","emoji")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_emoji_nature"></i></span>',tab_icon:"ts_icon_emoji_nature",tab_icon_name:"emoji_nature",emoji_names:["monkey_face","monkey","gorilla","dog","dog2","poodle","wolf","fox_face","cat","cat2","lion_face","tiger","tiger2","leopard","horse","racehorse","unicorn_face","zebra_face","deer","cow","ox","water_buffalo","cow2","pig","pig2","boar","pig_nose","ram","sheep","goat","dromedary_camel","camel","giraffe_face","elephant","rhinoceros","mouse","mouse2","rat","hamster","rabbit","rabbit2","chipmunk","hedgehog","bat","bear","koala","panda_face","feet","turkey","chicken","rooster","hatching_chick","baby_chick","hatched_chick","bird","penguin","dove_of_peace","eagle","duck","owl","frog","crocodile","turtle","lizard","snake","dragon_face","dragon","sauropod","t-rex","whale","whale2","dolphin","fish","tropical_fish","blowfish","shark","octopus","shell","crab","shrimp","squid","snail","butterfly","bug","ant","bee","beetle","cricket","spider","spider_web","scorpion","bouquet","cherry_blossom","white_flower","rosette","rose","wilted_flower","hibiscus","sunflower","blossom","tulip","seedling","evergreen_tree","deciduous_tree","palm_tree","cactus","ear_of_rice","herb","shamrock","four_leaf_clover","maple_leaf","fallen_leaf","leaves"]},{name:"food_and_drink",display_name:TS.interop.i18n.t("Food & Drink","client")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_emoji_food"></i></span>',tab_icon:"ts_icon_emoji_food",tab_icon_name:"emoji_food",emoji_names:["grapes","melon","watermelon","tangerine","lemon","banana","pineapple","apple","green_apple","pear","peach","cherries","strawberry","kiwifruit","tomato","coconut","avocado","eggplant","potato","carrot","corn","hot_pepper","cucumber","broccoli","mushroom","peanuts","chestnut","bread","croissant","baguette_bread","pretzel","pancakes","cheese_wedge","meat_on_bone","poultry_leg","cut_of_meat","bacon","hamburger","fries","pizza","hotdog","sandwich","taco","burrito","stuffed_flatbread","egg","fried_egg","shallow_pan_of_food","stew","bowl_with_spoon","green_salad","popcorn","canned_food","bento","rice_cracker","rice_ball","rice","curry","ramen","spaghetti","sweet_potato","oden","sushi","fried_shrimp","fish_cake","dango","dumpling","fortune_cookie","takeout_box","icecream","shaved_ice","ice_cream","doughnut","cookie","birthday","cake","pie","chocolate_bar","candy","lollipop","custard","honey_pot","baby_bottle","glass_of_milk","coffee","tea","sake","champagne","wine_glass","cocktail","tropical_drink","beer","beers","clinking_glasses","tumbler_glass","cup_with_straw","chopsticks","knife_fork_plate","fork_and_knife","spoon","hocho","amphora"]},{name:"activity",display_name:TS.interop.i18n.t("Activity","emoji")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_emoji_activities"></i></span>',tab_icon:"ts_icon_emoji_activities",tab_icon_name:"emoji_activities",emoji_names:["jack_o_lantern","christmas_tree","fireworks","sparkler","sparkles","balloon","tada","confetti_ball","tanabata_tree","bamboo","dolls","flags","wind_chime","rice_scene","ribbon","gift","reminder_ribbon","admission_tickets","ticket","medal","trophy","sports_medal","first_place_medal","second_place_medal","third_place_medal","soccer","baseball","basketball","volleyball","football","rugby_football","tennis","8ball","bowling","cricket_bat_and_ball","field_hockey_stick_and_ball","ice_hockey_stick_and_puck","table_tennis_paddle_and_ball","badminton_racquet_and_shuttlecock","boxing_glove","martial_arts_uniform","goal_net","dart","golf","ice_skate","fishing_pole_and_fish","running_shirt_with_sash","ski","sled","curling_stone","video_game","joystick","game_die","spades","hearts","diamonds","clubs","black_joker","mahjong","flower_playing_cards"]},{name:"travel_and_places",display_name:TS.interop.i18n.t("Travel & Places","emoji")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_emoji_travel"></i></span>',tab_icon:"ts_icon_emoji_travel",tab_icon_name:"emoji_travel",emoji_names:["earth_africa","earth_americas","earth_asia","globe_with_meridians","world_map","japan","snow_capped_mountain","mountain","volcano","mount_fuji","camping","beach_with_umbrella","desert","desert_island","national_park","stadium","classical_building","building_construction","house_buildings","cityscape","derelict_house_building","house","house_with_garden","office","post_office","european_post_office","hospital","bank","hotel","love_hotel","convenience_store","school","department_store","factory","japanese_castle","european_castle","wedding","tokyo_tower","statue_of_liberty","church","mosque","synagogue","shinto_shrine","kaaba","fountain","tent","foggy","night_with_stars","sunrise_over_mountains","sunrise","city_sunset","city_sunrise","bridge_at_night","hotsprings","milky_way","carousel_horse","ferris_wheel","roller_coaster","barber","circus_tent","performing_arts","frame_with_picture","art","slot_machine","steam_locomotive","railway_car","bullettrain_side","bullettrain_front","train2","metro","light_rail","station","tram","monorail","mountain_railway","train","bus","oncoming_bus","trolleybus","minibus","ambulance","fire_engine","police_car","oncoming_police_car","taxi","oncoming_taxi","car","oncoming_automobile","blue_car","truck","articulated_lorry","tractor","bike","scooter","motor_scooter","busstop","motorway","railway_track","fuelpump","rotating_light","traffic_light","vertical_traffic_light","construction","octagonal_sign","anchor","boat","canoe","speedboat","passenger_ship","ferry","motor_boat","ship","airplane","small_airplane","airplane_departure","airplane_arriving","seat","helicopter","suspension_railway","mountain_cableway","aerial_tramway","satellite","rocket","flying_saucer","bellhop_bell","door","bed","couch_and_lamp","toilet","shower","bathtub","hourglass","hourglass_flowing_sand","watch","alarm_clock","stopwatch","timer_clock","mantelpiece_clock","clock12","clock1230","clock1","clock130","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","clock10","clock1030","clock11","clock1130","new_moon","waxing_crescent_moon","first_quarter_moon","moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","crescent_moon","new_moon_with_face","first_quarter_moon_with_face","last_quarter_moon_with_face","thermometer","sunny","full_moon_with_face","sun_with_face","star","star2","stars","cloud","partly_sunny","thunder_cloud_and_rain","mostly_sunny","barely_sunny","partly_sunny_rain","rain_cloud","snow_cloud","lightning","tornado","fog","wind_blowing_face","cyclone","rainbow","closed_umbrella","umbrella","umbrella_with_rain_drops","umbrella_on_ground","zap","snowflake","snowman","snowman_without_snow","comet","fire","droplet","ocean"]},{name:"objects",display_name:TS.interop.i18n.t("Objects","emoji")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_lightbulb_o"></i></span>',tab_icon:"ts_icon_lightbulb_o",tab_icon_name:"lightbulb_o",emoji_names:["mute","speaker","sound","loud_sound","loudspeaker","mega","postal_horn","bell","no_bell","musical_score","musical_note","notes","studio_microphone","level_slider","control_knobs","microphone","headphones","radio","saxophone","guitar","musical_keyboard","trumpet","violin","drum_with_drumsticks","iphone","calling","phone","telephone_receiver","pager","fax","battery","electric_plug","computer","desktop_computer","printer","keyboard","three_button_mouse","trackball","minidisc","floppy_disk","cd","dvd","movie_camera","film_frames","film_projector","clapper","tv","camera","camera_with_flash","video_camera","vhs","mag","mag_right","microscope","telescope","satellite_antenna","candle","bulb","flashlight","izakaya_lantern","notebook_with_decorative_cover","closed_book","book","green_book","blue_book","orange_book","books","notebook","ledger","page_with_curl","scroll","page_facing_up","newspaper","rolled_up_newspaper","bookmark_tabs","bookmark","label","moneybag","yen","dollar","euro","pound","money_with_wings","credit_card","chart","currency_exchange","heavy_dollar_sign","email","e-mail","incoming_envelope","envelope_with_arrow","outbox_tray","inbox_tray","package","mailbox","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","postbox","ballot_box_with_ballot","pencil2","black_nib","lower_left_fountain_pen","lower_left_ballpoint_pen","lower_left_paintbrush","lower_left_crayon","memo","briefcase","file_folder","open_file_folder","card_index_dividers","date","calendar","spiral_note_pad","spiral_calendar_pad","card_index","chart_with_upwards_trend","chart_with_downwards_trend","bar_chart","clipboard","pushpin","round_pushpin","paperclip","linked_paperclips","straight_ruler","triangular_ruler","scissors","card_file_box","file_cabinet","wastebasket","lock","unlock","lock_with_ink_pen","closed_lock_with_key","key","old_key","hammer","pick","hammer_and_pick","hammer_and_wrench","dagger_knife","crossed_swords","gun","bow_and_arrow","shield","wrench","nut_and_bolt","gear","compression","alembic","scales","link","chains","syringe","pill","smoking","coffin","funeral_urn","moyai","oil_drum","crystal_ball","shopping_trolley"]},{name:"symbols",display_name:TS.interop.i18n.t("Symbols","emoji")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_heart_o"></i></span>',tab_icon:"ts_icon_heart_o",tab_icon_name:"heart_o",emoji_names:["atm","put_litter_in_its_place","potable_water","wheelchair","mens","womens","restroom","baby_symbol","wc","passport_control","customs","baggage_claim","left_luggage","warning","children_crossing","no_entry","no_entry_sign","no_bicycles","no_smoking","do_not_litter","non-potable_water","no_pedestrians","no_mobile_phones","underage","radioactive_sign","biohazard_sign","arrow_up","arrow_upper_right","arrow_right","arrow_lower_right","arrow_down","arrow_lower_left","arrow_left","arrow_upper_left","arrow_up_down","left_right_arrow","leftwards_arrow_with_hook","arrow_right_hook","arrow_heading_up","arrow_heading_down","arrows_clockwise","arrows_counterclockwise","back","end","on","soon","top","place_of_worship","atom_symbol","om_symbol","star_of_david","wheel_of_dharma","yin_yang","latin_cross","orthodox_cross","star_and_crescent","peace_symbol","menorah_with_nine_branches","six_pointed_star","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","twisted_rightwards_arrows","repeat","repeat_one","arrow_forward","fast_forward","black_right_pointing_double_triangle_with_vertical_bar","black_right_pointing_triangle_with_double_vertical_bar","arrow_backward","rewind","black_left_pointing_double_triangle_with_vertical_bar","arrow_up_small","arrow_double_up","arrow_down_small","arrow_double_down","double_vertical_bar","black_square_for_stop","black_circle_for_record","eject","cinema","low_brightness","high_brightness","signal_strength","vibration_mode","mobile_phone_off","female_sign","male_sign","medical_symbol","recycle","fleur_de_lis","trident","name_badge","beginner","o","white_check_mark","ballot_box_with_check","heavy_check_mark","heavy_multiplication_x","x","negative_squared_cross_mark","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","curly_loop","loop","part_alternation_mark","eight_spoked_asterisk","eight_pointed_black_star","sparkle","bangbang","interrobang","question","grey_question","grey_exclamation","exclamation","wavy_dash","copyright","registered","tm","hash","keycap_star","zero","one","two","three","four","five","six","seven","eight","nine","keycap_ten","100","capital_abcd","abcd","1234","symbols","abc","a","ab","b","cl","cool","free","information_source","id","m","new","ng","o2","ok","parking","sos","up","vs","koko","sa","u6708","u6709","u6307","ideograph_advantage","u5272","u7121","u7981","accept","u7533","u5408","u7a7a","congratulations","secret","u55b6","u6e80","black_small_square","white_small_square","white_medium_square","black_medium_square","white_medium_small_square","black_medium_small_square","black_large_square","white_large_square","large_orange_diamond","large_blue_diamond","small_orange_diamond","small_blue_diamond","small_red_triangle","small_red_triangle_down","diamond_shape_with_a_dot_inside","radio_button","black_square_button","white_square_button","white_circle","black_circle","red_circle","large_blue_circle"]},{name:"flags",display_name:TS.interop.i18n.t("Flags","emoji")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_flag"></i></span>',tab_icon:"ts_icon_flag",tab_icon_name:"flag",emoji_names:["checkered_flag","triangular_flag_on_post","crossed_flags","waving_black_flag","waving_white_flag","rainbow-flag","flag-ac","flag-ad","flag-ae","flag-af","flag-ag","flag-ai","flag-al","flag-am","flag-ao","flag-aq","flag-ar","flag-as","flag-at","flag-au","flag-aw","flag-ax","flag-az","flag-ba","flag-bb","flag-bd","flag-be","flag-bf","flag-bg","flag-bh","flag-bi","flag-bj","flag-bl","flag-bm","flag-bn","flag-bo","flag-bq","flag-br","flag-bs","flag-bt","flag-bv","flag-bw","flag-by","flag-bz","flag-ca","flag-cc","flag-cd","flag-cf","flag-cg","flag-ch","flag-ci","flag-ck","flag-cl","flag-cm","cn","flag-co","flag-cp","flag-cr","flag-cu","flag-cv","flag-cw","flag-cx","flag-cy","flag-cz","de","flag-dg","flag-dj","flag-dk","flag-dm","flag-do","flag-dz","flag-ea","flag-ec","flag-ee","flag-eg","flag-eh","flag-er","es","flag-et","flag-eu","flag-fi","flag-fj","flag-fk","flag-fm","flag-fo","fr","flag-ga","gb","flag-gd","flag-ge","flag-gf","flag-gg","flag-gh","flag-gi","flag-gl","flag-gm","flag-gn","flag-gp","flag-gq","flag-gr","flag-gs","flag-gt","flag-gu","flag-gw","flag-gy","flag-hk","flag-hm","flag-hn","flag-hr","flag-ht","flag-hu","flag-ic","flag-id","flag-ie","flag-il","flag-im","flag-in","flag-io","flag-iq","flag-ir","flag-is","it","flag-je","flag-jm","flag-jo","jp","flag-ke","flag-kg","flag-kh","flag-ki","flag-km","flag-kn","flag-kp","kr","flag-kw","flag-ky","flag-kz","flag-la","flag-lb","flag-lc","flag-li","flag-lk","flag-lr","flag-ls","flag-lt","flag-lu","flag-lv","flag-ly","flag-ma","flag-mc","flag-md","flag-me","flag-mf","flag-mg","flag-mh","flag-mk","flag-ml","flag-mm","flag-mn","flag-mo","flag-mp","flag-mq","flag-mr","flag-ms","flag-mt","flag-mu","flag-mv","flag-mw","flag-mx","flag-my","flag-mz","flag-na","flag-nc","flag-ne","flag-nf","flag-ng","flag-ni","flag-nl","flag-no","flag-np","flag-nr","flag-nu","flag-nz","flag-om","flag-pa","flag-pe","flag-pf","flag-pg","flag-ph","flag-pk","flag-pl","flag-pm","flag-pn","flag-pr","flag-ps","flag-pt","flag-pw","flag-py","flag-qa","flag-re","flag-ro","flag-rs","ru","flag-rw","flag-sa","flag-sb","flag-sc","flag-sd","flag-se","flag-sg","flag-sh","flag-si","flag-sj","flag-sk","flag-sl","flag-sm","flag-sn","flag-so","flag-sr","flag-ss","flag-st","flag-sv","flag-sx","flag-sy","flag-sz","flag-ta","flag-tc","flag-td","flag-tf","flag-tg","flag-th","flag-tj","flag-tk","flag-tl","flag-tm","flag-tn","flag-to","flag-tr","flag-tt","flag-tv","flag-tw","flag-tz","flag-ua","flag-ug","flag-um","flag-un","us","flag-uy","flag-uz","flag-va","flag-vc","flag-ve","flag-vg","flag-vi","flag-vn","flag-vu","flag-wf","flag-ws","flag-xk","flag-ye","flag-yt","flag-za","flag-zm","flag-zw","flag-england","flag-scotland","flag-wales"]}];h.forEach(function(e){TS.emoji.spliceSkinToneVariationsIntoAnArrayOfEmojiNames(e.emoji_names)});var T=function e(){TS.emoji.setUpEmoji()};var v=function e(){if(TS.client&&TS.model.ms_logged_in_once){TS.view.rebuildMentions();TS.view.rebuildStars();TS.model.previewed_file_id&&TS.client.ui.files.rebuildFilePreview()}};var b=function e(){if(g.unaltered_data){g.data=JSON.parse(JSON.stringify(g.unaltered_data));g.inits={}}g.ts_init_colons()};var w=function e(){TS.emoji.setEmojiMode();TS.emoji.makeMenuLists();var n=!!TS.model.ms_logged_in_once;var t=true;TS.client&&n&&TS.client.ui.rebuildAll(t);TS.redux&&TS.interop&&TS.interop.redux&&TS.redux.dispatch(TS.interop.redux.features.customEmoji.updateCustomEmoji())};var y=function e(n,t,r){if(!g)return;var a=TS.storage.fetchCustomEmoji();if(!a){TS.logError("error_updating_emoji","Attempting to update custom emoji, but no custom emoji data is in local storage");return}if("undefined"===typeof t){delete TS.model.emoji_use[n];if(!a.data.hasOwnProperty(n))return;delete a.data[n];var o=_.remove(TS.model.emoji_map,{name:n});TS.boot_data.feature_emoji_by_id&&o.forEach(function(e){delete TS.model.emoji_map_by_id[e.id]})}else a.data[n]=t;TS.model.emoji_cache_ts=r;TS.storage.storeCustomEmoji({data:a.data,cache_ts:TS.model.emoji_cache_ts});k(a.data)};var k=function e(n){b();TS.emoji.ingestCustoms(n);w()};var j=function e(){var n=TS.model.all_custom_emoji;TS.interop.i18n.locale!==TS.interop.i18n.DEFAULT_LOCALE&&(n=E(n));return n};var x=function e(n){return!!o[n]};var O=function e(n){return TS.prefs&&TS.prefs.getPref(n)};var E=function e(n){return _.filter(n,function(e){return!x(e)})};var C=function e(){var n=TS.ui.frecency.getMostCommonWithPrefix(i,l);n=_.map(n,"id");if(!n.length)return[];var t=TS.emoji.getChosenSkinTone(true);var r=_.keyBy(TS.model.emoji_map,"id");var a=[];return _.chain(n).map(function(e){var n=r[e];if(!n)return null;var o=n.display_name;t&&n.is_skin&&(o=o+"::"+t);var i=S[o];if(!i)return null;if(TS.emoji.emojiHasAliases(i)){var s=i.names.split(" ");for(var l=0;l<s.length;l++){var c=TS.emoji.stripWrappingColons(s[l]);if(_.includes(a,c))return null}}a.push(o);return o}).compact().take(s).value()}})()},7302:function(e,n){var t=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=t)},7304:function(e,n,t){var r=t(7327)("wks");var a=t(7322);var o=t(7305).Symbol;var i="function"==typeof o;var s=e.exports=function(e){return r[e]||(r[e]=i&&o[e]||(i?o:a)("Symbol."+e))};s.store=r},7305:function(e,n){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},7307:function(e,n){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},7308:function(e,n,t){var r=t(7305);var a=t(7302);var o=t(7344);var i=t(7314);var s="prototype";var l=function(e,n,t){var c=e&l.F;var _=e&l.G;var u=e&l.S;var d=e&l.P;var f=e&l.B;var m=e&l.W;var p=_?a:a[n]||(a[n]={});var g=p[s];var S=_?r:u?r[n]:(r[n]||{})[s];var h,T,v;_&&(t=n);for(h in t){T=!c&&S&&void 0!==S[h];if(T&&h in p)continue;v=T?S[h]:t[h];p[h]=_&&"function"!=typeof S[h]?t[h]:f&&T?o(v,r):m&&S[h]==v?function(e){var n=function(n,t,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,t)}return new e(n,t,r)}return e.apply(this,arguments)};n[s]=e[s];return n}(v):d&&"function"==typeof v?o(Function.call,v):v;if(d){(p.virtual||(p.virtual={}))[h]=v;e&l.R&&g&&!g[h]&&i(g,h,v)}}};l.F=1;l.G=2;l.S=4;l.P=8;l.B=16;l.W=32;l.U=64;l.R=128;e.exports=l},7309:function(e,n,t){var r=t(7315);var a=t(7345);var o=t(7329);var i=Object.defineProperty;n.f=t(7310)?Object.defineProperty:function e(n,t,s){r(n);t=o(t,true);r(s);if(a)try{return i(n,t,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");"value"in s&&(n[t]=s.value);return n}},7310:function(e,n,t){e.exports=!t(7317)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},7311:function(e,n,t){var r=t(7350);var a=t(7325);e.exports=function(e){return r(a(e))}},7314:function(e,n,t){var r=t(7309);var a=t(7323);e.exports=t(7310)?function(e,n,t){return r.f(e,n,a(1,t))}:function(e,n,t){e[n]=t;return e}},7315:function(e,n,t){var r=t(7316);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},7316:function(e,n){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},7317:function(e,n){e.exports=function(e){try{return!!e()}catch(e){return true}}},7318:function(e,n){e.exports={}},7319:function(e,n,t){var r=t(7349);var a=t(7335);e.exports=Object.keys||function e(n){return r(n,a)}},7321:function(e,n,t){var r=t(7325);e.exports=function(e){return Object(r(e))}},7322:function(e,n){var t=0;var r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+r).toString(36))}},7323:function(e,n){e.exports=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}}},7324:function(e,n){n.f={}.propertyIsEnumerable},7325:function(e,n){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},7326:function(e,n,t){var r=t(7327)("keys");var a=t(7322);e.exports=function(e){return r[e]||(r[e]=a(e))}},7327:function(e,n,t){var r=t(7305);var a="__core-js_shared__";var o=r[a]||(r[a]={});e.exports=function(e){return o[e]||(o[e]={})}},7329:function(e,n,t){var r=t(7316);e.exports=function(e,n){if(!r(e))return e;var t,a;if(n&&"function"==typeof(t=e.toString)&&!r(a=t.call(e)))return a;if("function"==typeof(t=e.valueOf)&&!r(a=t.call(e)))return a;if(!n&&"function"==typeof(t=e.toString)&&!r(a=t.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},7330:function(e,n,t){"use strict";var r=t(7360)(true);t(7347)(String,"String",function(e){this._t=String(e);this._i=0},function(){var e=this._t;var n=this._i;var t;if(n>=e.length)return{value:void 0,done:true};t=r(e,n);this._i+=t.length;return{value:t,done:false}})},7331:function(e,n){var t=Math.ceil;var r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},7332:function(e,n){e.exports=true},7333:function(e,n,t){var r=t(7315);var a=t(7362);var o=t(7335);var i=t(7326)("IE_PROTO");var s=function(){};var l="prototype";var c=function(){var e=t(7346)("iframe");var n=o.length;var r="<";var a=">";var i;e.style.display="none";t(7366).appendChild(e);e.src="javascript:";i=e.contentWindow.document;i.open();i.write(r+"script"+a+"document.F=Object"+r+"/script"+a);i.close();c=i.F;while(n--)delete c[l][o[n]];return c()};e.exports=Object.create||function e(n,t){var o;if(null!==n){s[l]=r(n);o=new s;s[l]=null;o[i]=n}else o=c();return void 0===t?o:a(o,t)}},7334:function(e,n){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},7335:function(e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},7336:function(e,n,t){var r=t(7309).f;var a=t(7307);var o=t(7304)("toStringTag");e.exports=function(e,n,t){e&&!a(e=t?e:e.prototype,o)&&r(e,o,{configurable:true,value:n})}},7337:function(e,n,t){t(7367);var r=t(7305);var a=t(7314);var o=t(7318);var i=t(7304)("toStringTag");var s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(",");for(var l=0;l<s.length;l++){var c=s[l];var _=r[c];var u=_&&_.prototype;u&&!u[i]&&a(u,i,c);o[c]=o.Array}},7338:function(e,n,t){n.f=t(7304)},7339:function(e,n,t){var r=t(7305);var a=t(7302);var o=t(7332);var i=t(7338);var s=t(7309).f;e.exports=function(e){var n=a.Symbol||(a.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in n||s(n,e,{value:i.f(e)})}},7340:function(e,n){n.f=Object.getOwnPropertySymbols},7341:function(e,n,t){var r=t(7324);var a=t(7323);var o=t(7311);var i=t(7329);var s=t(7307);var l=t(7345);var c=Object.getOwnPropertyDescriptor;n.f=t(7310)?c:function e(n,t){n=o(n);t=i(t,true);if(l)try{return c(n,t)}catch(e){}if(s(n,t))return a(!r.f.call(n,t),n[t])}},7343:function(e,n,t){var r=t(7307);var a=t(7321);var o=t(7326)("IE_PROTO");var i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){e=a(e);if(r(e,o))return e[o];if("function"==typeof e.constructor&&e instanceof e.constructor)return e.constructor.prototype;return e instanceof Object?i:null}},7344:function(e,n,t){var r=t(7356);e.exports=function(e,n,t){r(e);if(void 0===n)return e;switch(t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,a){return e.call(n,t,r,a)}}return function(){return e.apply(n,arguments)}}},7345:function(e,n,t){e.exports=!t(7310)&&!t(7317)(function(){return 7!=Object.defineProperty(t(7346)("div"),"a",{get:function(){return 7}}).a})},7346:function(e,n,t){var r=t(7316);var a=t(7305).document;var o=r(a)&&r(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},7347:function(e,n,t){"use strict";var r=t(7332);var a=t(7308);var o=t(7348);var i=t(7314);var s=t(7307);var l=t(7318);var c=t(7361);var _=t(7336);var u=t(7343);var d=t(7304)("iterator");var f=!([].keys&&"next"in[].keys());var m="@@iterator";var p="keys";var g="values";var S=function(){return this};e.exports=function(e,n,t,h,T,v,b){c(t,n,h);var w=function(e){if(!f&&e in x)return x[e];switch(e){case p:return function n(){return new t(this,e)};case g:return function n(){return new t(this,e)}}return function n(){return new t(this,e)}};var y=n+" Iterator";var k=T==g;var j=false;var x=e.prototype;var O=x[d]||x[m]||T&&x[T];var E=!f&&O||w(T);var C=T?k?w("entries"):E:void 0;var A="Array"==n&&x.entries||O;var M,L,B;if(A){B=u(A.call(new e));if(B!==Object.prototype&&B.next){_(B,y,true);r||s(B,d)||i(B,d,S)}}if(k&&O&&O.name!==g){j=true;E=function e(){return O.call(this)}}r&&!b||!f&&!j&&x[d]||i(x,d,E);l[n]=E;l[y]=S;if(T){M={values:k?E:w(g),keys:v?E:w(p),entries:C};if(b)for(L in M)L in x||o(x,L,M[L]);else a(a.P+a.F*(f||j),n,M)}return M}},7348:function(e,n,t){e.exports=t(7314)},7349:function(e,n,t){var r=t(7307);var a=t(7311);var o=t(7363)(false);var i=t(7326)("IE_PROTO");e.exports=function(e,n){var t=a(e);var s=0;var l=[];var c;for(c in t)c!=i&&r(t,c)&&l.push(c);while(n.length>s)r(t,c=n[s++])&&(~o(l,c)||l.push(c));return l}},7350:function(e,n,t){var r=t(7334);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},7351:function(e,n,t){var r=t(7349);var a=t(7335).concat("length","prototype");n.f=Object.getOwnPropertyNames||function e(n){return r(n,a)}},7356:function(e,n){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},7359:function(e,n,t){t(7330);t(7337);e.exports=t(7338).f("iterator")},7360:function(e,n,t){var r=t(7331);var a=t(7325);e.exports=function(e){return function(n,t){var o=String(a(n));var i=r(t);var s=o.length;var l,c;if(i<0||i>=s)return e?"":void 0;l=o.charCodeAt(i);return l<55296||l>56319||i+1===s||(c=o.charCodeAt(i+1))<56320||c>57343?e?o.charAt(i):l:e?o.slice(i,i+2):c-56320+(l-55296<<10)+65536}}},7361:function(e,n,t){"use strict";var r=t(7333);var a=t(7323);var o=t(7336);var i={};t(7314)(i,t(7304)("iterator"),function(){return this});e.exports=function(e,n,t){e.prototype=r(i,{next:a(1,t)});o(e,n+" Iterator")}},7362:function(e,n,t){var r=t(7309);var a=t(7315);var o=t(7319);e.exports=t(7310)?Object.defineProperties:function e(n,t){a(n);var i=o(t);var s=i.length;var l=0;var c;while(s>l)r.f(n,c=i[l++],t[c]);return n}},7363:function(e,n,t){var r=t(7311);var a=t(7364);var o=t(7365);e.exports=function(e){return function(n,t,i){var s=r(n);var l=a(s.length);var c=o(i,l);var _;if(e&&t!=t)while(l>c){_=s[c++];if(_!=_)return true}else for(;l>c;c++)if((e||c in s)&&s[c]===t)return e||c||0;return!e&&-1}}},7364:function(e,n,t){var r=t(7331);var a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0}},7365:function(e,n,t){var r=t(7331);var a=Math.max;var o=Math.min;e.exports=function(e,n){e=r(e);return e<0?a(e+n,0):o(e,n)}},7366:function(e,n,t){var r=t(7305).document;e.exports=r&&r.documentElement},7367:function(e,n,t){"use strict";var r=t(7368);var a=t(7369);var o=t(7318);var i=t(7311);e.exports=t(7347)(Array,"Array",function(e,n){this._t=i(e);this._i=0;this._k=n},function(){var e=this._t;var n=this._k;var t=this._i++;if(!e||t>=e.length){this._t=void 0;return a(1)}if("keys"==n)return a(0,t);if("values"==n)return a(0,e[t]);return a(0,[t,e[t]])},"values");o.Arguments=o.Array;r("keys");r("values");r("entries")},7368:function(e,n){e.exports=function(){}},7369:function(e,n){e.exports=function(e,n){return{value:n,done:!!e}}},7370:function(e,n,t){t(7371);t(7376);t(7377);t(7378);e.exports=t(7302).Symbol},7371:function(e,n,t){"use strict";var r=t(7305);var a=t(7307);var o=t(7310);var i=t(7308);var s=t(7348);var l=t(7372).KEY;var c=t(7317);var _=t(7327);var u=t(7336);var d=t(7322);var f=t(7304);var m=t(7338);var p=t(7339);var g=t(7373);var S=t(7374);var h=t(7315);var T=t(7316);var v=t(7311);var b=t(7329);var w=t(7323);var y=t(7333);var k=t(7375);var j=t(7341);var x=t(7309);var O=t(7319);var E=j.f;var C=x.f;var A=k.f;var M=r.Symbol;var L=r.JSON;var B=L&&L.stringify;var F="prototype";var I=f("_hidden");var P=f("toPrimitive");var N={}.propertyIsEnumerable;var z=_("symbol-registry");var U=_("symbols");var W=_("op-symbols");var D=Object[F];var q="function"==typeof M;var $=r.QObject;var R=!$||!$[F]||!$[F].findChild;var G=o&&c(function(){return 7!=y(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(e,n,t){var r=E(D,n);r&&delete D[n];C(e,n,t);r&&e!==D&&C(D,n,r)}:C;var V=function(e){var n=U[e]=y(M[F]);n._k=e;return n};var J=q&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M};var K=function e(n,t,r){n===D&&K(W,t,r);h(n);t=b(t,true);h(r);if(a(U,t)){if(r.enumerable){a(n,I)&&n[I][t]&&(n[I][t]=false);r=y(r,{enumerable:w(0,false)})}else{a(n,I)||C(n,I,w(1,{}));n[I][t]=true}return G(n,t,r)}return C(n,t,r)};var H=function e(n,t){h(n);var r=g(t=v(t));var a=0;var o=r.length;var i;while(o>a)K(n,i=r[a++],t[i]);return n};var Y=function e(n,t){return void 0===t?y(n):H(y(n),t)};var X=function e(n){var t=N.call(this,n=b(n,true));if(this===D&&a(U,n)&&!a(W,n))return false;return!(t||!a(this,n)||!a(U,n)||a(this,I)&&this[I][n])||t};var Q=function e(n,t){n=v(n);t=b(t,true);if(n===D&&a(U,t)&&!a(W,t))return;var r=E(n,t);!r||!a(U,t)||a(n,I)&&n[I][t]||(r.enumerable=true);return r};var Z=function e(n){var t=A(v(n));var r=[];var o=0;var i;while(t.length>o)a(U,i=t[o++])||i==I||i==l||r.push(i);return r};var ee=function e(n){var t=n===D;var r=A(t?W:v(n));var o=[];var i=0;var s;while(r.length>i)!a(U,s=r[i++])||t&&!a(D,s)||o.push(U[s]);return o};if(!q){M=function e(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var n=d(arguments.length>0?arguments[0]:void 0);var t=function(e){this===D&&t.call(W,e);a(this,I)&&a(this[I],n)&&(this[I][n]=false);G(this,n,w(1,e))};o&&R&&G(D,n,{configurable:true,set:t});return V(n)};s(M[F],"toString",function e(){return this._k});j.f=Q;x.f=K;t(7351).f=k.f=Z;t(7324).f=X;t(7340).f=ee;o&&!t(7332)&&s(D,"propertyIsEnumerable",X,true);m.f=function(e){return V(f(e))}}i(i.G+i.W+i.F*!q,{Symbol:M});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ne.length>te;)f(ne[te++]);for(var re=O(f.store),ae=0;re.length>ae;)p(re[ae++]);i(i.S+i.F*!q,"Symbol",{for:function(e){return a(z,e+="")?z[e]:z[e]=M(e)},keyFor:function e(n){if(!J(n))throw TypeError(n+" is not a symbol!");for(var t in z)if(z[t]===n)return t},useSetter:function(){R=true},useSimple:function(){R=false}});i(i.S+i.F*!q,"Object",{create:Y,defineProperty:K,defineProperties:H,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});L&&i(i.S+i.F*(!q||c(function(){var e=M();return"[null]"!=B([e])||"{}"!=B({a:e})||"{}"!=B(Object(e))})),"JSON",{stringify:function e(n){var t=[n];var r=1;var a,o;while(arguments.length>r)t.push(arguments[r++]);o=a=t[1];if(!T(a)&&void 0===n||J(n))return;S(a)||(a=function(e,n){"function"==typeof o&&(n=o.call(this,e,n));if(!J(n))return n});t[1]=a;return B.apply(L,t)}});M[F][P]||t(7314)(M[F],P,M[F].valueOf);u(M,"Symbol");u(Math,"Math",true);u(r.JSON,"JSON",true)},7372:function(e,n,t){var r=t(7322)("meta");var a=t(7316);var o=t(7307);var i=t(7309).f;var s=0;var l=Object.isExtensible||function(){return true};var c=!t(7317)(function(){return l(Object.preventExtensions({}))});var _=function(e){i(e,r,{value:{i:"O"+ ++s,w:{}}})};var u=function(e,n){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!n)return"E";_(e)}return e[r].i};var d=function(e,n){if(!o(e,r)){if(!l(e))return true;if(!n)return false;_(e)}return e[r].w};var f=function(e){c&&m.NEED&&l(e)&&!o(e,r)&&_(e);return e};var m=e.exports={KEY:r,NEED:false,fastKey:u,getWeak:d,onFreeze:f}},7373:function(e,n,t){var r=t(7319);var a=t(7340);var o=t(7324);e.exports=function(e){var n=r(e);var t=a.f;if(t){var i=t(e);var s=o.f;var l=0;var c;while(i.length>l)s.call(e,c=i[l++])&&n.push(c)}return n}},7374:function(e,n,t){var r=t(7334);e.exports=Array.isArray||function e(n){return"Array"==r(n)}},7375:function(e,n,t){var r=t(7311);var a=t(7351).f;var o={}.toString;var i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var s=function(e){try{return a(e)}catch(e){return i.slice()}};e.exports.f=function e(n){return i&&"[object Window]"==o.call(n)?s(n):a(r(n))}},7376:function(e,n){},7377:function(e,n,t){t(7339)("asyncIterator")},7378:function(e,n,t){t(7339)("observable")},942:function(e,n,t){"use strict";n.__esModule=true;var r=t(1336);var a=l(r);var o=t(1348);var i=l(o);var s="function"===typeof i.default&&"symbol"===typeof a.default?function(e){return typeof e}:function(e){return e&&"function"===typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function l(e){return e&&e.__esModule?e:{default:e}}n.default="function"===typeof i.default&&"symbol"===s(a.default)?function(e){return"undefined"===typeof e?"undefined":s(e)}:function(e){return e&&"function"===typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":"undefined"===typeof e?"undefined":s(e)}}},[2453]);